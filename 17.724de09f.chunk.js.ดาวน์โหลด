(this["webpackJsonphosting-ui"]=this["webpackJsonphosting-ui"]||[]).push([[17,4],{1293:function(e,t,a){"use strict";a.r(t);var n,s=a(69),r=a(19),i=a(38),c=a(187),o=a(188),l=a(190),d=a(191),p=a(2),u=a.n(p),b=a(615),h=a(613),j=a(1230),f=a(826),m=a(688),O=a(1266),g=a(29),_=a(646),v=a(683),x=a(685),C=a(728),y=a(47),w=a(78),k=a(40),N=a(28),S=a(690),E=a(8),M=a(204),F=a(18),D=a(1262),T=a(679),P=a(596),I=(a(632),a(84)),L=a(93),A=(a(667),a(620)),H=a(1255),R=a(1256),V=a(1257),B=a(1258),U=a(1259),Z=a(1260),q=a(1261),z=a(822),Q=a(743),Y=a(611),X=a(650),G=a(691),W=a(4),K=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={copied:!1,turnOffCopiedCallback:void 0},n}return Object(o.a)(a,[{key:"externalLink",get:function(){return I.i(this.props.file,!1,this.props.customDomain)}},{key:"isAudio",get:function(){return this.props.file.mime_type===I.c.mp3}},{key:"isVideo",get:function(){return this.props.file.mime_type===I.c.mp4}},{key:"previewTooltip",get:function(){return"Preview"}},{key:"render",value:function(){var e=this;return Object(W.jsxs)("div",{className:(this.props.className?this.props.className+" ":"")+"action-round-btns-wrp",children:[!this.props.file.is_folder&&(this.props.file.is_text_based?Object(W.jsx)(P.a,{text:"Edit",disabled:this.props.editProcessing||this.props.disabled,children:Object(W.jsx)(T.a,{className:"btn-sm-round",disabled:this.props.editProcessing||this.props.disabled||"pdf"===this.props.file.extension,onClick:function(t){return e.props.handleShowEditModal(t,e.props.file)},children:Object(W.jsx)(H.a,{})})}):Object(W.jsx)(P.a,{text:this.previewTooltip,disabled:this.props.disabled,children:Object(W.jsxs)(T.a,{className:"btn-sm-round",disabled:this.props.disabled,onClick:function(){return e.props.handleShowImagePreviewModal(e.props.file)},children:[this.isAudio&&Object(W.jsx)(R.a,{}),this.isVideo&&Object(W.jsx)(V.a,{}),!this.isAudio&&!this.isVideo&&Object(W.jsx)(B.a,{})]})})),!this.props.file.is_folder&&Object(W.jsx)(P.a,{className:"file_action_btn_copy_path",text:this.state.copied?"Copied!":"Copy full path",disabled:this.props.disabled,children:Object(W.jsx)(Q.CopyToClipboard,{text:this.externalLink,onCopy:function(){clearTimeout(e.state.turnOffCopiedCallback),e.setState({copied:!0,turnOffCopiedCallback:setTimeout((function(){e.setState({copied:!1,turnOffCopiedCallback:void 0})}),1e3)})},children:Object(W.jsx)(T.a,{className:"btn-sm-round",disabled:this.props.disabled,children:Object(W.jsx)(U.a,{})})})}),Object(W.jsx)(Y.a,{triggerElm:Object(W.jsx)(P.a,{text:"More",disabled:this.props.disabled,children:Object(W.jsx)(T.a,{className:"btn-sm-round",disabled:this.props.disabled,children:Object(W.jsx)(X.a,{})})}),disabled:this.props.disabled,children:Object(W.jsxs)(W.Fragment,{children:[!this.props.file.is_folder&&Object(W.jsxs)(T.a,{className:"-menu-item",href:this.externalLink,target:"_blank",disabled:this.props.disabled,children:[Object(W.jsx)(G.a,{size:14})," Open in tab"]}),Object(W.jsxs)(T.a,{className:"-menu-item",onClick:function(t){t.stopPropagation(),t.preventDefault(),e.props.handleShowRenameModal(e.props.file)},disabled:this.props.disabled,children:[Object(W.jsx)(Z.a,{})," Rename"]}),!this.props.file.is_folder&&Object(W.jsxs)(T.a,{className:"-menu-item",onClick:function(t){t.preventDefault(),e.props.handleShowMoveModal(e.props.file)},children:[Object(W.jsx)(q.a,{})," Move to folder"]}),Object(W.jsx)("div",{className:"-divider"}),Object(W.jsxs)(T.a,{className:"-menu-item -red-text",onClick:function(t){t.stopPropagation(),t.preventDefault(),e.props.handleShowDeleteModal(e.props.file)},disabled:this.props.disabled,children:[Object(W.jsx)(z.a,{})," ",this.props.file.is_folder?"Delete folder":"Delete"]})]})})]})}}]),a}(u.a.Component),J=a(666),$=a(5),ee=a(283),te=a(282),ae=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).displayNameTooltip=void 0,n.validFileName=void 0,n.timeoutId=void 0,n.handleClickFolder=function(e){e.preventDefault(),e.stopPropagation(),n.props.editProcessing||n.action_is_disabled||n.props.handleEnterFolder(n.props.file)},n.handleCloseError=function(){n.props.deleteFileUploaded(n.props.file)},n.state={displaySuccess:!1,displayAction:"undefined"===typeof n.props.processing_status,displayError:!(n.props.processing_status!==F.a.Error)},n.transitionEndUploaded=n.transitionEndUploaded.bind(Object(M.a)(n)),n.validFileName=I.o(n.props.file.base_name),n.displayNameTooltip=n.validFileName!==n.props.file.base_name,n.timeoutId=void 0,n}return Object(o.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.file&&this.props.file.base_name!==e.file.base_name&&(this.validFileName=I.o(e.file.base_name),this.displayNameTooltip=this.validFileName!==e.file.base_name),!0}},{key:"componentWillUnmount",value:function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.props.file.processing_status&&!this.props.file.processing&&this.props.setProcessingStatus(this.props.file,void 0)}},{key:"componentDidUpdate",value:function(e,t,a){if(this.props.processing_status!==e.processing_status)switch(this.props.processing_status){case F.a.NewFolder:case F.a.Uploaded:this.setState({displaySuccess:!0,displayError:!1,displayAction:!1});break;case F.a.Error:this.setState({displayError:!0,displaySuccess:!1,displayAction:!1});break;default:"undefined"===typeof this.props.processing_status&&this.setState({displayError:!1,displaySuccess:!1,displayAction:!0})}}},{key:"transitionEndUploaded",value:function(){var e=this;this.state.displaySuccess&&(this.timeoutId=setTimeout((function(){e.timeoutId=void 0,e.setState({displaySuccess:!1}),e.props.setProcessingStatus(e.props.file,void 0)}),this.props.file.is_folder?2500:4e3))}},{key:"isIndex",get:function(){return"index.html"===this.props.file.base_name_lowercased&&this.props.file.path===this.props.space.id+"/index.html"}},{key:"externalLink",get:function(){return I.i(this.props.file,!0,this.props.customDomain)}},{key:"action_is_disabled",get:function(){return"DELETED"===this.props.space.state||"BANNED"===this.props.space.state}},{key:"render",value:function(){var e=this;return this.props.file.processing?Object(W.jsxs)("tr",{children:[Object(W.jsx)("td",{children:this.displayNameTooltip?Object(W.jsx)("div",{className:"w3s-disabled-color cursor-default -overflow-text",children:Object(W.jsx)(P.a,{text:this.props.file.base_name,fileName:!0,children:this.validFileName})}):Object(W.jsx)("div",{className:"w3s-disabled-color cursor-default -overflow-text",children:this.validFileName})}),Object(W.jsx)("td",{className:"-tablemobile w3s-text-align-right cursor-default w3s-disabled-color",children:L.a(this.props.file.size)}),Object(W.jsx)("td",{className:"-tablemobile w3s-text-align-right cursor-default w3s-disabled-color",children:this.props.file.last_modified&&Object(W.jsx)(P.a,{text:Object(g.b)(this.props.file.last_modified),children:Object(A.c)(this.props.file.last_modified)})}),this.props.processing_status===F.a.Error&&Object(W.jsx)("td",{children:Object(W.jsxs)("div",{className:(this.state.displayError?"-action-in-visible ":"")+"d-flex justify-content-end align-items-center w3s-disabled-color -action-in",children:[Object(W.jsx)(P.a,{text:this.props.file.processing_status_error,children:Object(W.jsx)(ee.a,{})}),Object(W.jsx)(P.a,{text:"Close item",children:Object(W.jsx)("button",{className:"ml-3",children:Object(W.jsx)("span",{className:"close pr-2",onClick:this.handleCloseError,children:"x"})})})]})}),this.props.processing_status!==F.a.Error&&Object(W.jsx)("td",{children:Object(W.jsxs)("div",{className:"pr-1 w3s-disabled-color d-flex align-items-center justify-content-end",children:[Object(W.jsx)("span",{className:"mr-2",children:"Uploading..."}),Object(W.jsx)($.Spinner,{size:$.Spinner.utils.size.md})]})})]}):this.props.file.is_folder?Object(W.jsxs)("tr",{className:"folder-row"+(this.props.editProcessing||this.action_is_disabled?" disabled":""),children:[Object(W.jsx)("td",{onClick:this.handleClickFolder,children:Object(W.jsxs)(T.a,{variant:"std",className:"btn-link btn-inline folder-name-table-cell w3s-black-color -overflow-text",onClick:this.handleClickFolder,disabled:this.props.editProcessing||this.action_is_disabled,children:[Object(W.jsx)(J.a,{}),Object(W.jsx)("div",{children:this.props.file.name})]})}),Object(W.jsx)("td",{className:"-tablemobile w3s-text-align-right",onClick:this.handleClickFolder,children:"-"}),Object(W.jsx)("td",{className:"-tablemobile w3s-text-align-right",onClick:this.handleClickFolder,children:"-"}),this.props.processing_status===F.a.NewFolder?Object(W.jsx)("td",{className:(this.state.displaySuccess?"-action-in-visible ":"")+"w3s-text-align-right -action-in",onClick:this.handleClickFolder,onTransitionEnd:this.transitionEndUploaded,children:Object(W.jsx)(te.a,{})}):Object(W.jsx)("td",{className:"w3s-text-align-right file-action-row",onClick:this.handleClickFolder,children:Object(W.jsx)(K,Object(E.a)({className:"-action-in "+(this.state.displayAction?"-action-in-visible":""),disabled:this.action_is_disabled},this.props))})]}):Object(W.jsxs)("tr",{children:[Object(W.jsxs)("td",{children:[this.props.file.is_text_based||this.action_is_disabled?this.displayNameTooltip?Object(W.jsx)(P.a,{text:this.props.file.base_name,fileName:!0,children:Object(W.jsx)(T.a,{variant:"std",className:"btn-link btn-inline w3s-black-color -overflow-text",onClick:function(t){return e.props.handleShowEditModal(t,e.props.file)},disabled:this.props.editProcessing||this.action_is_disabled||"pdf"===this.props.file.extension,children:this.validFileName})}):Object(W.jsx)(T.a,{variant:"std",className:"btn-link btn-inline w3s-black-color -overflow-text",onClick:function(t){return e.props.handleShowEditModal(t,e.props.file)},disabled:this.props.editProcessing||this.action_is_disabled||"pdf"===this.props.file.extension,children:this.validFileName}):this.displayNameTooltip?Object(W.jsx)(P.a,{text:this.props.file.base_name,fileName:!0,children:Object(W.jsx)("a",{className:"w3s-black-color -overflow-text",href:this.externalLink,target:"_blank",rel:"noopener noreferrer",children:this.validFileName})}):Object(W.jsx)("a",{className:"w3s-black-color -overflow-text",href:this.externalLink,target:"_blank",rel:"noopener noreferrer",children:this.validFileName}),this.isIndex&&Object(W.jsx)(P.a,{text:"This will be used as the home page for visitors to your space",disabled:this.action_is_disabled,children:Object(W.jsx)(D.a,{className:"index-star"})})]}),Object(W.jsx)("td",{className:"-tablemobile cursor-default w3s-text-align-right",children:L.a(this.props.file.size)}),Object(W.jsx)("td",{className:"-tablemobile cursor-default w3s-text-align-right",children:this.props.file.last_modified?Object(W.jsx)(P.a,{text:Object(g.b)(this.props.file.last_modified),disabled:this.action_is_disabled,children:Object(A.c)(this.props.file.last_modified)}):"-"}),this.props.processing_status&&this.props.processing_status===F.a.Uploaded&&Object(W.jsx)("td",{children:Object(W.jsxs)("div",{className:(this.state.displaySuccess?"-action-in-visible ":"")+"d-flex align-items-center justify-content-end pr-2 -action-in",onTransitionEnd:this.transitionEndUploaded,children:[Object(W.jsx)("span",{className:"mr-2",children:"Uploaded"}),Object(W.jsx)(te.a,{})]})}),(!this.props.processing_status||this.props.processing_status!==F.a.Uploaded)&&Object(W.jsx)("td",{className:"w3s-text-align-right file-action-row",children:Object(W.jsx)(K,Object(E.a)({className:"-action-in "+(this.state.displayAction?"-action-in-visible":""),disabled:this.action_is_disabled},this.props))})]})}}]),a}(u.a.Component),ne=Object(N.b)((function(e){return{}}),(function(e){return Object(k.bindActionCreators)({deleteFileUploaded:w.c,setProcessingStatus:w.o},e)}))(ae),se=a(36),re=a(194),ie=(a(823),a(189)),ce=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.props.close()},n.state={},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(W.jsx)(ie.a,{show:this.props.show,size:"lg",className:"quota-error-modal",title:this.props.meta.title,displayCancel:!1,okText:"Got it",handleClose:this.handleClose,handleOk:this.handleClose,children:this.props.meta.contents})}}]),a}(u.a.Component),oe=a(598),le=a(665),de=a(692),pe=a(605),ue=a(619),be=a(602),he=a(606);a(824);!function(e){e[e.Name=1]="Name",e[e.Size=2]="Size",e[e.Modified=3]="Modified"}(n||(n={}));var je,fe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;Object(c.a)(this,a),(s=t.call(this,e)).timerID=void 0,s.setEditorLocalStorage=function(e){s.props.setEditorContent({url:"https://".concat(s.state.spaceId,".").concat(Object(g.f)()),file_path:null===e||void 0===e?void 0:e.path,domainNameForSpace:s.domainNameForSpace||null})},s.handleShowMoveModalSingle=function(e){$.logging.logDebug("FileBrowser -> handleShowMoveModalSingle() -> file",e),s.setState({showMoveModal:!0,selectedFiles:[e]})},s.handleOpenFolder=function(e){$.logging.logDebug("FileBrowser -> handleOpenFolder() -> folder",e),s.props.setSpacePath(e.path)},s.handleFetchFiles=function(){s.props.fetchFiles(s.state.spaceId,s.props.main_state,(function(){s.setState({files_fetched:!0})}))},s.handleShowDeleteModal=function(e){s.setState({showDeleteModal:!0,selectedFiles:[e]})},s.handleShowImagePreviewModal=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({showImagePreviewModal:!0,previewImage:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleShowEditModal=function(e,t){s.props.setHideTooltip(!0),s.setState({editProcessing:!0,selectedFiles:[t]}),s.setEditorLocalStorage(t),s.props.history.push("/space/".concat(s.state.spaceId,"/editor"))},s.handleCloseEditModal=function(){s.props.setHideTooltip(!1),s.setState({selectedFiles:[],editProcessing:!1})},s.handleShowDeleteSpaceModal=function(){s.setState({showDeleteSpaceModal:!0})};var o=e.match.params.spaceId;return e.selectedPath&&""!==e.selectedPath||e.setSpacePath(o+"/"),s.state={files_fetched:!1,selectedFiles:[],showDeleteModal:!1,showRenameModal:!1,showNewFolderModal:!1,showDeleteSpaceModal:!1,showResetSpaceModal:!1,showImagePreviewModal:!1,showMoveModal:!1,showNewFileModal:!1,renameFileName:"",previewImage:void 0,copied:!1,status:"",fileUploading:!1,editProcessing:!1,spaceId:o,showQuotaErrorModal:!1,quotaErrorMeta:{title:"",contents:""},sortingSelected:n.Modified,sortingAscending:!0},s}return Object(o.a)(a,[{key:"space",get:function(){var e=this,t=this.props.spaces.filter((function(t){return t.id===e.state.spaceId}));return t.length>0?t[0]:void 0}},{key:"spaceTechnology",get:function(){return Object(he.a)(this.space)}},{key:"componentDidMount",value:function(){"undefined"!==typeof this.space&&"DELETED"!==this.space.state&&"BANNED"!==this.space.state?this.handleFetchFiles():this.props.history.push("/")}},{key:"componentWillUnmount",value:function(){this.timerID&&clearInterval(this.timerID)}},{key:"hasDomainForSpace",get:function(){var e=this;return this.props.domains.filter((function(t){return t.spaceId===e.state.spaceId&&!t.status.DOMAIN_LOST&&!t.status.DOMAIN_CLEANUP_COMPLETED&&!t.active})).length>0}},{key:"domainNameForSpace",get:function(){var e=this,t=this.props.domains.filter((function(t){return t.spaceId===e.state.spaceId&&t.status.ORDER_PROCESSING_COMPLETED&&!t.status.DOMAIN_LOST&&!t.status.DOMAIN_CLEANUP_COMPLETED&&!t.active}));if(t.length>0)return t[0].domainName}},{key:"spaceUrl",get:function(){var e,t=this,a=this.domainNameForSpace,n="dynamic"===(null===(e=this.props.spaces.filter((function(e){return e.id===t.state.spaceId}))[0])||void 0===e?void 0:e.type);return a?"https://".concat(a):"https://".concat(this.state.spaceId).concat(n?".dynspaces":"",".").concat(Object(g.f)())}},{key:"render",value:function(){var e,t=this;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(b.a,{className:"justify-content-between mt-3 mr-md-2 -mobile-row",children:[Object(W.jsx)("span",{className:"ml-3",children:Object(W.jsx)(re.a,{text:"Back",to:"/spaces"})}),Object(W.jsxs)(b.a,{className:"direction-reverse d-none d-md-flex",children:[Object(W.jsx)("div",{className:"btn-wrp mr-12 -mobile-mr",children:Object(W.jsx)(pe.a,{variant:"dark",can_be_upgraded:this.props.main_state.subscription_plan.can_be_upgraded})}),Object(W.jsx)("div",{className:"btn-wrp mr-12",children:this.hasDomainForSpace?Object(W.jsx)($.Button,{variant:"tertiary",onClick:function(){$.GoogleAnalytics.sendEvent({name:'Clicked on "'.concat("free"===t.props.main_state.subscription_plan.name?"My domain":"My domains",'" on ').concat(t.props.main_state.subscription_plan.cname," plan"),category:"Domains"}),t.props.history.push("/domains")},children:"free"===this.props.main_state.subscription_plan.name?"My domain":"My domains"}):Object(W.jsx)($.Button,{variant:"tertiary",onClick:function(){$.GoogleAnalytics.sendEvent({name:'Clicked on "Get a domain" on '.concat(t.props.main_state.subscription_plan.cname," plan"),category:"Domains"}),t.props.history.push("/domains/start/".concat(t.state.spaceId))},children:"Get a domain"})})]})]}),Object(W.jsx)(b.a,{className:"-mobile-row",children:Object(W.jsx)(h.a,{children:Object(W.jsx)("div",{className:"file-table",children:Object(W.jsx)("div",{className:"-header",children:Object(W.jsxs)("div",{className:"-info-wrapper",children:[Object(W.jsxs)("div",{className:"-header",children:[Object(W.jsx)(ue.a,{size:be.a.Large,spaceState:null===(e=this.space)||void 0===e?void 0:e.state,spaceTechnology:this.spaceTechnology}),Object(W.jsxs)("div",{className:"-inner-wrapper",children:[Object(W.jsx)("h3",{className:"-title",children:this.state.spaceId}),Object(W.jsx)("p",{children:Object(W.jsx)("a",{href:this.spaceUrl,target:"_blank",rel:"noopener noreferrer",children:this.spaceUrl})})]})]}),Object(W.jsx)("div",{className:"-body",children:Object(W.jsx)("p",{children:this.state.status})})]})})})})})]})}}]),a}(u.a.Component),me=Object(se.j)(Object(N.b)((function(e){return{spaces:e.main.spaces,domains:e.domains.orders,main_state:e.main,files_uploaded:e.main.files_uploaded,selectedPath:e.main.space_path}}),(function(e){return Object(k.bindActionCreators)({fetchFiles:w.d,setHideTooltip:w.l,setSpacePath:w.p,setEditorContent:w.k},e)}))(fe)),Oe=a(198),ge=a(807),_e=["title","titleId"];function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ve.apply(this,arguments)}function xe(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Ce(e,t){var a=e.title,n=e.titleId,s=xe(e,_e);return p.createElement("svg",ve({width:25,height:18,viewBox:"0 0 25 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),a?p.createElement("title",{id:n},a):null,je||(je=p.createElement("path",{d:"M12.207 5.58203C12.0234 5.39844 11.7266 5.39844 11.543 5.58203L7.70312 9.42188C7.51953 9.60547 7.51953 9.90234 7.70312 10.0859L7.92578 10.3086C8.10938 10.4922 8.40625 10.4922 8.58984 10.3086L11.2539 7.64453V13.5312C11.2539 13.7891 11.4648 14 11.7227 14H12.0352C12.293 14 12.5039 13.7891 12.5039 13.5312V7.64453L15.168 10.3086C15.3516 10.4922 15.6484 10.4922 15.832 10.3086L16.0547 10.0859C16.2383 9.90234 16.2383 9.60547 16.0547 9.42188L12.207 5.58203ZM22.332 8.32812C22.4414 7.94141 22.5 7.53906 22.5 7.125C22.5 4.70703 20.543 2.75 18.125 2.75C17.4727 2.75 16.8398 2.89063 16.25 3.17188C15.0156 1.41406 12.957 0.25 10.625 0.25C6.9375 0.25 3.91797 3.16016 3.75781 6.82031C1.53125 7.60156 0 9.71484 0 12.125C0 15.2344 2.51562 17.75 5.625 17.75H20C22.7617 17.75 25 15.5156 25 12.75C25 10.9141 23.9922 9.20312 22.332 8.32812ZM20 16.5H5.625C3.20703 16.5 1.25 14.543 1.25 12.125C1.25 9.90625 2.89844 8.07422 5.03906 7.78906C5.01172 7.57031 5 7.34766 5 7.125C5 4.01953 7.51953 1.5 10.625 1.5C12.9805 1.5 14.9961 2.94531 15.8359 5C16.4062 4.38672 17.2188 4 18.125 4C19.8516 4 21.25 5.39844 21.25 7.125C21.25 7.84766 21.0039 8.51562 20.5898 9.04688C22.3828 9.32812 23.75 10.8789 23.75 12.75C23.75 14.8203 22.0703 16.5 20 16.5Z",fill:"white"})))}var ye,we=p.forwardRef(Ce),ke=(a.p,a(609)),Ne=(a(664),["title","titleId"]);function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Se.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Me(e,t){var a=e.title,n=e.titleId,s=Ee(e,Ne);return p.createElement("svg",Se({width:14,height:18,viewBox:"0 0 14 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),a?p.createElement("title",{id:n},a):null,ye||(ye=p.createElement("path",{d:"M13.0043 3.44138L10.0547 0.491774C9.73881 0.17513 9.31015 -0.00316254 8.86289 -0.00392914H1.6875C1.2398 -0.00244209 0.810905 0.176307 0.494658 0.493213C0.178412 0.810118 0.000555304 1.23938 0 1.68709L0 16.3121C0 16.7596 0.17779 17.1889 0.494257 17.5053C0.810725 17.8218 1.23995 17.9996 1.6875 17.9996H11.8125C12.2601 17.9996 12.6893 17.8218 13.0057 17.5053C13.3222 17.1889 13.5 16.7596 13.5 16.3121V4.6367C13.4993 4.1884 13.321 3.75862 13.0043 3.44138ZM12.2098 4.23943C12.2819 4.31094 12.333 4.40095 12.3574 4.49959H9V1.14216C9.09864 1.16655 9.18865 1.21764 9.26016 1.28982L12.2098 4.23943ZM11.8125 16.8746H1.6875C1.53832 16.8746 1.39524 16.8153 1.28975 16.7098C1.18426 16.6043 1.125 16.4613 1.125 16.3121V1.68709C1.125 1.5379 1.18426 1.39483 1.28975 1.28934C1.39524 1.18385 1.53832 1.12459 1.6875 1.12459H7.875V4.78084C7.87472 4.89172 7.89636 5.00156 7.93866 5.10406C7.98096 5.20655 8.0431 5.29967 8.12151 5.37808C8.19991 5.45648 8.29304 5.51862 8.39553 5.56093C8.49803 5.60323 8.60787 5.62487 8.71875 5.62459H12.375V16.3121C12.375 16.4613 12.3157 16.6043 12.2102 16.7098C12.1048 16.8153 11.9617 16.8746 11.8125 16.8746ZM10.125 10.5465V10.8277C10.125 10.9396 10.0806 11.0469 10.0014 11.126C9.92232 11.2051 9.81501 11.2496 9.70312 11.2496H7.3125V13.6402C7.3125 13.7521 7.26805 13.8594 7.18894 13.9385C7.10982 14.0176 7.00251 14.0621 6.89062 14.0621H6.60938C6.49749 14.0621 6.39018 14.0176 6.31106 13.9385C6.23195 13.8594 6.1875 13.7521 6.1875 13.6402V11.2496H3.79688C3.68499 11.2496 3.57768 11.2051 3.49856 11.126C3.41945 11.0469 3.375 10.9396 3.375 10.8277V10.5465C3.375 10.4346 3.41945 10.3273 3.49856 10.2482C3.57768 10.169 3.68499 10.1246 3.79688 10.1246H6.1875V7.73396C6.1875 7.62207 6.23195 7.51477 6.31106 7.43565C6.39018 7.35653 6.49749 7.31209 6.60938 7.31209H6.89062C7.00251 7.31209 7.10982 7.35653 7.18894 7.43565C7.26805 7.51477 7.3125 7.62207 7.3125 7.73396V10.1246H9.70312C9.81501 10.1246 9.92232 10.169 10.0014 10.2482C10.0806 10.3273 10.125 10.4346 10.125 10.5465Z",fill:"#282A35"})))}var Fe,De=p.forwardRef(Me),Te=(a.p,function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClick=function(e){e.preventDefault(),n.props.handleClick(e)},n.state={},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(W.jsx)(P.a,{text:"Create an empty text file",disabled:this.props.loading||this.props.disabled,children:Object(W.jsxs)("div",{className:"create-file-button",children:[Object(W.jsx)("div",{className:"d-none d-md-flex",children:Object(W.jsx)($.Button,{variant:"secondary",onClick:this.handleClick,disabled:this.props.loading||this.props.disabled,children:"New file"})}),Object(W.jsx)(T.a,{className:"btn-md-round d-sm-flex d-md-none green-border",variant:"flat",onClick:this.handleClick,disabled:this.props.loading||this.props.disabled,children:Object(W.jsx)(De,{})})]})})}}]),a}(u.a.Component)),Pe=["title","titleId"];function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ie.apply(this,arguments)}function Le(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Ae(e,t){var a=e.title,n=e.titleId,s=Le(e,Pe);return p.createElement("svg",Ie({width:20,height:16,viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),a?p.createElement("title",{id:n},a):null,Fe||(Fe=p.createElement("path",{d:"M18.125 3H10.625L8.49102 0.866016C8.37492 0.749949 8.2371 0.657886 8.08543 0.595085C7.93375 0.532283 7.77119 0.499974 7.60703 0.5H1.875C1.37772 0.5 0.900805 0.697544 0.549175 1.04917C0.197544 1.40081 0 1.87772 0 2.375L0 13.625C0 14.1223 0.197544 14.5992 0.549175 14.9508C0.900805 15.3025 1.37772 15.5 1.875 15.5H18.125C18.6223 15.5 19.0992 15.3025 19.4508 14.9508C19.8025 14.5992 20 14.1223 20 13.625V4.875C20 4.37772 19.8025 3.90081 19.4508 3.54917C19.0992 3.19754 18.6223 3 18.125 3ZM18.75 13.625C18.75 13.7908 18.6842 13.9497 18.5669 14.0669C18.4497 14.1842 18.2908 14.25 18.125 14.25H1.875C1.70924 14.25 1.55027 14.1842 1.43306 14.0669C1.31585 13.9497 1.25 13.7908 1.25 13.625V2.375C1.25 2.20924 1.31585 2.05027 1.43306 1.93306C1.55027 1.81585 1.70924 1.75 1.875 1.75H7.60703L9.74102 3.88398C9.85711 4.00005 9.99493 4.09211 10.1466 4.15492C10.2983 4.21772 10.4608 4.25003 10.625 4.25H18.125C18.2908 4.25 18.4497 4.31585 18.5669 4.43306C18.6842 4.55027 18.75 4.70924 18.75 4.875V13.625ZM13.2617 8.625H10.6055V5.96875C10.6055 5.84443 10.5561 5.7252 10.4682 5.63729C10.3803 5.54939 10.261 5.5 10.1367 5.5H9.82422C9.6999 5.5 9.58067 5.54939 9.49276 5.63729C9.40485 5.7252 9.35547 5.84443 9.35547 5.96875V8.625H6.69922C6.5749 8.625 6.45567 8.67439 6.36776 8.76229C6.27985 8.8502 6.23047 8.96943 6.23047 9.09375V9.40625C6.23047 9.53057 6.27985 9.6498 6.36776 9.73771C6.45567 9.82561 6.5749 9.875 6.69922 9.875H9.35547V12.5312C9.35547 12.6556 9.40485 12.7748 9.49276 12.8627C9.58067 12.9506 9.6999 13 9.82422 13H10.1367C10.261 13 10.3803 12.9506 10.4682 12.8627C10.5561 12.7748 10.6055 12.6556 10.6055 12.5312V9.875H13.2617C13.386 9.875 13.5053 9.82561 13.5932 9.73771C13.6811 9.6498 13.7305 9.53057 13.7305 9.40625V9.09375C13.7305 8.96943 13.6811 8.8502 13.5932 8.76229C13.5053 8.67439 13.386 8.625 13.2617 8.625Z",fill:"#282A35"})))}var He,Re=p.forwardRef(Ae),Ve=(a.p,a(130)),Be=a(608),Ue=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClick=function(e){e.preventDefault();var t=Be.c(n.props.main_state,n.props.space,"folder");if("0"!==t.code)return"quota"===t.context?n.props.addQuotaError(t):n.props.addModal({id:Object(g.g)(),dismissed:!1,type:"error",header:Object(W.jsx)(W.Fragment,{children:"Space temporarily closed"}),body:Object(W.jsx)(W.Fragment,{children:t.description}),dismissButtonText:"Got it"}),void n.setState({loading:!1});n.props.onClick(e)},n.state={},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(W.jsx)(P.a,{text:"Create a new folder",disabled:this.props.disabled,children:Object(W.jsxs)("div",{children:[Object(W.jsx)("div",{className:"d-none d-md-flex",children:Object(W.jsx)($.Button,{variant:"tertiary",onClick:this.handleClick,disabled:this.props.disabled,children:"New folder"})}),Object(W.jsx)(T.a,{className:"btn-md-round d-sm-flex d-md-none",variant:"tertiary",onClick:this.handleClick,disabled:this.props.disabled,children:Object(W.jsx)(Re,{})})]})})}}]),a}(u.a.Component),Ze=Object(N.b)((function(e){return{main_state:e.main}}),(function(e){return Object(k.bindActionCreators)({addModal:Ve.a,addQuotaError:oe.a},e)}))(Ue),qe=a(732),ze=a(696),Qe=a(698);!function(e){e[e.Name=1]="Name",e[e.Size=2]="Size",e[e.Modified=3]="Modified"}(He||(He={}));var Ye,Xe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).handleShowNewFolderModal=function(){n.setState({showNewFolderModal:!0,selectedFiles:[]})},n.handleShowResetSpaceModal=function(){var e=Be.b(n.props.main_state);"0"===e.code?n.setState({showResetSpaceModal:!0}):n.props.addQuotaError(e)},n.handleShowNewFileModal=function(){n.props.main_state.usage_status._out_of_quota?n.props.addQuotaError({code:"ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED",description:"Your space is temporarily closed, and creating a new file is not allowed.",meta:{header_text:"Space temporarily closed"}}):n.setState({showNewFileModal:!0,selectedFiles:[]})},n.handleCloseNewFileModal=function(){n.setState({showNewFileModal:!1,selectedFiles:[]})},n.handleCloseNewFolderModal=function(){n.setState({showNewFolderModal:!1,selectedFiles:[]})},n.handleCloseResetSpaceModal=function(e){$.logging.logDebug("handleCloseResetSpaceModal -> success: ",e),e?n.props.history.push("/"):n.setState({showResetSpaceModal:!1})},n.handleCloseImagePreviewModal=function(){n.setState({showImagePreviewModal:!1,previewImage:void 0})};var s=e.match.params.spaceId;return e.selectedPath&&""!==e.selectedPath||e.setSpacePath(s+"/"),n.state={files_fetched:!1,selectedFiles:[],showNewFolderModal:!1,showResetSpaceModal:!1,showImagePreviewModal:!1,showNewFileModal:!1,renameFileName:"",previewImage:void 0,copied:!1,status:"",fileUploading:!1,editProcessing:!1,spaceId:s,sortingSelected:He.Modified,sortingAscending:!0},n}return Object(o.a)(a,[{key:"space",get:function(){var e=this,t=this.props.spaces.filter((function(t){return t.id===e.state.spaceId}));return t.length>0?t[0]:void 0}},{key:"spaceVariantType",get:function(){return Object(he.b)(this.space)}},{key:"spaceTechnology",get:function(){return Object(he.a)(this.space)}},{key:"isDynamic",get:function(){return Object(he.c)(this.space)}},{key:"render",value:function(){var e,t,a=this;return Object(W.jsx)("div",{className:"-btns-wrapper",children:Object(W.jsxs)("div",{className:"-right-btn-wrapper",children:[Object(W.jsx)("div",{className:"-header-mobile-replace-tabs",children:"Files"}),Object(W.jsx)("div",{className:"btn-wrp mr-12 -mobile-mr",children:Object(W.jsx)(P.a,{text:"Reset space",children:Object(W.jsx)(T.a,{variant:"flat",className:"btn-md-round",onClick:this.handleShowResetSpaceModal,children:Object(W.jsx)(ge.a,{className:this.props.main_state.loading.includes("fetchFiles")?"loading-spin":""})})})}),Object(W.jsx)("div",{className:"btn-wrp mr-12 -mobile-mr",children:Object(W.jsx)(Ze,{space:this.space,onClick:this.handleShowNewFolderModal,disabled:this.props.main_state.loading.includes("fetchFiles")||this.props.selectedPath.split("/").length>=ke.b.MAX+2})}),Object(W.jsx)("div",{className:"btn-wrp mr-12 -mobile-mr",children:Object(W.jsx)(Te,{handleClick:this.handleShowNewFileModal,disabled:this.props.main_state.loading.includes("fetchFiles"),loading:this.props.main_state.loading.includes("fetchFiles")})}),Object(W.jsx)("div",{className:"btn-wrp -mobile-mr",children:Object(W.jsxs)(_.a,{space:this.space,active_path:this.props.selectedPath,innerProps:{noClick:!0,noKeyboard:!0},children:[Object(W.jsx)("div",{className:"btn-wrp -mobile-mr",children:Object(W.jsx)(_.a,{space:this.space,active_path:this.props.selectedPath,innerProps:{noDragEventsBubbling:!0},lite:!0,children:Object(W.jsxs)("div",{children:[Object(W.jsx)("div",{className:"d-none d-md-flex",children:Object(W.jsx)($.Button,{variant:"primary",children:"Upload files"})}),Object(W.jsx)("div",{children:Object(W.jsx)(P.a,{text:"Upload files",children:Object(W.jsx)(T.a,{className:"btn-md-round d-sm-flex d-md-none btn-color-green",variant:"flat",children:Object(W.jsx)(we,{})})})})]})})}),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(qe.a,{show:this.state.showNewFileModal,close:this.handleCloseNewFileModal,space:this.space,spaceId:this.state.spaceId,active_path:this.props.selectedPath,spaceVariantType:this.spaceVariantType,spaceTechnology:this.spaceTechnology}),Object(W.jsx)(ze.a,{show:this.state.showNewFolderModal,close:this.handleCloseNewFolderModal,path:this.props.selectedPath,spaceId:this.state.spaceId,existingFolders:null===(e=this.space)||void 0===e?void 0:e.folders,defaultName:Object(ke.g)(this.props.selectedPath,null===(t=this.space)||void 0===t?void 0:t.folders)}),this.state.showResetSpaceModal&&Object(W.jsx)(Qe.a,{show:!0,close:function(){return a.handleCloseResetSpaceModal(!1)},closeWithStatus:this.handleCloseResetSpaceModal,space_id:this.state.spaceId,resetFileUpload:function(){return a.props.resetFileUpload()}})]})]})})]})})}}]),a}(u.a.Component),Ge=Object(se.j)(Object(N.b)((function(e){return{spaces:e.main.spaces,domains:e.domains.orders,main_state:e.main,files_uploaded:e.main.files_uploaded,selectedPath:e.main.space_path}}),(function(e){return Object(k.bindActionCreators)({addQuotaError:oe.a,addNotification:y.a,dismissNotification:y.c,updateNotification:y.e,fetchFiles:w.d,setHideTooltip:w.l,resetFileUpload:w.h,setSpacePath:w.p,setDisplayFooter:w.i,setDisplayHeader:w.j,setEditorContent:w.k},e)}))(Xe)),We=a(43),Ke=a(1263),Je=a(1264),$e=a(1265),et=a(612),tt=a(630),at=a(631),nt=a(825),st=a.n(nt);!function(e){e.Files="files",e.Analytics="analytics",e.Upgrade="upgrade",e.Data="data",e.Environment="environment",e.PackageManager="package_manager"}(Ye||(Ye={}));var rt,it=function(e){var t=e.disabled,a=void 0!==t&&t,n=e.hasDomainForSpace,s=void 0!==n&&n,r=e.activeItem,i=void 0===r?Ye.Files:r,c=e.subScriptionPlan,o=e.isDynamicSpace,l=void 0!==o&&o,d=e.spaceId,u=e.history,b=e.onClickItem,h=e.id,j=e.className,f=Object(p.useState)(!1),m=Object(We.a)(f,2),O=m[0],g=m[1];return Object(p.useEffect)((function(){g(a)}),[a]),Object(W.jsxs)(tt.a,{id:h,className:"".concat(st.a.wrapper).concat(j?" ".concat(j):""),displayMenu:!0,disabled:O,menuChildren:Object(W.jsxs)(W.Fragment,{children:[l&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(at.a,{className:"".concat(st.a.menuChild),disabled:O,onClick:function(){return b(Ye.Data)},children:[i===Ye.Data&&Object(W.jsx)(Ke.a,{}),Object(W.jsx)("div",{children:"Data"})]}),Object(W.jsxs)(at.a,{className:"".concat(st.a.menuChild),disabled:O,onClick:function(){return b(Ye.Environment)},children:[i===Ye.Environment&&Object(W.jsx)(Ke.a,{}),Object(W.jsx)("div",{children:"Environment"})]}),Object(W.jsxs)(at.a,{className:"".concat(st.a.menuChild),disabled:O,onClick:function(){return b(Ye.PackageManager)},children:[i===Ye.PackageManager&&Object(W.jsx)(Ke.a,{}),Object(W.jsx)("div",{children:"Package Manager"})]})]}),Object(W.jsx)(at.a,{className:"".concat(st.a.menuChild," ").concat(st.a.upgrade_menu_item),disabled:O,children:Object(W.jsx)(pe.a,{type:"menu-item",can_be_upgraded:c.can_be_upgraded})}),s?Object(W.jsx)(at.a,{className:st.a.menuChild,disabled:O,onClick:function(){O||($.GoogleAnalytics.sendEvent({name:'Clicked on "'.concat("free"===c.name?"My domain":"My domains",'" on ').concat(c.cname," plan"),category:"Domains"}),u.push("/domains"))},children:Object(W.jsx)("div",{children:"free"===c.name?"My domain":"My domains"})}):Object(W.jsx)(at.a,{className:st.a.menuChild,disabled:O,onClick:function(){O||($.GoogleAnalytics.sendEvent({name:'Clicked on "Get a domain" on '.concat(c.cname," plan"),category:"Domains"}),u.push("/domains/start/".concat(d)))},children:"Get a domain"})]}),children:[Object(W.jsxs)(et.a,{selected:i===Ye.Files,disabled:O,onClick:function(){return b(Ye.Files)},children:[Object(W.jsx)(Je.a,{})," Files"]}),Object(W.jsxs)(et.a,{selected:i===Ye.Analytics,disabled:O,onClick:function(){return b(Ye.Analytics)},children:[Object(W.jsx)($e.a,{})," Analytics"]})]})},ct=a(794),ot=a(703),lt=a(726),dt=u.a.lazy((function(){return Promise.all([a.e(2),a.e(8),a.e(36)]).then(a.bind(null,1231))})),pt=function(e,t,a){return a?e.name.toLowerCase()>t.name.toLowerCase()?1:-1:e.name.toLowerCase()<t.name.toLowerCase()?1:-1};!function(e){e[e.Name=1]="Name",e[e.Size=2]="Size",e[e.Modified=3]="Modified"}(rt||(rt={}));var ut=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).timerID=void 0,n.setEditorLocalStorage=function(e){n.props.setEditorContent({url:"https://".concat(n.state.spaceId,".").concat(Object(g.f)()),file_path:null===e||void 0===e?void 0:e.path,domainNameForSpace:n.domainNameForSpace||null})},n.handleShowMoveModalSingle=function(e){$.logging.logDebug("FileBrowser -> handleShowMoveModalSingle() -> file",e),n.setState({showMoveModal:!0,selectedFiles:[e]})},n.handleOpenFolder=function(e){$.logging.logDebug("FileBrowser -> handleOpenFolder() -> folder",e),n.props.setSpacePath(e.path)},n.handleFetchFiles=function(){n.props.fetchFiles(n.state.spaceId,n.props.main_state,(function(){n.setState({files_fetched:!0})}))},n.handleShowDeleteModal=function(e){n.setState({showDeleteModal:!0,selectedFiles:[e]})},n.handleCloseDeleteModal=function(){n.setState({showDeleteModal:!1,selectedFiles:[]})},n.handleCloseMoveModal=function(){n.setState({showMoveModal:!1,selectedFiles:[]})},n.handleShowImagePreviewModal=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({showImagePreviewModal:!0,previewImage:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleCloseImagePreviewModal=function(){n.setState({showImagePreviewModal:!1,previewImage:void 0})},n.handleShowEditModal=function(e,t){n.props.setHideTooltip(!0),n.setState({editProcessing:!0,selectedFiles:[t]}),n.setEditorLocalStorage(t),n.props.history.push("/space/".concat(n.state.spaceId,"/editor"))},n.handleCloseEditModal=function(){n.props.setHideTooltip(!1),n.setState({selectedFiles:[],editProcessing:!1})},n.handleShowRenameModal=function(e){n.props.main_state.usage_status._out_of_quota?n.props.addQuotaError({code:"ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED",description:"Your space is temporarily closed, and renaming files/folders is not allowed.",meta:{header_text:"Space temporarily closed"}}):n.setState({showRenameModal:!0,selectedFiles:[e],renameFileName:n.displayFileKey(e.path)})},n.handleCloseRenameModal=function(){n.setState({showRenameModal:!1,selectedFiles:[]})},n.handleCloseQuotaErrorModal=function(){n.setState({showQuotaErrorModal:!1,quotaErrorMeta:{title:"",contents:""},selectedFiles:[]})},n.displayFileKey=function(e){return e.split("/").splice(1).join("/")},n.clickBreadcrumbItem=function(e){$.logging.logDebug("FileBrowser -> clickBreadcrumItem() -> event",e),n.props.setSpacePath(e)},n.clickedTableHeader=function(e,t){n.setState({sortingSelected:e,sortingAscending:t})},n.sortingFunction=function(e,t){return e.is_folder&&!t.is_folder?-1:e.is_folder&&t.is_folder?n.state.sortingSelected===rt.Name?pt(e,t,n.state.sortingAscending):e.name.toLowerCase()>t.name.toLowerCase()?1:-1:n.state.sortingSelected===rt.Name?pt(e,t,n.state.sortingAscending):n.state.sortingSelected===rt.Size?e.size===t.size?pt(e,t,n.state.sortingAscending):n.state.sortingAscending?e.size>t.size?1:-1:e.size<t.size?1:-1:e.last_modified&&t.last_modified?e.last_modified.getTime()===t.last_modified.getTime()?pt(e,t,n.state.sortingAscending):n.state.sortingAscending?e.last_modified<t.last_modified?1:-1:e.last_modified>t.last_modified?1:-1:e.last_modified?1:-1},n.onClickMobileItem=function(e){switch(e){case Ye.Analytics:case Ye.Files:case Ye.Data:case Ye.Environment:case Ye.PackageManager:n.setActiveTab(e)}},n.setActiveTab=function(e){var t=n.state.analyticsDisplayed||e===Ye.Analytics,a=n.state.dataTabDisplayed||e===Ye.Data;n.setState({dataTabDisplayed:a,analyticsDisplayed:t,activeTab:e})};var s=e.match.params.spaceId;return e.selectedPath&&""!==e.selectedPath||e.setSpacePath(s+"/"),n.state={files_fetched:!1,selectedFiles:[],showDeleteModal:!1,showRenameModal:!1,showImagePreviewModal:!1,showMoveModal:!1,renameFileName:"",previewImage:void 0,copied:!1,analyticsDisplayed:!1,dataTabDisplayed:!1,status:"",activeTab:Ye.Files,fileUploading:!1,editProcessing:!1,spaceId:s,showQuotaErrorModal:!1,quotaErrorMeta:{title:"",contents:""},sortingSelected:rt.Modified,sortingAscending:!0},n}return Object(o.a)(a,[{key:"space",get:function(){var e=this,t=this.props.spaces.filter((function(t){return t.id===e.state.spaceId}));return t.length>0?t[0]:void 0}},{key:"isDynamic",get:function(){return Object(he.c)(this.space)}},{key:"componentDidMount",value:function(){"undefined"!==typeof this.space?"DELETED"===this.space.state||"BANNED"===this.space.state||this.isDynamic&&"free"===this.props.main_state.subscription_plan.name?this.props.history.push("/"):(this.props.setDisplayFooter(!0),this.props.setDisplayHeader(!0),Object(g.e)(),this.handleFetchFiles()):this.props.history.push("/")}},{key:"componentWillUnmount",value:function(){this.timerID&&clearInterval(this.timerID)}},{key:"hasDomainForSpace",get:function(){var e=this;return this.props.domains.filter((function(t){return t.spaceId===e.state.spaceId&&!t.status.DOMAIN_LOST&&!t.status.DOMAIN_CLEANUP_COMPLETED&&!t.active})).length>0}},{key:"domainNameForSpace",get:function(){var e=this,t=this.props.domains.filter((function(t){return t.spaceId===e.state.spaceId&&t.status.ORDER_PROCESSING_COMPLETED&&!t.status.DOMAIN_LOST&&!t.status.DOMAIN_CLEANUP_COMPLETED&&!t.active}));if(t.length>0)return t[0].domainName}},{key:"spaceUrl",get:function(){var e=this.domainNameForSpace;return e?"https://".concat(e):"https://".concat(this.state.spaceId,".").concat(Object(g.f)())}},{key:"itemsDisplayed",get:function(){var e=this,t=[];if("undefined"!==typeof this.space){var a,n,r=this.props.selectedPath.split("/").length;t=this.space.files.filter((function(t){return t.path.includes(e.props.selectedPath)&&r===t.path.split("/").length}));var i=this.space.folders.filter((function(t){return t.path.includes(e.props.selectedPath)&&r===t.path.split("/").length-1}));(a=t).push.apply(a,Object(s.a)(i));var c=this.props.files_uploaded.filter((function(t){return t.path.includes(e.props.selectedPath)&&r===t.path.split("/").length}));(n=t).push.apply(n,Object(s.a)(c))}return t}},{key:"render",value:function(){var e=this;return Object(W.jsxs)("div",{className:"w3s-file-browser",children:["undefined"===typeof this.space&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(b.a,{children:Object(W.jsx)(h.a,{className:"w3s-back-col",children:Object(W.jsx)(re.a,{text:"Back to all spaces",to:"/",handleOnClick:function(){localStorage.removeItem("w3s-editor"),e.props.resetFileUpload()}})})}),Object(W.jsx)(b.a,{children:Object(W.jsx)(h.a,{className:"file-table-refresh-col",children:Object(W.jsx)("h1",{className:"file-browser-header",children:"Space not found"})})}),Object(W.jsx)(b.a,{children:Object(W.jsxs)(h.a,{children:[Object(W.jsx)("div",{style:{padding:"20px 0"},children:"Sorry, we cannot find the space you were looking for."}),Object(W.jsx)($.Button,{variant:"primary",as:"a",href:"/",children:"Back"})]})})]}),"undefined"!==typeof this.space&&this.state.files_fetched&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(me,{}),Object(W.jsx)("div",{className:"-files-tab",children:Object(W.jsxs)(j.a,{id:"-files-tabs-wrapper",activeKey:this.state.activeTab||Ye.Files,onSelect:function(t){return e.setActiveTab(t)},className:"mb-3 pb-3",children:[Object(W.jsxs)(f.a,{eventKey:Ye.Files,title:"Files",tabClassName:"h3",style:{position:"relative"},children:[Object(W.jsx)(Ge,{}),Object(W.jsx)("div",{className:"file-table",children:Object(W.jsx)("div",{className:"-body",children:Object(W.jsx)(_.a,{space:this.space,active_path:this.props.selectedPath,innerProps:{noClick:!0,noKeyboard:!0},children:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{className:"rounded-table-wrapper "+(0===this.itemsDisplayed.length?"empty":""),children:Object(W.jsxs)(m.a,{hover:!0,className:"rounded-table",children:[Object(W.jsxs)("thead",{children:[Object(W.jsx)("tr",{children:Object(W.jsx)("th",{colSpan:4,className:"breadcrumb-header white-background",children:Object(W.jsx)(le.a,{path:this.props.selectedPath.split("/"),folderIsSelected:this.props.selectedPath!==this.state.spaceId+"/",spaceId:this.state.spaceId,handleClickItem:this.clickBreadcrumbItem})})}),Object(W.jsxs)("tr",{children:[Object(W.jsx)(de.a,{className:"first-tablemobile",selected:this.state.sortingSelected===rt.Name,hideSortIndicators:!0,onClick:function(t){e.clickedTableHeader(rt.Name,t)},children:Object(W.jsx)("div",{className:"mr-2",children:"Name"})}),Object(W.jsx)(de.a,{selected:this.state.sortingSelected===rt.Size,className:"-tablemobile",rightAlignText:!0,hideSortIndicators:!0,onClick:function(t){return e.clickedTableHeader(rt.Size,t)},children:Object(W.jsx)("div",{className:"mr-2",children:"Size"})}),Object(W.jsx)(de.a,{selected:this.state.sortingSelected===rt.Modified,className:"-tablemobile -table-min-width",rightAlignText:!0,hideSortIndicators:!0,onClick:function(t){return e.clickedTableHeader(rt.Modified,t)},children:Object(W.jsx)("div",{className:"mr-2",children:"Last modified"})}),Object(W.jsx)("th",{className:"th-action-cell file-action-row-header"})]})]}),Object(W.jsx)("tbody",{children:this.space&&this.itemsDisplayed.length>0&&this.itemsDisplayed.sort(this.sortingFunction).map((function(t,a){return Object(W.jsx)(ne,{processing_status:t.processing_status,space:e.space,file:t,customDomain:e.domainNameForSpace,handleShowEditModal:e.handleShowEditModal,editProcessing:e.state.editProcessing,handleShowImagePreviewModal:e.handleShowImagePreviewModal,handleShowRenameModal:e.handleShowRenameModal,handleShowDeleteModal:e.handleShowDeleteModal,handleShowMoveModal:e.handleShowMoveModalSingle,handleEnterFolder:e.handleOpenFolder},t.path)}))})]})}),0===this.itemsDisplayed.length&&Object(W.jsxs)("div",{className:"-no-files-banner",children:[Object(W.jsx)(b.a,{children:Object(W.jsx)(h.a,{children:Object(W.jsx)("div",{className:"no-files-banner-icon-circle",children:Object(W.jsx)(O.a,{size:"50"})})})}),Object(W.jsx)(b.a,{children:Object(W.jsxs)(h.a,{children:[Object(W.jsx)("h4",{children:"Drop files here to upload"}),Object(W.jsxs)("div",{className:"-subtitle",children:["or use the"," ",Object(W.jsx)(_.a,{space:this.space,innerProps:{noDragEventsBubbling:!0},lite:!0,active_path:this.props.selectedPath,children:"Upload files"})," ","button"]})]})})]}),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ce,{show:this.state.showQuotaErrorModal,close:this.handleCloseQuotaErrorModal,spaceId:this.state.spaceId,file:this.state.selectedFiles[0],meta:this.state.quotaErrorMeta}),Object(W.jsx)(v.a,{show:this.state.showRenameModal,close:this.handleCloseRenameModal,file:this.state.selectedFiles[0],spaceId:this.state.spaceId,active_path:this.props.selectedPath}),Object(W.jsx)(x.a,{show:this.state.showDeleteModal,close:this.handleCloseDeleteModal,file:this.state.selectedFiles[0],spaceId:this.state.spaceId}),Object(W.jsx)(C.a,{show:this.state.showMoveModal,close:this.handleCloseMoveModal,files:this.state.selectedFiles,spaceId:this.state.spaceId,space_folders:this.space.folders,active_path:this.props.selectedPath}),this.state.showImagePreviewModal&&Object(W.jsx)(S.a,{show:!0,close:this.handleCloseImagePreviewModal,file:this.state.previewImage})]})]})})})}),Object(W.jsx)("div",{className:"footer-terms -display-in-mobile-usage",children:Object(W.jsx)($.Terms,{position:"relative"})})]}),Object(W.jsx)(f.a,{eventKey:Ye.Analytics,title:"Analytics",tabClassName:"h3",children:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{className:"-header-mobile-replace-tabs -menu-analytics",children:"Analytics"}),(this.state.activeTab===Ye.Analytics||this.state.analyticsDisplayed)&&Object(W.jsx)(p.Suspense,{fallback:Object(W.jsx)(Oe.a,{}),children:Object(W.jsx)(dt,{className:"-file-browser-analytics"})}),Object(W.jsx)("div",{className:"footer-terms -display-in-mobile-usage",children:Object(W.jsx)($.Terms,{position:"relative"})})]})}),this.isDynamic&&Object(W.jsx)(f.a,{eventKey:Ye.Data,title:"Data",tabClassName:"h3",children:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{className:"-header-mobile-replace-tabs -menu-analytics",children:"Data"}),(this.state.activeTab===Ye.Data||this.state.dataTabDisplayed)&&Object(W.jsx)(p.Suspense,{fallback:Object(W.jsx)(Oe.a,{}),children:Object(W.jsx)(ct.default,{})}),Object(W.jsx)("div",{className:"footer-terms -display-in-mobile-usage",children:Object(W.jsx)($.Terms,{position:"relative"})})]})}),this.isDynamic&&Object(W.jsx)(f.a,{eventKey:Ye.Environment,title:"Environment",tabClassName:"h3",children:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{className:"-header-mobile-replace-tabs -menu-analytics",children:"Environment"}),this.state.activeTab===Ye.Environment&&Object(W.jsx)(p.Suspense,{fallback:Object(W.jsx)(Oe.a,{}),children:Object(W.jsx)(ot.a,{})}),Object(W.jsx)("div",{className:"footer-terms -display-in-mobile-usage",children:Object(W.jsx)($.Terms,{position:"relative"})})]})}),this.isDynamic&&Object(W.jsx)(f.a,{eventKey:Ye.PackageManager,title:"Package Manager",tabClassName:"h3",children:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{className:"-header-mobile-replace-tabs -menu-analytics",children:"Package Manager"}),this.state.activeTab===Ye.PackageManager&&Object(W.jsx)(p.Suspense,{fallback:Object(W.jsx)(Oe.a,{}),children:Object(W.jsx)("div",{style:{height:"100%"},children:Object(W.jsx)(lt.a,{})})}),Object(W.jsx)("div",{className:"footer-terms -display-in-mobile-usage",children:Object(W.jsx)($.Terms,{position:"relative"})})]})})]})}),Object(W.jsx)(it,{className:"mobile-file-panel",subScriptionPlan:this.props.main_state.subscription_plan,hasDomainForSpace:this.hasDomainForSpace,activeItem:this.state.activeTab,spaceId:this.state.spaceId,history:this.props.history,onClickItem:this.onClickMobileItem,isDynamicSpace:this.isDynamic})]})]})}}]),a}(u.a.Component);t.default=Object(se.j)(Object(N.b)((function(e){return{spaces:e.main.spaces,domains:e.domains.orders,main_state:e.main,files_uploaded:e.main.files_uploaded,selectedPath:e.main.space_path}}),(function(e){return Object(k.bindActionCreators)({addQuotaError:oe.a,addNotification:y.a,dismissNotification:y.c,updateNotification:y.e,fetchFiles:w.d,setHideTooltip:w.l,resetFileUpload:w.h,setSpacePath:w.p,setDisplayFooter:w.i,setDisplayHeader:w.j,setEditorContent:w.k},e)}))(ut))},596:function(e,t,a){"use strict";var n=a(8),s=a(43),r=a(2),i=a(629),c=a(1300),o=a(1288),l=(a(639),a(28)),d=a(40),p=a(78),u=a(4);t.a=Object(l.b)((function(e){return{hide_tooltips:e.main.hide_tooltips}}),(function(e){return Object(d.bindActionCreators)({setHideTooltip:p.l},e)}))((function(e){var t=e.text,a=e.placement,l=void 0===a?"top-center":a,d=e.disabled,p=void 0!==d&&d,b=e.children,h=e.hide_tooltips,j=e.className,f=e.setHideTooltip,m=e.fileName,O=void 0!==m&&m,g=Object(i.b)({delayEnter:0,delayLeave:0}),_=Object(s.a)(g,2),v=_[0],x=_[1],C=r.useRef(!1),y=r.useRef(null);if(O&&"string"===typeof t){for(var w="";t.toString().length>0;)w+=t.toString().substring(0,38)+"\n",t=t.toString().substring(38);t=w}var k=r.useCallback((function(){return y.current&&(clearTimeout(y.current),y.current=null),function(){clearTimeout(y.current)}}),[]);r.useEffect((function(){x&&(h?(C.current||k(),x.onMouseLeave(null,!0)):C.current&&(k(),C.current=!1,x.onMouseEnter(null,!0)),p&&(x.onMouseLeave(null,!0),k()))}),[h,x,k,p,C]);var N=Object(i.c)({isOpen:v,placement:l,triggerOffset:8}),S=N.triggerProps,E=N.layerProps,M=N.arrowProps,F=N.renderLayer;function D(){y.current=null,C.current=!0,f(!1)}function T(){y.current=null,f(!1)}var P={onMouseEnter:function(e){k(),C.current=!0,h||f(!0),y.current=window.setTimeout(D,450)},onMouseLeave:function(e){k(),C.current=!1,h||(f(!0),y.current=window.setTimeout(T,450))},onTouchStart:function(e){return x.onTouchStart(e,!0)},onTouchMove:function(e){return x.onTouchMove(e)},onTouchEnd:function(e){return x.onTouchEnd(e)}},I=p?Object(u.jsx)("span",{className:(j||"")+" -text-wrp",children:b}):Object(u.jsx)("span",Object(n.a)(Object(n.a)(Object(n.a)({className:(j||"")+" -text-wrp"},S),P),{},{children:b}));return Object(u.jsxs)(u.Fragment,{children:[I,!p&&F(Object(u.jsx)(c.a,{children:v&&Object(u.jsxs)(o.a.div,Object(n.a)(Object(n.a)({className:"tooltip-box",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1}},E),{},{children:[t,Object(u.jsx)(i.a,Object(n.a)(Object(n.a)({},M),{},{backgroundColor:"#282A35",borderColor:"#282A35",borderWidth:1,size:6}))]}))}))]})}))},598:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(130),s=a(47),r=a(93),i=a(29),c=a(84),o=a(4);function l(e,t){return function(a,l){var d=l(),p=d.main.subscription_plan,u=d.main.quota,b=d.main.usage,h=d.main.user,j=p.cname;if(!0!=={ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED:!0,SPACE_CREATION_FORBIDDEN_ON_FREE_PLAN:!0,TRIAL_EXPIRED:!0,TRIAL_SKIPPED:!0,NR_OF_SPACES_QUOTA_EXCEEDED:!0,SPACE_FILE_SIZE_QUOTA_EXCEEDED:!0,SPACE_NR_OF_FILES_QUOTA_EXCEEDED:!0,SPACE_NR_OF_FOLDERS_QUOTA_EXCEEDED:!0,TOTAL_STORAGE_AMOUNT_QUOTA_EXCEEDED:!0}[e.code]){var f={id:i.g(),dismissed:!1,type:"error",header:"Quota error",body:e.description};return a(Object(s.a)(f)),f.body}var m={id:i.g(),dismissed:!1,type:"error",header:"",body:""};if("SPACE_CREATION_FORBIDDEN_ON_FREE_PLAN"===e.code)"none"===h.trial.type?(m.header=Object(o.jsx)(o.Fragment,{children:"You have downgraded to a Spaces free plan"}),m.body=Object(o.jsx)(o.Fragment,{children:"By upgrading to a paid plan you will be able to create a new space."})):(m.header=Object(o.jsx)(o.Fragment,{children:"Your free trial period has ended"}),m.body=Object(o.jsx)(o.Fragment,{children:"By upgrading to a paid plan you will be able to create a new space."}));else if("TRIAL_EXPIRED"===e.code)m.header=Object(o.jsxs)(o.Fragment,{children:["Your ",p.cname," plan included ","extended"===u.trial.type?"two months":"a free month"," trial period"]}),m.body=Object(o.jsx)(o.Fragment,{children:"By upgrading your plan you will be able to start using Spaces again."});else if("TRIAL_SKIPPED"===e.code)m.header=Object(o.jsx)(o.Fragment,{children:"You have downgraded to a Spaces free plan"}),m.body=Object(o.jsx)(o.Fragment,{children:"By upgrading your plan you will be able to start using Spaces again."});else if("ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED"===e.code)"undefined"!==typeof e.meta&&"undefined"!==typeof e.meta.header_text?m.header=Object(o.jsx)(o.Fragment,{children:e.meta.header_text}):m.header=Object(o.jsx)(o.Fragment,{children:"Out of quota"}),e.description||(e.description="Your account is out of quota, and performing this action is not allowed."),p.can_be_upgraded?m.body=Object(o.jsxs)(o.Fragment,{children:[e.description,"\xa0Do you need more requests, data or storage? Upgrade to the ",Object(o.jsx)("strong",{children:p.upgrade_to_cname})," plan."]}):m.body=Object(o.jsx)(o.Fragment,{children:e.description});else if("NR_OF_SPACES_QUOTA_EXCEEDED"===e.code){var O=1===u.storage.number_of_spaces?"space":"spaces",g=1===b.storage.number_of_spaces?"space":"spaces";m.header=Object(o.jsxs)(o.Fragment,{children:["Your ",p.cname," plan includes ",u.storage.number_of_spaces," ",O]}),p.can_be_upgraded?m.body=Object(o.jsxs)(o.Fragment,{children:["With a ",Object(o.jsx)("strong",{children:p.cname})," plan you get ",u.storage.number_of_spaces," ",O,". By upgrading your plan you get more spaces included."]}):m.body=Object(o.jsxs)(o.Fragment,{children:["With a ",Object(o.jsx)("strong",{children:p.cname})," plan you get ",u.storage.number_of_spaces," ",O," included, and you already have ",b.storage.number_of_spaces," ",g,". Delete one of your existing spaces, if you want to create one more."]})}else if("SPACE_FILE_SIZE_QUOTA_EXCEEDED"===e.code){var _=r.b(u.storage.max_file_size);m.header=Object(o.jsxs)(o.Fragment,{children:["File is larger than ",_]}),p.can_be_upgraded?m.body=Object(o.jsxs)(o.Fragment,{children:["The file ",Object(o.jsx)("strong",{children:Object(c.o)(t.base_name)})," is too large. With the ",Object(o.jsx)("strong",{children:j})," plan you can upload files that are up to ",_,". Do you want to upload larger files? ",Object(o.jsx)("strong",{children:"Upgrade your plan."})]}):m.body=Object(o.jsxs)(o.Fragment,{children:["The file ",Object(o.jsx)("strong",{children:Object(c.o)(t.base_name)})," is too large. You can upload files that are up to ",_,"."]})}else if("SPACE_NR_OF_FILES_QUOTA_EXCEEDED"===e.code)m.header=Object(o.jsx)(o.Fragment,{children:"Maximum number of files is reached"}),p.can_be_upgraded?m.body=Object(o.jsxs)(o.Fragment,{children:["You have reached the limit of ",Object(o.jsxs)("strong",{children:[u.storage.number_of_files_per_space," files"]})," on the ",Object(o.jsx)("strong",{children:j})," plan. Make room for more files by deleting some of them - and try to upload or create again. Do you want to upload or create more files and folders? ",Object(o.jsx)("strong",{children:"Upgrade your plan."})]}):m.body=Object(o.jsxs)(o.Fragment,{children:["You have reached the limit of ",Object(o.jsxs)("strong",{children:[u.storage.number_of_files_per_space," files"]}),". Make room for more files by deleting some of them - and try to upload or create again."]});else if("SPACE_NR_OF_FOLDERS_QUOTA_EXCEEDED"===e.code)m.header=Object(o.jsx)(o.Fragment,{children:"Maximum number of folders is reached"}),p.can_be_upgraded?m.body=Object(o.jsxs)(o.Fragment,{children:["You have reached the limit of ",Object(o.jsxs)("strong",{children:[u.storage.number_of_folders_per_space," folders"]})," on the ",Object(o.jsx)("strong",{children:j})," plan. Make room for more folders by deleting some of them - and try to upload or create again. Do you want to upload or create more files and folders? ",Object(o.jsx)("strong",{children:"Upgrade your plan."})]}):m.body=Object(o.jsxs)(o.Fragment,{children:["You have reached the limit of ",Object(o.jsxs)("strong",{children:[u.storage.number_of_folders_per_space," folders"]}),". Make room for more folders by deleting some of them - and try to upload or create again."]});else if("TOTAL_STORAGE_AMOUNT_QUOTA_EXCEEDED"===e.code){var v=r.b(u.storage.amount);m.header=Object(o.jsx)(o.Fragment,{children:"File not saved"}),p.can_be_upgraded?m.body=Object(o.jsxs)(o.Fragment,{children:["You have reached the ",Object(o.jsx)("strong",{children:v})," storage limit on the ",Object(o.jsx)("strong",{children:j})," plan, so your changes did not get saved. To add more storage you can either upgrade your plan - or delete some files to free up storage."]}):m.body=Object(o.jsxs)(o.Fragment,{children:["You have reached the ",Object(o.jsx)("strong",{children:v})," storage limit on the ",Object(o.jsx)("strong",{children:j})," plan, so your changes did not get saved. Delete some files to free up storage."]})}return p.can_be_upgraded?(m.learnMoreButtonText="Learn more",m.upgradeButtonText="Upgrade"):m.dismissButtonText="Got it",a(Object(n.a)(m)),m.body}}},602:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,s=a(43),r=a(2),i=a(18),c=a(641),o=a.n(c),l=a(4);!function(e){e.XSmall="x-sm",e.Small="sm",e.Medium="md",e.Large="lg"}(n||(n={}));t.b=function(e){var t=e.title,a=e.spaceState,c=e.showIcon,d=void 0!==c&&c,p=e.showDot,u=void 0!==p&&p,b=e.showPadlock,h=void 0!==b&&b,j=e.iconType,f=void 0===j?i.d.HTML:j,m=e.hideTitle,O=void 0!==m&&m,g=e.size,_=void 0===g?n.Medium:g,v=e.disableDynamic,x=void 0!==v&&v,C=e.id,y=e.className,w=Object(r.useMemo)((function(){return function(e){var t;switch(e){case i.d.PHP:t=Object(l.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{d:"M10 16C11.1046 16 12 15.1046 12 14C12 12.8954 11.1046 12 10 12C8.89543 12 8 12.8954 8 14C8 15.1046 8.89543 16 10 16Z",fill:"black"}),Object(l.jsx)("path",{d:"M18 14C18 15.1046 17.1046 16 16 16C14.8954 16 14 15.1046 14 14C14 12.8954 14.8954 12 16 12C17.1046 12 18 12.8954 18 14Z",fill:"black"}),Object(l.jsx)("path",{d:"M22 16C23.1046 16 24 15.1046 24 14C24 12.8954 23.1046 12 22 12C20.8954 12 20 12.8954 20 14C20 15.1046 20.8954 16 22 16Z",fill:"black"}),Object(l.jsx)("path",{d:"M8 4C3.58172 4 0 7.58172 0 12V52C0 56.4183 3.58172 60 8 60H56C60.4183 60 64 56.4183 64 52V12C64 7.58172 60.4183 4 56 4H8ZM60 12V20H4V12C4 9.79086 5.79086 8 8 8H56C58.2091 8 60 9.79086 60 12ZM8 56C5.79086 56 4 54.2091 4 52V24H60V52C60 54.2091 58.2091 56 56 56H8Z",fill:"black"}),Object(l.jsx)("path",{d:"M14.54 44V30.96H19.02C19.98 30.96 20.8467 31.0933 21.62 31.36C22.4067 31.6133 23.0333 32.0467 23.5 32.66C23.9667 33.2733 24.2 34.1067 24.2 35.16C24.2 36.1733 23.9667 37.0067 23.5 37.66C23.0333 38.3133 22.4133 38.8 21.64 39.12C20.8667 39.4267 20.02 39.58 19.1 39.58H17.48V44H14.54ZM17.48 37.24H18.92C20.52 37.24 21.32 36.5467 21.32 35.16C21.32 34.48 21.1067 34 20.68 33.72C20.2533 33.44 19.64 33.3 18.84 33.3H17.48V37.24ZM26.4541 44V30.96H29.3941V35.98H33.8941V30.96H36.8541V44H33.8941V38.56H29.3941V44H26.4541ZM39.9306 44V30.96H44.4106C45.3706 30.96 46.2373 31.0933 47.0106 31.36C47.7973 31.6133 48.424 32.0467 48.8906 32.66C49.3573 33.2733 49.5906 34.1067 49.5906 35.16C49.5906 36.1733 49.3573 37.0067 48.8906 37.66C48.424 38.3133 47.804 38.8 47.0306 39.12C46.2573 39.4267 45.4106 39.58 44.4906 39.58H42.8706V44H39.9306ZM42.8706 37.24H44.3106C45.9106 37.24 46.7106 36.5467 46.7106 35.16C46.7106 34.48 46.4973 34 46.0706 33.72C45.644 33.44 45.0306 33.3 44.2306 33.3H42.8706V37.24Z",fill:"black"})]});break;case i.d.PYTHON:t=Object(l.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{d:"M10 16C11.1046 16 12 15.1046 12 14C12 12.8954 11.1046 12 10 12C8.89543 12 8 12.8954 8 14C8 15.1046 8.89543 16 10 16Z",fill:"black"}),Object(l.jsx)("path",{d:"M18 14C18 15.1046 17.1046 16 16 16C14.8954 16 14 15.1046 14 14C14 12.8954 14.8954 12 16 12C17.1046 12 18 12.8954 18 14Z",fill:"black"}),Object(l.jsx)("path",{d:"M22 16C23.1046 16 24 15.1046 24 14C24 12.8954 23.1046 12 22 12C20.8954 12 20 12.8954 20 14C20 15.1046 20.8954 16 22 16Z",fill:"black"}),Object(l.jsx)("path",{d:"M8 4C3.58172 4 0 7.58172 0 12V52C0 56.4183 3.58172 60 8 60H56C60.4183 60 64 56.4183 64 52V12C64 7.58172 60.4183 4 56 4H8ZM60 12V20H4V12C4 9.79086 5.79086 8 8 8H56C58.2091 8 60 9.79086 60 12ZM8 56C5.79086 56 4 54.2091 4 52V24H60V52C60 54.2091 58.2091 56 56 56H8Z",fill:"black"}),Object(l.jsx)("path",{d:"M32.0001 34.2609H22.6087C22.6087 34.2609 20 34.2609 20 40.0001C20 45.7393 22.6087 45.7393 22.6087 45.7393H25.2174C25.2174 45.7393 25.2174 45.2175 25.2174 43.1305C25.2174 41.0436 26.7827 39.4783 28.8696 39.4783C30.9566 39.4783 33.5584 39.4783 35.1271 39.4783C36.6958 39.4783 37.7393 38.4349 37.7609 36.8446C37.7824 35.2543 37.7393 30.6087 37.7393 30.6087C37.7393 30.6087 37.7393 28 32.0001 28C26.2609 28 26.2609 30.6087 26.2609 30.6087V33.2174H32.0001V34.2609Z",fill:"#282A35"}),Object(l.jsx)("path",{d:"M32.0009 45.7391H41.3923C41.3923 45.7391 44.001 45.7391 44.001 39.9999C44.001 34.2607 41.3923 34.2607 41.3923 34.2607H38.7835C38.7835 34.2607 38.7835 34.7825 38.7835 36.8695C38.7835 38.9564 37.2183 40.5217 35.1313 40.5217C33.0444 40.5217 30.4357 40.5217 28.8704 40.5217C27.3052 40.5217 26.2617 41.5651 26.2617 43.1304C26.2617 44.6956 26.2617 49.3913 26.2617 49.3913C26.2617 49.3913 26.2617 52 32.0009 52C37.7401 52 37.7401 49.3913 37.7401 49.3913V46.7826H32.0009V45.7391Z",fill:"#282A35",fillOpacity:"0.3"}),Object(l.jsx)("path",{d:"M28.8697 31.6522C29.446 31.6522 29.9131 31.185 29.9131 30.6087C29.9131 30.0324 29.446 29.5652 28.8697 29.5652C28.2934 29.5652 27.8262 30.0324 27.8262 30.6087C27.8262 31.185 28.2934 31.6522 28.8697 31.6522Z",fill:"white"}),Object(l.jsx)("path",{d:"M35.1294 50.435C35.7057 50.435 36.1729 49.9678 36.1729 49.3915C36.1729 48.8152 35.7057 48.348 35.1294 48.348C34.5531 48.348 34.0859 48.8152 34.0859 49.3915C34.0859 49.9678 34.5531 50.435 35.1294 50.435Z",fill:"white"})]});break;case i.d.REACT:t=Object(l.jsxs)("svg",{width:"64",height:"64",className:"react-icon-variant ".concat(o.a.react_icon_variant),viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("rect",{width:"64",height:"64",fill:"#1E1E1E"}),Object(l.jsx)("rect",{width:"1920",height:"1080",transform:"translate(-689 -444)",fill:"white"}),Object(l.jsx)("path",{d:"M10 16C11.1046 16 12 15.1046 12 14C12 12.8954 11.1046 12 10 12C8.89543 12 8 12.8954 8 14C8 15.1046 8.89543 16 10 16Z",fill:"black"}),Object(l.jsx)("path",{d:"M18 14C18 15.1046 17.1046 16 16 16C14.8954 16 14 15.1046 14 14C14 12.8954 14.8954 12 16 12C17.1046 12 18 12.8954 18 14Z",fill:"black"}),Object(l.jsx)("path",{d:"M22 16C23.1046 16 24 15.1046 24 14C24 12.8954 23.1046 12 22 12C20.8954 12 20 12.8954 20 14C20 15.1046 20.8954 16 22 16Z",fill:"black"}),Object(l.jsx)("path",{d:"M8 4C3.58172 4 0 7.58172 0 12V52C0 56.4183 3.58172 60 8 60H56C60.4183 60 64 56.4183 64 52V12C64 7.58172 60.4183 4 56 4H8ZM60 12V20H4V12C4 9.79086 5.79086 8 8 8H56C58.2091 8 60 9.79086 60 12ZM8 56C5.79086 56 4 54.2091 4 52V24H60V52C60 54.2091 58.2091 56 56 56H8Z",fill:"black"}),Object(l.jsx)("path",{d:"M32.5131 42.5072C33.9043 42.5072 35.032 41.374 35.032 39.9762C35.032 38.5784 33.9043 37.4453 32.5131 37.4453C31.1219 37.4453 29.9941 38.5784 29.9941 39.9762C29.9941 41.374 31.1219 42.5072 32.5131 42.5072Z",fill:"#282A35"}),Object(l.jsx)("path",{d:"M32.5004 34.8068C35.8818 34.8068 39.0234 35.2944 41.3916 36.1132C44.2452 37.1002 46 38.5965 46 39.9515C46 41.3633 44.1403 42.9533 41.0762 43.9728C38.7595 44.744 35.7103 45.1471 32.5004 45.1471C29.209 45.1471 26.0932 44.7691 23.7499 43.9645C20.7856 42.9466 19 41.3365 19 39.9515C19 38.6074 20.6757 37.1228 23.4893 36.1375C25.8667 35.3053 29.0858 34.8068 32.5004 34.8068Z",stroke:"#282A35","stroke-width":"2","stroke-miterlimit":"10"}),Object(l.jsx)("path",{d:"M28.0571 37.4184C29.7461 34.4751 31.7364 31.9843 33.626 30.3325C35.9028 28.3419 38.0696 27.5623 39.2375 28.239C40.4545 28.9441 40.8965 31.3571 40.2447 34.5345C39.7519 36.9366 38.5765 39.7912 36.9724 42.5856C35.3284 45.4503 33.4454 47.9737 31.5816 49.6113C29.2233 51.6831 26.9424 52.4325 25.7487 51.7408C24.59 51.0692 24.1471 48.8695 24.7024 45.9279C25.1718 43.4404 26.3506 40.3901 28.0571 37.4184Z",stroke:"#282A35",strokeWidth:"2",strokeMiterlimit:"10"}),Object(l.jsx)("path",{d:"M28.0613 42.5915C26.3673 39.6508 25.2136 36.6749 24.7324 34.205C24.1531 31.2291 24.5626 28.9533 25.7297 28.275C26.9459 27.5674 29.2467 28.3879 31.6608 30.5416C33.4863 32.1701 35.3601 34.619 36.9684 37.4109C38.6174 40.2731 39.8536 43.172 40.3339 45.6118C40.9424 48.6997 40.4496 51.0592 39.2568 51.7526C38.0988 52.4258 35.9811 51.7132 33.7219 49.7603C31.814 48.1101 29.772 45.5607 28.0613 42.5915Z",stroke:"#282A35",strokeWidth:"2",strokeMiterlimit:"10"})]});break;case i.d.VUE:t=Object(l.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{d:"M10 16C11.1046 16 12 15.1046 12 14C12 12.8954 11.1046 12 10 12C8.89543 12 8 12.8954 8 14C8 15.1046 8.89543 16 10 16Z",fill:"black"}),Object(l.jsx)("path",{d:"M18 14C18 15.1046 17.1046 16 16 16C14.8954 16 14 15.1046 14 14C14 12.8954 14.8954 12 16 12C17.1046 12 18 12.8954 18 14Z",fill:"black"}),Object(l.jsx)("path",{d:"M22 16C23.1046 16 24 15.1046 24 14C24 12.8954 23.1046 12 22 12C20.8954 12 20 12.8954 20 14C20 15.1046 20.8954 16 22 16Z",fill:"black"}),Object(l.jsx)("path",{d:"M8 4C3.58172 4 0 7.58172 0 12V52C0 56.4183 3.58172 60 8 60H56C60.4183 60 64 56.4183 64 52V12C64 7.58172 60.4183 4 56 4H8ZM60 12V20H4V12C4 9.79086 5.79086 8 8 8H56C58.2091 8 60 9.79086 60 12ZM8 56C5.79086 56 4 54.2091 4 52V24H60V52C60 54.2091 58.2091 56 56 56H8Z",fill:"black"}),Object(l.jsx)("path",{d:"M35.0551 28L31.8552 33.5465L28.6553 28.0035H18L31.8552 52L45.7104 28H35.0551Z",fill:"#282A35",fillOpacity:"0.3"}),Object(l.jsx)("path",{d:"M35.0536 28L31.8537 33.5465L28.6538 28.0035H23.541L31.8537 42.4085L40.1664 28.0035L35.0536 28Z",fill:"#282A35"})]});break;case i.d.HTML:t=Object(l.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{d:"M10 16C11.1046 16 12 15.1046 12 14C12 12.8954 11.1046 12 10 12C8.89543 12 8 12.8954 8 14C8 15.1046 8.89543 16 10 16Z",fill:"black"}),Object(l.jsx)("path",{d:"M18 14C18 15.1046 17.1046 16 16 16C14.8954 16 14 15.1046 14 14C14 12.8954 14.8954 12 16 12C17.1046 12 18 12.8954 18 14Z",fill:"black"}),Object(l.jsx)("path",{d:"M22 16C23.1046 16 24 15.1046 24 14C24 12.8954 23.1046 12 22 12C20.8954 12 20 12.8954 20 14C20 15.1046 20.8954 16 22 16Z",fill:"black"}),Object(l.jsx)("path",{d:"M8 4C3.58172 4 0 7.58172 0 12V52C0 56.4183 3.58172 60 8 60H56C60.4183 60 64 56.4183 64 52V12C64 7.58172 60.4183 4 56 4H8ZM60 12V20H4V12C4 9.79086 5.79086 8 8 8H56C58.2091 8 60 9.79086 60 12ZM8 56C5.79086 56 4 54.2091 4 52V24H60V52C60 54.2091 58.2091 56 56 56H8Z",fill:"black"})]});break;default:t=Object(l.jsxs)("svg",{width:"64",height:"56",viewBox:"0 0 64 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12Z",fill:"black"}),Object(l.jsx)("path",{d:"M18 10C18 11.1046 17.1046 12 16 12C14.8954 12 14 11.1046 14 10C14 8.89543 14.8954 8 16 8C17.1046 8 18 8.89543 18 10Z",fill:"black"}),Object(l.jsx)("path",{d:"M22 12C23.1046 12 24 11.1046 24 10C24 8.89543 23.1046 8 22 8C20.8954 8 20 8.89543 20 10C20 11.1046 20.8954 12 22 12Z",fill:"black"}),Object(l.jsx)("path",{d:"M8 0C3.58172 0 0 3.58172 0 8V48C0 52.4183 3.58172 56 8 56H56C60.4183 56 64 52.4183 64 48V8C64 3.58172 60.4183 0 56 0H8ZM60 8V16H4V8C4 5.79086 5.79086 4 8 4H56C58.2091 4 60 5.79086 60 8ZM8 52C5.79086 52 4 50.2091 4 48V20H60V48C60 50.2091 58.2091 52 56 52H8Z",fill:"black"}),Object(l.jsx)("path",{d:"M34.107 25.5756C33.4878 23.4748 30.5122 23.4748 29.893 25.5756L29.7428 26.085C29.3472 27.4274 27.814 28.0624 26.5851 27.393L26.1187 27.139C24.1954 26.0913 22.0913 28.1954 23.139 30.1187L23.393 30.5851C24.0624 31.814 23.4273 33.3472 22.085 33.7428L21.5756 33.893C19.4748 34.5122 19.4748 37.4878 21.5756 38.107L22.085 38.2572C23.4274 38.6528 24.0624 40.186 23.393 41.4149L23.139 41.8813C22.0913 43.8046 24.1954 45.9087 26.1187 44.861L26.5851 44.607C27.814 43.9376 29.3472 44.5727 29.7428 45.915L29.893 46.4244C30.5122 48.5252 33.4878 48.5252 34.107 46.4244L34.2572 45.915C34.6528 44.5727 36.186 43.9376 37.4149 44.607L37.8813 44.861C39.8046 45.9087 41.9087 43.8046 40.861 41.8813L40.607 41.4149C39.9376 40.186 40.5727 38.6528 41.915 38.2572L42.4244 38.107C44.5252 37.4878 44.5252 34.5122 42.4244 33.893L41.915 33.7428C40.5727 33.3472 39.9376 31.814 40.607 30.5851L40.861 30.1187C41.9087 28.1954 39.8046 26.0913 37.8813 27.139L37.4149 27.393C36.186 28.0624 34.6528 27.4273 34.2572 26.085L34.107 25.5756ZM32 40.3932C29.5737 40.3932 27.6068 38.4263 27.6068 36C27.6068 33.5737 29.5737 31.6068 32 31.6068C34.4263 31.6068 36.3932 33.5737 36.3932 36C36.3932 38.4263 34.4263 40.3932 32 40.3932Z",fill:"black"})]})}return t}(f)}),[f]),k=Object(r.useState)(!1),N=Object(s.a)(k,2),S=N[0],E=N[1];return Object(r.useEffect)((function(){if(x)E(!0);else if(h&&a)switch(a){case"INACTIVE":case"BANNED":case"DELETED":E(!0);break;default:E(!1)}else E(!1)}),[x,h,a]),Object(l.jsxs)("div",{id:C,className:"space-icon-window ".concat(o.a.wrapper," ","size-".concat(_)).concat(x?" dynamic_disabled_dot":"").concat(a?" ".concat(a):"").concat(S?" ".concat(o.a.showPadlock):"").concat(O?"":" ".concat(o.a.o_h)).concat(y?" ".concat(y):""),children:[d&&w,!O&&Object(l.jsx)("div",{className:o.a.title,children:t}),u&&Object(l.jsx)("svg",{className:o.a.display_svg,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("circle",{className:"dot",cx:"56",cy:"56",r:"8"})}),S&&Object(l.jsx)("div",{className:"".concat(o.a.display_svg," ").concat(o.a.padlock).concat(f===i.d.REACT?" ".concat(o.a.displayed_react):""),children:Object(l.jsx)("svg",{viewBox:"0 0 32 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{d:"M18.8125 16.375H18.3438V14.9688C18.3438 13.332 17.0117 12 15.375 12C13.7383 12 12.4062 13.332 12.4062 14.9688V16.375H11.9375C11.4199 16.375 11 16.7949 11 17.3125V21.0625C11 21.5801 11.4199 22 11.9375 22H18.8125C19.3301 22 19.75 21.5801 19.75 21.0625V17.3125C19.75 16.7949 19.3301 16.375 18.8125 16.375ZM16.7812 16.375H13.9688V14.9688C13.9688 14.1934 14.5996 13.5625 15.375 13.5625C16.1504 13.5625 16.7812 14.1934 16.7812 14.9688V16.375Z",fill:"#282A35"})})})]})}},605:function(e,t,a){"use strict";var n,s=a(5),r=a(679),i=(a(618),a(2)),c=["title","titleId"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function d(e,t){var a=e.title,s=e.titleId,r=l(e,c);return i.createElement("svg",o({"aria-hidden":"true",focusable:"false","data-prefix":"lau","data-icon":"long-arrow-up",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",ref:t,"aria-labelledby":s},r),a?i.createElement("title",{id:s},a):null,n||(n=i.createElement("path",{fill:"currentColor",d:"M19.716 184.485l19.626 19.626c4.753 4.753 12.484 4.675 17.14-.173L134 123.22V468c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12V123.22l77.518 80.717c4.656 4.849 12.387 4.927 17.14.173l19.626-19.626c4.686-4.686 4.686-12.284 0-16.971L168.485 35.716c-4.686-4.686-12.284-4.686-16.971 0L19.716 167.515c-4.686 4.686-4.686 12.284 0 16.97z"})))}var p=i.forwardRef(d),u=(a.p,a(596)),b=a(4),h=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e?"menu-item"===t?"Upgrade plan":"Upgrade":a?"View billing plans":"View plans"};t.a=function(e){var t=e.can_be_upgraded,a=e.type,n=e.variant,i=e.className,c=h(t,a||"std"),o=h(t,a||"std",!0);return Object(b.jsxs)(b.Fragment,{children:["circle"===a&&Object(b.jsx)(u.a,{text:o,placement:"top-center",children:Object(b.jsx)(r.a,{variant:"flat",className:"btn-md-round btn-color-green".concat(i?" ".concat(i):""),as:"a",href:s.util.getUpgradeLink(),children:Object(b.jsx)(p,{})})}),"std"===a&&Object(b.jsx)("a",{"data-google-interstitial":"false",href:s.util.getUpgradeLink(),className:"btn-cta btn-cta-upgrade ".concat("secondary"===n?"btn-cta-upgrade-secondary":"").concat(i?" ".concat(i):""),role:"button",children:c}),"menu-item"===a&&Object(b.jsx)("a",{"data-google-interstitial":"false",href:s.util.getUpgradeLink(),role:"button",className:i||"",children:c}),!a&&Object(b.jsx)(s.Button,{variant:t?n:"tertiary",onClick:function(e){e.stopPropagation(),e.preventDefault(),window.location.href=s.util.getUpgradeLink()},children:c})]})}},606:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return c}));var n=a(18),s=function(e,t){return!!e.filter((function(e){return e.id===t})).length},r=function(e){if(c(e)){var t,a=((null===e||void 0===e||null===(t=e.dynamicMeta)||void 0===t?void 0:t.image)||"").split("-");return a.length<2?n.d.NONE:a[1]}return n.d.HTML},i=function(e){if(c(e)){var t,a=((null===e||void 0===e||null===(t=e.dynamicMeta)||void 0===t?void 0:t.image)||"").split("-");return a.length<2?n.d.NODE:a[0]}return n.d.HTML},c=function(e){return!!e&&!!e.type&&e.type===n.c.DYNAMIC}},608:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return r}));var n=function(e){return e.usage_status.trial._out_of_quota?{code:"SPACE_CREATION_FORBIDDEN_ON_FREE_PLAN",description:"By upgrading to a paid plan you will be able to create a new space."}:e.usage_status._out_of_quota?{code:"ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED",description:"Your account is out of quota, and creating a new space is not allowed."}:e.usage.storage.number_of_spaces>=e.quota.storage.number_of_spaces?{code:"NR_OF_SPACES_QUOTA_EXCEEDED"}:{code:"0"}},s=function(e){return e.usage_status._out_of_quota?{code:"ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED",description:"Your space is temporarily closed, and resetting it is not allowed.",meta:{header_text:"Space temporarily closed"}}:{code:"0"}},r=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"file";return e.usage_status._out_of_quota?{code:"ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED",description:"Your space is temporarily closed, and you cannot add more ".concat(a,"s."),meta:{header_text:"Space temporarily closed"},context:"quota"}:"OPEN"!==t.state&&"PRIVATE"!==t.state?{code:"SPACE_ACTION_FORBIDDEN",description:"Your space is temporarily closed, and you cannot add more ".concat(a,"s."),meta:{header_text:"Space temporarily closed"},context:"std"}:t.usage.storage.number_of_files_per_space>=e.quota.storage.number_of_files_per_space?{code:"SPACE_NR_OF_FILES_QUOTA_EXCEEDED",context:"quota"}:t.usage.storage.number_of_folders_per_space>=e.quota.storage.number_of_folders_per_space?{code:"SPACE_NR_OF_FOLDERS_QUOTA_EXCEEDED",context:"quota"}:{code:"0"}}},609:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return o})),a.d(t,"j",(function(){return p})),a.d(t,"a",(function(){return u})),a.d(t,"e",(function(){return h})),a.d(t,"f",(function(){return j})),a.d(t,"i",(function(){return f})),a.d(t,"d",(function(){return m})),a.d(t,"h",(function(){return O})),a.d(t,"g",(function(){return g}));var n,s=a(19),r=a(38),i=a(8),c=a(5);!function(e){e[e.MAX=20]="MAX",e[e.MIN=1]="MIN"}(n||(n={}));var o,l="untitled-";!function(e){e[e.MAX=3]="MAX",e[e.ROOT=1]="ROOT"}(o||(o={}));var d=function(e){return"undefined"===typeof e},p=function(e,t,a,s,r){var i=void 0;if(s?s.patternMismatch?i="Invalid character. A-Z, a-z, 0-9, _ and - allowed.":s.tooShort||e.trim().length<n.MIN?i="Please add at least ".concat(n.MIN," ").concat(n.MIN<=1?"character":"characters","."):s.tooLong?i="Please add maximum ".concat(n.MAX," characters."):s.valid||(i="Something failed. Please try again."):s||(e.trim().length<n.MIN?i="Please add at least ".concat(n.MIN," ").concat(n.MIN<=1?"character":"characters","."):e.length>n.MAX?i="Please add maximum ".concat(n.MAX," characters."):b(e)||(i="Invalid character. A-Z, a-z, 0-9, _ and - allowed.")),d(i)){var c=t.toLowerCase().split("/"),o=a.length>0&&a.filter((function(e){return e.path.toLowerCase().includes(t.toLowerCase())&&e.path.split("/").length-1===c.length}))||[];o.length>0&&o.some((function(t){return t.name.toLowerCase()===e.toLowerCase()}))&&(d(r)||(null===r||void 0===r?void 0:r.toLowerCase())!==e.toLowerCase())&&(i="Sorry, this folder name is already used.")}return i},u=/^[a-zA-Z0-9_-]*$/,b=function(e){return u.test(e)},h=function(e){var t=Object(i.a)({},e);return delete t.expanded,delete t.level,delete t.numberOfChildren,t},j=function(e){return{name:e&&e.name||"",base_name:e&&(e.base_name||e.name)||"",rel_path:e&&(e.rel_path||e.name)||"",path:e&&e.path||"",space_id:e&&(e.space_id||e.path&&e.path.split("/")[0])||"",dirs:[],size:0,extension:"",mime_type:"",is_text_based:!1,is_folder:!0,expanded:!1,level:e&&(e.level||e.path&&e.path.split("/").length-2)||0,numberOfChildren:0,parent:""}},f=function(e){return e.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1}))},m=function(e){var t=e.split("/");return t.shift(),""!==t[t.length-1]&&t.push(""),t.join("/")},O=function(){var e=Object(r.a)(Object(s.a)().mark((function e(t,a){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.fetchSpaces)({url:"/files",method:"POST",data:{action:"createFolder",path:t,_out_of_quota:"undefined"!==typeof a?a.usage_status._out_of_quota:null}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=function(e,t){var a=e.split("/").length,n=t.filter((function(t){return t.path.split("/").length===a+1&&t.name.includes(l)&&t.path.includes(e)})),s=1,r=!1,i="";do{i="".concat(l).concat(s),n.some((function(e){return e.name===i}))||(r=!0),s++}while(!r&&s<=100);return i}},611:function(e,t,a){"use strict";var n=a(8),s=a(43),r=a(629),i=a(1300),c=a(1288),o=a(2),l=a.n(o),d=(a(643),a(4));t.a=function(e){var t=e.triggerElm,a=e.children,p=e.disabled,u=void 0!==p&&p,b=e.openMenu,h=void 0!==b&&b,j=e.placement,f=void 0===j?"bottom-end":j,m=e.className,O=e.onOutsideClick,g=e.onDisappear,_=l.a.useState(!1),v=Object(s.a)(_,2),x=v[0],C=v[1];Object(o.useEffect)((function(){C(h)}),[h]);var y=Object(r.c)({isOpen:x,onOutsideClick:function(){C(!1),O&&O()},onDisappear:function(){C(!1),g&&g()},overflowContainer:!0,auto:!0,placement:f,triggerOffset:12,containerOffset:16,arrowOffset:16}),w=y.renderLayer,k=y.triggerProps,N=y.layerProps,S=y.arrowProps;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",Object(n.a)(Object(n.a)({className:"popover-menu-trigger-elm-wrp",onClick:function(e){e.stopPropagation(),C(!x&&!u)}},k),{},{children:t})),w(Object(d.jsx)(i.a,{children:x&&Object(d.jsxs)(c.a.div,Object(n.a)(Object(n.a)({className:"popover-menu-wrp".concat(m?" ".concat(m):"")},N),{},{children:[a,Object(d.jsx)(r.a,Object(n.a)({borderWidth:1,borderColor:"#E7E9EB"},S))]}))}))]})}},612:function(e,t,a){"use strict";a(2);var n=a(642),s=a.n(n),r=a(4);t.a=function(e){var t=e.disabled,a=e.selected,n=e.id,i=e.className,c=e.onClick,o=e.children;return Object(r.jsx)("div",{id:n,className:"".concat(s.a.wrapper).concat(a?" ".concat(s.a.selected):"").concat(t?" ".concat(s.a.disabled):"").concat(i?" ".concat(i):""),onClick:function(e){!t&&c&&c(e)},children:o})}},614:function(e,t,a){"use strict";var n=a(4);t.a=function(e){var t=e.width,a=void 0===t?"24":t,s=e.height,r=void 0===s?"24":s;return Object(n.jsxs)("svg",{width:a,height:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M1.5 12C1.5 6.20101 6.20101 1.5 12 1.5C17.799 1.5 22.5 6.20101 22.5 12C22.5 17.799 17.799 22.5 12 22.5C6.20101 22.5 1.5 17.799 1.5 12ZM-5.24537e-07 12C-8.1423e-07 18.6274 5.37258 24 12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 -2.34843e-07 12 -5.24537e-07C5.37258 -8.1423e-07 -2.34843e-07 5.37258 -5.24537e-07 12Z",fill:"black"}),Object(n.jsx)("path",{d:"M17.0303 6.96967C17.3232 7.26256 17.3232 7.73744 17.0303 8.03033L13.0607 12L17.0303 15.9697C17.3232 16.2626 17.3232 16.7374 17.0303 17.0303C16.7374 17.3232 16.2626 17.3232 15.9697 17.0303L12 13.0607L8.03033 17.0303C7.73744 17.3232 7.26256 17.3232 6.96967 17.0303C6.67677 16.7374 6.67677 16.2626 6.96967 15.9697L10.9393 12L6.96967 8.03033C6.67677 7.73744 6.67677 7.26256 6.96967 6.96967C7.26256 6.67678 7.73744 6.67678 8.03033 6.96967L12 10.9393L15.9697 6.96967C16.2626 6.67678 16.7374 6.67678 17.0303 6.96967Z",fill:"black"})]})}},618:function(e,t,a){},619:function(e,t,a){"use strict";a(2);var n=a(602),s=a(4);t.a=function(e){var t=e.spaceState,a=e.spaceTechnology,r=e.size,i=e.disableDynamic;return Object(s.jsx)(n.b,{hideTitle:!0,showDot:!0,showIcon:!0,showPadlock:!0,spaceState:t,size:r,iconType:a,disableDynamic:i})}},620:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return c}));var n=a(199),s=a.n(n),r=function(){return Math.round((new Date).getTime()/1e3)},i=function(e){var t=((new Date).getTime()-e.getTime())/1e3;if(t<60)return"Just now";if(t<120)return"a minute ago";if(t<3600){var a=Math.floor(t/60);return"".concat(a," minutes ago")}if(t<7200)return"an hour ago";if(t<86400){var n=Math.floor(t/3600);return"".concat(n," hours ago")}if(t<172800)return"a day ago";if(t<604800){var s=Math.floor(t/86400);return"".concat(s," days ago")}if(t<1209600)return"a week ago";if(t<2592e3){var r=Math.floor(t/604800);return"".concat(r," weeks ago")}if(t<5184e3)return"a month ago";if(t<31536e3){var i=Math.floor(t/2592e3);return"".concat(i," months ago")}return"more than a year ago"},c=function(e){return s.a.unix(e).local().format("MMM Do, YYYY [at] HH:mm")}},621:function(e,t,a){"use strict";var n=a(4);t.a=function(e){var t=e.width,a=void 0===t?"24":t,s=e.height,r=void 0===s?"24":s;return Object(n.jsx)("svg",{width:a,height:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M12.2188 1.30334C12.2187 0.889122 12.5545 0.553336 12.9688 0.553336C13.383 0.553336 13.7188 0.889124 13.7188 1.30334L13.7188 12.2206L24.636 12.2206C25.0502 12.2206 25.386 12.5564 25.386 12.9706C25.386 13.3848 25.0502 13.7206 24.636 13.7206L13.7188 13.7206L13.7187 24.6379C13.7187 25.0521 13.383 25.3879 12.9688 25.3879C12.5545 25.3879 12.2187 25.0521 12.2188 24.6379V13.7206L1.30149 13.7206C0.887274 13.7206 0.551488 13.3848 0.551489 12.9706C0.551488 12.5564 0.887275 12.2206 1.30149 12.2206L12.2187 12.2206L12.2188 1.30334Z",fill:"black"})})}},622:function(e,t,a){"use strict";var n=a(4);t.a=function(e){return Object(n.jsx)("svg",{className:e.className,width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M14.7949 12.9697L11.874 10.0488C11.7422 9.91699 11.5635 9.84375 11.376 9.84375H10.8984C11.707 8.80957 12.1875 7.50879 12.1875 6.09375C12.1875 2.72754 9.45996 0 6.09375 0C2.72754 0 0 2.72754 0 6.09375C0 9.45996 2.72754 12.1875 6.09375 12.1875C7.50879 12.1875 8.80957 11.707 9.84375 10.8984V11.376C9.84375 11.5635 9.91699 11.7422 10.0488 11.874L12.9697 14.7949C13.2451 15.0703 13.6904 15.0703 13.9629 14.7949L14.792 13.9658C15.0674 13.6904 15.0674 13.2451 14.7949 12.9697ZM6.09375 9.84375C4.02246 9.84375 2.34375 8.16797 2.34375 6.09375C2.34375 4.02246 4.01953 2.34375 6.09375 2.34375C8.16504 2.34375 9.84375 4.01953 9.84375 6.09375C9.84375 8.16504 8.16797 9.84375 6.09375 9.84375Z",fill:"#282A35",fillOpacity:"0.6"})})}},630:function(e,t,a){"use strict";var n=a(43),s=a(2),r=a(1253),i=a(612),c=a(611),o=a(644),l=a.n(o),d=a(4);t.a=function(e){var t=e.disabled,a=void 0!==t&&t,o=e.displayMenu,p=void 0!==o&&o,u=e.id,b=e.className,h=e.children,j=e.menuChildren,f=e.menuOpen,m=e.onClickMenuTrigger,O=e.onMenuDisappear,g=e.onMenuOutsideClick,_=Object(s.useState)(!1),v=Object(n.a)(_,2),x=v[0],C=v[1],y=Object(s.useState)(!1),w=Object(n.a)(y,2),k=w[0],N=w[1],S=function(){N(!1),O&&O()};return Object(s.useEffect)((function(){N(f||!1)}),[f]),Object(s.useEffect)((function(){C(a)}),[a]),Object(d.jsxs)("div",{id:u,className:"".concat(l.a.wrapper).concat(b?" ".concat(b):""),children:[h,p&&Object(d.jsx)(c.a,{triggerElm:Object(d.jsxs)(i.a,{selected:!1,disabled:x,onClick:function(){x||(N(!k),m&&m(!k))},children:[Object(d.jsx)(r.a,{})," Menu"]}),placement:"top-end",disabled:x,onDisappear:S,onOutsideClick:function(){N(!1),g?g():S()},children:j||Object(d.jsx)("div",{})})]})}},631:function(e,t,a){"use strict";a(2);var n=a(645),s=a.n(n),r=a(4);t.a=function(e){var t=e.disabled,a=e.id,n=e.className,i=e.children,c=e.onClick;return Object(r.jsx)("div",{id:a,className:"-menu-item ".concat(s.a.menuItem).concat(t?" ".concat(s.a.disabled):"").concat(n?" ".concat(n):""),onClick:c,children:i})}},632:function(e,t,a){},633:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,s=a(43),r=a(2),i=a(651),c=a.n(i),o=a(4);!function(e){e.Default="default",e.Destructive="destructive"}(n||(n={})),t.b=function(e){var t=Object(r.useState)(e.variant||n.Default),a=Object(s.a)(t,2),i=a[0],l=a[1];return Object(r.useEffect)((function(){e.variant&&l(e.variant)}),[e.variant]),Object(o.jsxs)("div",{className:c.a.info_text_group+(e.className?" "+e.className:""),children:[Object(o.jsx)("div",{className:c.a.info_bar+" "+c.a["variant-"+i]}),Object(o.jsx)("div",{className:c.a.info_text,children:e.children})]})}},639:function(e,t,a){},641:function(e,t,a){e.exports={wrapper:"VariantHeader_wrapper__efa62",showPadlock:"VariantHeader_showPadlock__16SRL",react_icon_variant:"VariantHeader_react_icon_variant__MX5pG",title:"VariantHeader_title__1rK4A",o_h:"VariantHeader_o_h__3NI7i",padlock:"VariantHeader_padlock__2L4H5",displayed_react:"VariantHeader_displayed_react__1VOO6",display_svg:"VariantHeader_display_svg__x8qVJ"}},642:function(e,t,a){e.exports={wrapper:"MobileBottomPanelElement_wrapper__3dvdW",disabled:"MobileBottomPanelElement_disabled__yXuyk",selected:"MobileBottomPanelElement_selected__314n1"}},643:function(e,t,a){},644:function(e,t,a){e.exports={wrapper:"MobileBottomPanel_wrapper__2hikb"}},645:function(e,t,a){e.exports={menuItem:"MobileMenuChild_menuItem__3POWM",disabled:"MobileMenuChild_disabled__3_LFH"}},646:function(e,t,a){"use strict";var n=a(8),s=a(69),r=a(193),i=a(19),c=a(38),o=a(187),l=a(188),d=a(190),p=a(191),u=a(2),b=a.n(u),h=a(795),j=a(18),f=(a(664),a(40)),m=a(47),O=a(130),g=a(78),_=a(28),v=a(29),x=a(84),C=a(5),y=a(214),w=a.n(y),k=a(608),N=a(93),S=a(598),E=a(4),M=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleDropRejected=function(e){C.logging.logDebug("handleDrop > fileRejections:",e),n.setState({dragging:!1});var t=!1;e.forEach((function(e){var a;if(e.errors.length>0&&(a=e.errors[0]),a)if("file-invalid-type"===a.code){var s=e.file.name.split("."),r=s[s.length-1].toLowerCase();"free"===n.props.main_state.subscription_plan.name&&x.d[r]&&!x.e[r]?t||(t=!0,n.props.addModal({id:Object(v.g)(),dismissed:!1,type:"error",header:Object(E.jsx)(E.Fragment,{children:"Upgrade to add more file types"}),body:"The file type .".concat(r," is only supported on our paid plans. Upgrade your plan, if you want to unlock more file types for your space."),learnMoreButtonText:"Learn more",upgradeButtonText:"Upgrade"})):n.props.addNotification({id:Object(v.g)(),dismissed:!1,type:"error",header:"File upload failed.",body:"The file ".concat(x.o(e.file.name)," could not be uploaded. ").concat(e.errors[0].message),filename:e.file.name})}else n.props.addNotification({id:Object(v.g)(),dismissed:!1,type:"error",header:"File upload failed.",body:"Unknown error",filename:e.file.name});else n.props.addNotification({id:Object(v.g)(),dismissed:!1,type:"error",header:"File upload failed.",body:"Unknown error",filename:e.file.name})}))},n.showCommonUploadErrorToast=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t,a){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.logging.logDebug("showCommonUploadErrorToast -> error_description, toast_id: ",t,a),void 0!==a?(n.props.updateNotification({id:a,type:"error",header:"Upload error",body:t}),setTimeout((function(){return n.props.dismissNotification({id:a})}),4e3)):n.props.addNotification({id:Object(v.g)(),dismissed:!1,type:"error",header:"Upload error",body:t});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.handleFileUpload=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t){var a,s,r,c,o,l,d,p,u,b,h,f,m,O,g,_,y,w;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.logging.logDebug("handleFileUpload -> file: ",t.file),r={"error.code":"0","error.description":"","error.context":""},n.props.setProcessingStatus(t.file,j.a.Active),t.file.processing_status=j.a.Active,t.file.path=n.props.active_path+t.file.base_name,t.file.rel_path=t.file.path.split("/").slice(1).join("/"),e.next=8,x.g(t.file,n.props.main_state);case 8:if("undefined"!==typeof(c=e.sent).data._update_main_state&&n.props.updateMainBulkState(c.data._update_main_state),"undefined"!==typeof c.data._update_space&&null!==c.data._update_space&&n.props.updateSpace(c.data._update_space),"0"===(null===(a=c.error)||void 0===a?void 0:a.code)){e.next=20;break}if(r["error.code"]=null===(o=c.error)||void 0===o?void 0:o.code,r["error.description"]=null===(l=c.error)||void 0===l?void 0:l.description,r["error.context"]=(null===(d=c.error)||void 0===d?void 0:d.context)||"generic","quota"!==r["error.context"]){e.next=18;break}return n.props.addQuotaError(c.error,t.file),e.abrupt("return",r);case 18:return n.showCommonUploadErrorToast(r["error.description"]),e.abrupt("return",r);case 20:return p=c.data.url,n.props.updateNotification({id:t.toastId,dismissed:!1,autohide:!1,closeButton:!1,type:"success",header:"Uploading file",body:"",filename:"".concat(x.o(t.file.base_name)),showProgressBar:!0,progressBarLevel:0}),e.next=24,x.r(p,t.file,t.toastId,(function(e){var a=Math.round(100*e.loaded/e.total);100===a&&(a=99),n.props.updateNotification({id:t.toastId,progressBarLevel:a})}));case 24:if(u=e.sent,C.logging.logDebug("file_upload_req_res: ",u),"undefined"===typeof u||!("0"!==u.error.code||u.status<200||u.status>=300)){e.next=35;break}return r["error.code"]="SSOFUF_".concat(u.error.code),r["error.description"]=u.error.description,r["error.context"]="generic",b={id:Object(v.g)(),dismissed:!1,type:"error",header:"File could not be uploaded",body:Object(E.jsxs)(E.Fragment,{children:["Sorry, the file ",Object(E.jsx)("strong",{children:x.o(t.file.base_name)})," could not be uploaded. Error details: [",r["error.code"],"] ",r["error.description"],". Please contact support if the problem persists."]})},n.props.dismissNotification({id:t.toastId}),n.props.addNotification(b),n.props.setProcessingStatus(t.file,j.a.Error,b.body),e.abrupt("return",r);case 35:return e.next=37,x.q(t.file,n.props.main_state);case 37:if("undefined"!==typeof(h=e.sent).data._update_main_state&&n.props.updateMainBulkState(h.data._update_main_state),"undefined"!==typeof h.data._update_space&&null!==h.data._update_space&&n.props.updateSpace(h.data._update_space),"0"===(null===(s=h.error)||void 0===s?void 0:s.code)){e.next=48;break}return r["error.code"]=null===(f=h.error)||void 0===f?void 0:f.code,r["error.description"]=null===(m=h.error)||void 0===m?void 0:m.description,r["error.context"]=null!==(O=h.error)&&void 0!==O&&O.context?null===(g=h.error)||void 0===g?void 0:g.context:"generic","quota"===r["error.context"]?("SPACE_FILE_SIZE_QUOTA_EXCEEDED"===r["error.code"]&&(r["error.context"]="quota_soft"),_=n.props.addQuotaError(h.error,t.file)):"BRIFC2"===r["error.code"]?(y={id:Object(v.g)(),dismissed:!1,type:"error",header:"File could not be uploaded",body:Object(E.jsxs)(E.Fragment,{children:["Sorry, the file ",Object(E.jsx)("strong",{children:x.o(t.file.base_name)})," could not be uploaded. This is a permanent error with code ",r["error.code"],". Please contact support."]})},_=y.body,n.props.addNotification(y)):(w={id:Object(v.g)(),dismissed:!1,type:"error",header:"File could not be uploaded",body:Object(E.jsxs)(E.Fragment,{children:["Sorry, the file ",Object(E.jsx)("strong",{children:x.o(t.file.base_name)})," could not be uploaded. Error details: [",r["error.code"],"] ",r["error.description"],". Please contact support if the problem persists."]})},_=w.body,n.props.addNotification(w)),n.props.dismissNotification({id:t.toastId}),n.props.setProcessingStatus(t.file,j.a.Error,_),e.abrupt("return",r);case 48:return n.props.updateNotification({id:t.toastId,header:"File uploaded",body:Object(E.jsxs)("div",{className:"w3s-notif-upload-success-text",children:["File ",Object(E.jsx)("strong",{children:x.o(t.file.base_name)})," uploaded successfully"]}),showProgressBar:!0,progressBarLevel:100,filename:t.file.base_name}),setTimeout((function(){return n.props.dismissNotification({id:t.toastId})}),4e3),x.k(h.data.file,n.props.space.id).path!==t.file.path&&n.props.deleteFileUploaded(t.file),e.abrupt("return",r);case 53:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleFilesUpload=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t){var a,s,c,o,l,d;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=!1,(s=t.map((function(e){return{toastId:Object(v.g)(),file:e}}))).forEach((function(e){n.props.addNotification({id:e.toastId,dismissed:!1,autohide:!1,closeButton:!1,type:"success",header:"Uploading file",body:"",filename:"".concat(x.o(e.file.base_name)),showProgressBar:!0,progressBarLevel:0})})),c=Object(r.a)(s),e.prev=4,c.s();case 6:if((o=c.n()).done){e.next=20;break}if(l=o.value,!a){e.next=13;break}n.props.deleteFileUploaded(l.file),n.props.dismissNotification({id:l.toastId}),e.next=18;break;case 13:return e.next=15,n.handleFileUpload(l);case 15:d=e.sent,C.logging.logDebug("handleFilesUpload -> file, file_upload_response: ",l.file,d),"0"!==d["error.code"]&&"quota"===d["error.context"]&&(a=!0);case 18:e.next=6;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(4),c.e(e.t0);case 25:return e.prev=25,c.f(),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[4,22,25,28]])})));return function(t){return e.apply(this,arguments)}}(),n.handleDropAccepted=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t){var a,r,c,o,l,d,p,u,b,h,f,m,O,g;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.logging.logDebug("handleDropAccepted -> accepted_files: ",t),n.setState({dragging:!1}),"0"===(a=k.c(n.props.main_state,n.props.space,"file")).code){e.next=6;break}return"quota"===a.context?n.props.addQuotaError(a):n.props.addModal({id:Object(v.g)(),dismissed:!1,type:"error",header:Object(E.jsx)(E.Fragment,{children:"Space temporarily closed"}),body:Object(E.jsx)(E.Fragment,{children:a.description}),dismissButtonText:"Got it"}),e.abrupt("return");case 6:if(r=n.props.main_state.subscription_plan,c=n.props.main_state.quota,o=n.props.main_state.usage,t=t.map((function(e){return new File([e],e.name.replace(/\s/g,"_"),{type:e.type,lastModified:e.lastModified})})),0!==(l=t.filter((function(e){var t=x.s(e.name,void 0,void 0,n.props.main_state.subscription_plan.name,e.type);return t?(n.props.addNotification({id:Object(v.g)(),dismissed:!1,type:"error",header:"Invalid file name",body:"".concat(t," (").concat(e.name,")"),filename:e.name}),!1):!(e.size/1024>c.storage.max_file_size)||(n.props.addQuotaError({code:"SPACE_FILE_SIZE_QUOTA_EXCEEDED"},x.l(e,n.props.space.id,!1)),!1)}))).length){e.next=13;break}return e.abrupt("return",!1);case 13:if(d=Object(N.b)(c.storage.amount),p=l.map((function(e){return e.size})).reduce((function(e,t){return e+t}),0),!(o.storage.amount+p/1024>c.storage.amount)){e.next=19;break}return r.can_be_upgraded?n.props.addModal({id:Object(v.g)(),dismissed:!1,type:"error",header:Object(E.jsx)(E.Fragment,{children:"Your storage is full"}),body:Object(E.jsxs)(E.Fragment,{children:["You have reached the ",Object(E.jsx)("strong",{children:d})," storage limit on the ",Object(E.jsx)("strong",{children:r.cname})," ","plan. To add more storage you can either upgrade to a bigger plan - or delete some files to free up storage."]}),learnMoreButtonText:"Learn more",upgradeButtonText:"Upgrade"}):n.props.addModal({id:Object(v.g)(),dismissed:!1,type:"error",header:Object(E.jsx)(E.Fragment,{children:"Your storage is full"}),body:Object(E.jsxs)(E.Fragment,{children:["You have reached the ",Object(E.jsx)("strong",{children:d})," storage limit on the ",Object(E.jsx)("strong",{children:r.cname})," ","plan. Delete some files to free up storage."]}),dismissButtonText:"Got it"}),e.abrupt("return");case 19:if(u=n.props.space.files,b=[],void 0!==u&&(b=u.map((function(e){return e.path}))),n.props.files_uploaded.length>0&&(h=b).push.apply(h,Object(s.a)(n.props.files_uploaded.map((function(e){return e.path})))),f=l.map((function(e){var t,a=w()(e.name),s=a.split(".");s[s.length-1]=s[s.length-1].toLowerCase(),a=s.join("."),b.length>0&&(t=Object(x.n)(a,b,n.props.active_path));var r=x.l(e,n.props.active_path,!0,t);return r.processing_status=j.a.OnHold,r.last_modified=new Date,r})),m=function(e){return e.size/1024>c.storage.max_file_size},O=f.filter((function(e){return m(e)})),g=f.filter((function(e){return!m(e)})),n.props.addFiles(g),O.length>0&&O.forEach((function(e){var t=n.props.addQuotaError({code:"SPACE_FILE_SIZE_QUOTA_EXCEEDED"},e);n.props.setProcessingStatus(e,j.a.Error,t)})),0!==g.length){e.next=31;break}return e.abrupt("return");case 31:n.handleFilesUpload(g);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDragStart=function(){n.setState({dragging:!0})},n.handleDragStop=function(){n.setState({dragging:!1})},n.state={dragging:!1,files:[]},n}return Object(l.a)(a,[{key:"validFileExtensions",get:function(){return"pro"===this.props.main_state.subscription_plan.name||"premium"===this.props.main_state.subscription_plan.name?Object.keys(x.d).map((function(e){return".".concat(e)})):Object.keys(x.e).map((function(e){return".".concat(e)}))}},{key:"render",value:function(){var e=this;return Object(E.jsx)(h.a,Object(n.a)(Object(n.a)({onDropAccepted:this.handleDropAccepted,onDropRejected:this.handleDropRejected,onDragEnter:this.handleDragStart,onDragLeave:this.handleDragStop,accept:this.validFileExtensions},this.props.innerProps),{},{children:function(t){var a,s=t.getRootProps,r=t.getInputProps;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",Object(n.a)(Object(n.a)({},s({className:"dropzone"})),{},{children:[!(null!==(a=e.props.innerProps)&&void 0!==a&&a.noClick)&&Object(E.jsx)("input",Object(n.a)({},r())),!e.props.lite&&Object(E.jsx)(E.Fragment,{children:e.state.dragging&&Object(E.jsx)("div",{className:"-overlay",children:Object(E.jsx)("div",{className:"-inner-wrapper",children:Object(E.jsx)("div",{className:"-btn",children:"Drop files to upload"})})})}),e.props.children]}))})}}))}}]),a}(b.a.Component);t.a=Object(_.b)((function(e){return{main_state:e.main,files_uploaded:e.main.files_uploaded}}),(function(e){return Object(f.bindActionCreators)({addNotification:m.a,dismissNotification:m.c,updateNotification:m.e,addFiles:g.a,deleteFileUploaded:g.c,addModal:O.a,addQuotaError:S.a,updateMainBulkState:g.q,updateSpace:g.r,setProcessingStatus:g.o},e)}))(M)},649:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n,s=a(2),r=["title","titleId"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}function c(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function o(e,t){var a=e.title,o=e.titleId,l=c(e,r);return s.createElement("svg",i({width:19,height:15,viewBox:"0 0 19 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},l),a?s.createElement("title",{id:o},a):null,n||(n=s.createElement("path",{d:"M18.6875 2.25C18.6875 2.58584 18.5593 2.92184 18.303 3.17777L7.80298 13.6778C7.54766 13.9354 7.21133 14.0625 6.875 14.0625C6.53867 14.0625 6.20316 13.9343 5.94723 13.678L0.697227 8.42798C0.440879 8.17266 0.3125 7.83633 0.3125 7.5C0.3125 6.75023 0.925684 6.1875 1.625 6.1875C1.96084 6.1875 2.29684 6.31567 2.55277 6.57202L6.875 10.8961L16.448 1.32305C16.7023 1.06588 17.0387 0.9375 17.375 0.9375C18.0764 0.9375 18.6875 1.49941 18.6875 2.25Z",fill:"white"})))}var l=s.forwardRef(o);a.p},650:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n,s=a(2),r=["title","titleId"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}function c(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function o(e,t){var a=e.title,o=e.titleId,l=c(e,r);return s.createElement("svg",i({width:16,height:4,viewBox:"0 0 16 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},l),a?s.createElement("title",{id:o},a):null,n||(n=s.createElement("path",{d:"M9.68421 1.68421C9.68421 2.61579 8.93158 3.36842 8 3.36842C7.06842 3.36842 6.31579 2.61579 6.31579 1.68421C6.31579 0.752631 7.06842 0 8 0C8.93158 0 9.68421 0.752631 9.68421 1.68421ZM14.3158 0C13.3842 0 12.6316 0.752631 12.6316 1.68421C12.6316 2.61579 13.3842 3.36842 14.3158 3.36842C15.2474 3.36842 16 2.61579 16 1.68421C16 0.752631 15.2474 0 14.3158 0ZM1.68421 0C0.752632 0 0 0.752631 0 1.68421C0 2.61579 0.752632 3.36842 1.68421 3.36842C2.61579 3.36842 3.36842 2.61579 3.36842 1.68421C3.36842 0.752631 2.61579 0 1.68421 0Z",fill:"#212529"})))}var l=s.forwardRef(o);a.p},651:function(e,t,a){e.exports={"variant-default":"InfoBarText_variant-default__1LELi","variant-destructive":"InfoBarText_variant-destructive__1RhKn",info_text_group:"InfoBarText_info_text_group__3EOed",info_bar:"InfoBarText_info_bar__1rZ80",info_text:"InfoBarText_info_text__2bpXy"}},652:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"f",(function(){return s})),a.d(t,"e",(function(){return i})),a.d(t,"g",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return d}));var n=function(e){return document.cookie.replaceAll(" ","").split(";").map((function(e){var t=e.indexOf("=");return{name:e.slice(0,t),value:e.slice(t+1)}})).filter((function(t){return t.name===e})).map((function(e){return e.value}))},s=function(){switch(function(){var e=window.location.href;return e.includes("https://spaces-local.w3schools.com")||e.includes("https://spaces-dev.w3schools.com")?"dev":e.includes("https://spaces-stage.w3schools.com")?"stage":(e.includes("https://spaces.w3schools.com"),"prod")}()){case"dev":return"stats-api.w3sdevelop.com";case"stage":return"stats-api.w3stages.com";default:return"stats-api.w3spaces.com"}},r=function(e){var t=e.date,a=864e5*(e.days-1);return function(e){var t=new Date(e).toISOString(),a=t.indexOf("T");return t.slice(0,a)}(t.getTime()-a)},i=function(e){var t=new Date;if("Week"===e)return r({date:t,days:7});if("Month"===e)return r({date:t,days:30});if("Year"===e){var a=t.getUTCFullYear();return"".concat(a,"-01-01")}return"0000-00-00"},c=["Week","Month","Year","Total"],o=function(){var e=l();return{Week:e,Month:e,Year:e,Total:e}},l=function(){return{browser:{},device:{},location:{},os:{},fileStats:{},data:0,numberOfRequests:0,numberOfUniqueRequests:0}},d={browser:{chrome:2070,edge:824,fireFox:719,safari:587},device:{mobile:2070,tablet:824,other:719,desktop:587},location:{"India:IND":3070,"United States:USA":1200,"Germany:DEU":824,"China:CHN":719,"Norway:NOR":587},os:{android:2070,ios:824,linux:719,mac:587,windows:0},fileStats:{index_html:2070,style_css:824,script_js:719,README_md:587,image_jpg:0},data:0,numberOfRequests:0,numberOfUniqueRequests:0}},664:function(e,t,a){},665:function(e,t,a){"use strict";var n=a(43),s=a(2),r=a.n(s),i=a(796),c=(a(686),a(4));t.a=function(e){var t=e.path,a=e.folderIsSelected,s=e.spaceId,o=e.disabled,l=void 0!==o&&o,d=e.grayBackground,p=void 0!==d&&d,u=e.handleClickItem,b=r.a.useState(t),h=Object(n.a)(b,2),j=h[0],f=h[1];return r.a.useEffect((function(){var e=t;""===e[e.length-1]&&e.pop(),f(e)}),[t]),Object(c.jsx)(i.a,{className:"folder-breadcrumb"+(p?" gray-background":""),children:a?t.map((function(e,a){return l||a===j.length-1?Object(c.jsx)(i.a.Item,{active:!0,children:e},e+a):Object(c.jsx)(i.a.Item,{className:"w3s-black-color",onClick:function(){return function(e){for(var a="",n=0;n<=e;)a+=t[n]+"/",n+=1;u(a)}(a)},children:e},e+a)})):Object(c.jsx)(i.a.Item,{active:!0,children:s},s)})}},666:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n,s=a(2),r=["title","titleId"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}function c(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function o(e,t){var a=e.title,o=e.titleId,l=c(e,r);return s.createElement("svg",i({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},l),a?s.createElement("title",{id:o},a):null,n||(n=s.createElement("path",{d:"M7.60703 3.75L9.74102 5.88398C9.97539 6.11836 10.2934 6.25 10.625 6.25H18.125C18.4703 6.25 18.75 6.52969 18.75 6.875V15.625C18.75 15.9703 18.4703 16.25 18.125 16.25H1.875C1.52969 16.25 1.25 15.9703 1.25 15.625V4.375C1.25 4.02969 1.52969 3.75 1.875 3.75H7.60703ZM1.875 2.5C0.839453 2.5 0 3.33945 0 4.375V15.625C0 16.6605 0.839453 17.5 1.875 17.5H18.125C19.1605 17.5 20 16.6605 20 15.625V6.875C20 5.83945 19.1605 5 18.125 5H10.625L8.49102 2.86602C8.25664 2.63164 7.93867 2.5 7.60703 2.5H1.875Z",fill:"#282A35"})))}var l=s.forwardRef(o);a.p},667:function(e,t,a){},683:function(e,t,a){"use strict";var n=a(19),s=a(38),r=a(43),i=a(2),c=a(793),o=a(589),l=a(84),d=a(47),p=a(78),u=a(28),b=a(29),h=a(5),j=a(609),f=a(189),m=a(684),O=a.n(m),g=a(4);t.a=function(e){var t,a,m,_,v=Object(u.d)((function(e){return e.main})),x=v.spaces,C=Object(u.c)(),y=Object(i.useState)(!1),w=Object(r.a)(y,2),k=w[0],N=w[1],S=Object(i.useState)(!0),E=Object(r.a)(S,2),M=E[0],F=E[1],D=Object(i.useState)((null===(t=e.file)||void 0===t?void 0:t.name)||""),T=Object(r.a)(D,2),P=T[0],I=T[1],L=Object(i.useState)(void 0),A=Object(r.a)(L,2),H=A[0],R=A[1],V=Object(i.useState)(void 0),B=Object(r.a)(V,2),U=B[0],Z=B[1],q=Object(i.useState)(!1),z=Object(r.a)(q,2),Q=z[0],Y=z[1],X=Object(i.useState)(),G=Object(r.a)(X,2),W=G[0],K=G[1],J=Object(i.useMemo)((function(){var t=x.filter((function(t){return t.id===e.spaceId}));return t&&0!==t.length?t[0].folders:[]}),[x,e.spaceId]),$=Object(i.useMemo)((function(){var t=x.filter((function(t){return t.id===e.spaceId}));return t&&0!==t.length?t[0].files:[]}),[x,e.spaceId]),ee=Object(i.useMemo)((function(){return Object.keys(l.a).filter((function(e){return"htm"!==e}))}),[]),te=Object(i.useMemo)((function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:O.a.info_text,children:[Object(g.jsx)("strong",{children:"More file formats?"})," Just rename an existing text file to one of the supported extensions."]}),Object(g.jsx)("div",{className:O.a.file_type_group,children:ee.map((function(e,t){return Object(g.jsxs)("div",{className:O.a.extension_item,children:[".",e]},"extension-"+t)}))})]})}),[ee]),ae=Object(i.useState)(!0),ne=Object(r.a)(ae,2),se=ne[0],re=ne[1];Object(i.useEffect)((function(){se&&(re(!1),K(te))}),[te,se]);var ie=Object(i.useState)(!1),ce=Object(r.a)(ie,2),oe=ce[0],le=ce[1];function de(){return Boolean(void 0===H)}function pe(t){t.preventDefault(),e.file&&P?de()?(N(!0),Y(!0)):F(!0):h.logging.logError("No file to rename.")}return Object(i.useEffect)((function(){!e.file||e.file.mime_type!==l.c.mp4&&e.file.mime_type!==l.c.mp3?le(!1):le(!0)}),[e.file]),Object(i.useEffect)((function(){e.file?I(e.file.base_name):I("")}),[e.file]),Object(i.useEffect)((function(){function t(){return(t=Object(s.a)(Object(n.a)().mark((function t(){var a,s,r,i,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Y(!1),a=e.active_path+P+(e.file&&e.file.is_folder?"/":""),s=e.file,r=l.k({Key:a,LastModified:s&&s.last_modified?s.last_modified.toString():"",Size:s?s.size:0},e.spaceId),s&&s.is_folder&&(r.path=a),!s||s.path!==r.path){t.next=9;break}return Z("Please set a ".concat(s.is_folder?"foldername":"filename"," different from the current ").concat(s.is_folder?"foldername":"filename")),N(!1),t.abrupt("return");case 9:return t.next=11,Object(h.fetchSpaces)({url:"/files",method:"POST",data:{action:"rename",src_path:s.path,dest_path:r.path,is_folder:!!s&&!!s.is_folder,_out_of_quota:v.usage_status._out_of_quota}});case 11:if(i=t.sent,h.logging.logDebug("RenameFileModal -> file rename -> reqRes: ",i),"undefined"!==typeof i.data._update_main_state&&C(Object(p.q)(i.data._update_main_state)),"undefined"!==typeof i.data._update_space&&null!==i.data._update_space&&C(Object(p.r)(i.data._update_space)),"0"!==i.error.code){t.next=32;break}if(!i.data.failed_moving||!i.data.failed_moving.length){t.next=25;break}return null,c=Object(g.jsx)(g.Fragment,{children:i.data.failed_moving.map((function(e){return Object(g.jsxs)(g.Fragment,{children:[e.error.description,Object(g.jsx)("br",{})]})}))}),Z(c),N(!1),F(!1),t.abrupt("return");case 25:r.last_modified=new Date,r.is_folder?C(Object(d.a)({id:Object(b.g)(),dismissed:!1,type:"success",header:"Folder renamed",body:Object(g.jsxs)(g.Fragment,{children:["Renamed ",l.o(s.base_name||"")," to ",Object(g.jsx)("strong",{children:r.base_name}),"."]})})):C(Object(d.a)({id:Object(b.g)(),dismissed:!1,type:"success",header:"File renamed",body:Object(g.jsxs)(g.Fragment,{children:["Renamed ",l.o(s.base_name)," to ",Object(g.jsx)("strong",{children:P}),"."]})})),N(!1),F(!1),e.close();case 30:t.next=47;break;case 32:t.t0=i.error.code,t.next="CURRENT_PATH_MISSING"===t.t0||"NEW_PATH_MISSING"===t.t0?35:"INVALID_FILE_EXTENSION"===t.t0?39:43;break;case 35:return Z("File path is not valid."),N(!1),F(!1),t.abrupt("break",47);case 39:return Z("File extension is not accepted."),N(!1),F(!1),t.abrupt("break",47);case 43:return Z(i.error.description),N(!1),F(!1),t.abrupt("break",47);case 47:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Q&&function(){t.apply(this,arguments)}()}),[C,v.usage_status._out_of_quota,P,e,Q]),Object(g.jsxs)(f.a,{show:e.show,size:"lg",className:O.a.rename_file_modal+" w3s-rename-file-modal",title:null!==(a=e.file)&&void 0!==a&&a.is_folder?"Rename folder":"Rename file",disabled:k||M&&!de(),loading:k,okText:null!==(m=e.file)&&void 0!==m&&m.is_folder?"Rename folder":"Rename file",handleOk:pe,handleClose:function(){R(void 0),K(te),Z(void 0),F(!0),N(!1),e.close()},children:[Object(g.jsxs)("p",{children:["What do you want to call this ",e.file&&!e.file.is_folder?"file":"folder","?"]}),Object(g.jsxs)(c.a,{onSubmit:pe,children:[Object(g.jsx)(c.a.Control,{type:"text",value:P,onChange:function(t){var a,n,s=t.target.value,r=null!==(a=e.file)&&void 0!==a&&a.is_folder?Object(j.j)(s,e.active_path,J,void 0,e.file.name):l.s(s,$,e.active_path,v.subscription_plan.name,null===(n=e.file)||void 0===n?void 0:n.mime_type),i=l.p(s);"index.html"===s.toLowerCase()?i?K(Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("strong",{children:"Note!"})," ",e.file.path.split("/").length>2?"The filename need to be all lowercase and located in the root of the space for it to be used as a landing page for your space.":"The filename need to be all lowercase for it to be used as a landing page for your space."]})):e.file.path.split("/").length>2?K(Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("strong",{children:"Note!"})," The file needs to be located in the root of the space for it to be used as a landing page for your space."]})):re(!0):re(!0),I(s),R(r),Z(void 0)},disabled:k,placeholder:"Enter a name for your ".concat(null!==(_=e.file)&&void 0!==_&&_.is_folder?"folder":"file"),isInvalid:M&&!de()}),M&&void 0!==H&&Object(g.jsx)(c.a.Text,{className:"rename-validation-error",children:H})]}),!!U&&Object(g.jsx)(o.a,{variant:"danger",children:U}),!U&&!!e.file&&!e.file.is_folder&&!oe&&Object(g.jsxs)("div",{className:O.a.info_text_group,children:[Object(g.jsx)("div",{className:O.a.info_bar}),Object(g.jsx)("div",{className:O.a.info_text_subgroup,children:!!W&&W})]})]})}},684:function(e,t,a){e.exports={rename_file_modal:"RenameFileModal_rename_file_modal__3B4kh",info_text_group:"RenameFileModal_info_text_group__3C3zY",info_bar:"RenameFileModal_info_bar__8cHiQ",info_text_subgroup:"RenameFileModal_info_text_subgroup__1m7tI",info_text:"RenameFileModal_info_text__2PBjw",file_type_group:"RenameFileModal_file_type_group__OSvWM",extension_item:"RenameFileModal_extension_item__2g4V5"}},685:function(e,t,a){"use strict";var n=a(19),s=a(38),r=a(187),i=a(188),c=a(190),o=a(191),l=a(2),d=a.n(l),p=a(589),u=a(47),b=a(78),h=a(28),j=a(40),f=a(29),m=a(5),O=a(84),g=a(189),_=a(4),v=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).displayFileKey=function(e){return e.split("/").splice(1).join("/")},i.handleClose=function(){i.setState({loading:!1,errorMessage:void 0},(function(){i.props.close()}))},i.handleSubmit=function(){var e=Object(s.a)(Object(n.a)().mark((function e(t){var a,s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i.props.file&&i.props.file){e.next=4;break}return m.logging.logError("No file to delete."),e.abrupt("return");case 4:return i.setState({loading:!0}),a=i.props.file,e.next=8,Object(m.fetchSpaces)({url:"/files",method:"POST",data:{action:"delete",path:a.path,is_folder:!!a.is_folder,_out_of_quota:i.props.main_state.usage_status._out_of_quota}});case 8:if(s=e.sent,m.logging.logDebug("DeleteFileModal -> file deletion -> reqRes: ",s),"undefined"!==typeof s.data._update_main_state&&i.props.updateMainBulkState(s.data._update_main_state),"undefined"!==typeof s.data._update_space&&null!==s.data._update_space&&i.props.updateSpace(s.data._update_space),"0"!==s.error.code){e.next=17;break}i.props.addNotification({id:Object(f.g)(),dismissed:!1,type:"success",header:"".concat(a.is_folder?"Folder":"File"," deleted"),body:Object(_.jsxs)("span",{children:["Your ",a.is_folder?"folder":"file"," ",Object(_.jsx)("strong",{children:Object(O.o)(a.base_name)})," was successfully deleted."]})}),i.props.onDeleteSuccess&&i.props.onDeleteSuccess(i.props.file),e.next=24;break;case 17:e.t0=s.error.code,e.next="PATH_NOT_FOUND"===e.t0?20:22;break;case 20:return i.setState({errorMessage:"No path provided for ".concat(a.is_folder?"folder":"file","."),loading:!1}),e.abrupt("break",24);case 22:return i.setState({errorMessage:s.error.description,loading:!1}),e.abrupt("break",24);case 24:i.handleClose();case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.state={loading:!1},i}return Object(i.a)(a,[{key:"render",value:function(){var e,t,a;return Object(_.jsxs)(g.a,{show:this.props.show,size:"lg",className:"delete-file-modal",backdrop:"static",title:null!==(e=this.props.file)&&void 0!==e&&e.is_folder?"Delete folder?":"Delete file?",loading:this.state.loading,disabled:this.state.loading,okText:null!==(t=this.props.file)&&void 0!==t&&t.is_folder?"Yes, delete folder":"Yes, delete file",okButtonVariant:"destructive",handleClose:this.handleClose,handleOk:this.handleSubmit,children:[null!==(a=this.props.file)&&void 0!==a&&a.is_folder?Object(_.jsxs)("span",{children:["Please confirm that you want to permanently delete ",Object(_.jsx)("strong",{children:this.props.file?this.props.file.name:""})," and all the files stored in this folder?",Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),"This cannot be undone."]}):Object(_.jsxs)("span",{children:["Are you sure that you want to delete the file"," ",Object(_.jsx)("strong",{children:this.props.file?Object(O.o)(this.props.file.rel_path,!0):""}),"?"]}),this.state.errorMessage&&Object(_.jsx)(p.a,{variant:"danger",children:this.state.errorMessage})]})}}]),a}(d.a.Component);t.a=Object(h.b)((function(e){return{main_state:e.main}}),(function(e){return Object(j.bindActionCreators)({addNotification:u.a,updateMainBulkState:b.q,updateSpace:b.r},e)}))(v)},686:function(e,t,a){},687:function(e,t,a){},689:function(e,t,a){},690:function(e,t,a){"use strict";var n=a(19),s=a(38),r=a(187),i=a(188),c=a(190),o=a(191),l=a(2),d=a.n(l),p=a(29),u=a(84),b=a(131),h=a(47),j=a(40),f=a(28),m=a(5),O=a(78),g=a(189),_=a(4),v=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).fetchImagePublicUrl=Object(s.a)(Object(n.a)().mark((function e(){var t,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.m(i.props.file,i.props.main_state);case 2:if(t=e.sent,m.logging.logDebug("ImagePreviewModal -> FileUtil.getSignedFilePreviewUrlResponse -> file_signed_url_req_res: ",t),"undefined"!==typeof(a=t.data)._update_main_state&&i.props.updateMainBulkState(a._update_main_state),"undefined"!==typeof a._update_space&&null!==a._update_space&&i.props.updateSpace(a._update_space),"0"===t.error.code){e.next=11;break}return i.props.addNotification({id:Object(p.g)(),dismissed:!1,type:"error",header:"File processing error",body:"".concat(t.error.description)}),i.props.close(),e.abrupt("return");case 11:i.isImage?i.setState({file_public_url:t.data.url}):i.setState({loading:!1,file_public_url:t.data.url,image_loaded:!0});case 12:case"end":return e.stop()}}),e)}))),i.state={loading:!0,image_loaded:!1,file_public_url:""},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchImagePublicUrl()}},{key:"isAudio",get:function(){return this.props.file&&this.props.file.mime_type===u.c.mp3||!1}},{key:"isVideo",get:function(){return this.props.file&&this.props.file.mime_type===u.c.mp4||!1}},{key:"isImage",get:function(){return!this.isAudio&&!this.isVideo}},{key:"render",value:function(){var e=this;return Object(_.jsxs)(g.a,{show:!!this.props.show,className:"w3s-preview-image-modal",size:"lg",title:this.props.file?u.o(this.props.file.base_name):"",handleClose:this.props.close,displayCancel:!1,displayOk:!1,children:[this.state.loading&&Object(_.jsx)(b.a,{}),this.state.file_public_url&&Object(_.jsxs)("div",{style:{display:this.state.image_loaded?"block":"none",position:this.state.image_loaded?"relative":"absolute"},children:[this.isImage&&Object(_.jsx)("img",{src:this.props.file?this.state.file_public_url:"",alt:this.props.file?u.o(this.props.file.base_name):"",style:{maxWidth:"100%",maxHeight:"100%"},onLoad:function(){return e.setState({loading:!1,image_loaded:!0})}}),this.isAudio&&Object(_.jsxs)("audio",{controls:!0,autoPlay:!0,children:[Object(_.jsx)("source",{src:this.props.file?this.state.file_public_url:"",type:"audio/mpeg"}),"Your browser does not support the audio tag."]}),this.isVideo&&Object(_.jsxs)("video",{controls:!0,autoPlay:!0,style:{maxWidth:"100%"},children:[Object(_.jsx)("source",{src:this.props.file?this.state.file_public_url:"",type:"video/mp4"}),"Your browser does not support the video tag."]})]})]})}}]),a}(d.a.Component);t.a=Object(f.b)((function(e){return{main_state:e.main}}),(function(e){return Object(j.bindActionCreators)({addNotification:h.a,updateMainBulkState:O.q,updateSpace:O.r},e)}))(v)},691:function(e,t,a){"use strict";a(2);var n=a(4);t.a=function(e){var t=e.size,a=e.className;return Object(n.jsx)("svg",{className:a,width:t,height:t,viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M13.5 9.5H13C12.8674 9.5 12.7402 9.55268 12.6464 9.64645C12.5527 9.74021 12.5 9.86739 12.5 10V14.8125C12.5 14.8622 12.4802 14.9099 12.4451 14.9451C12.4099 14.9802 12.3622 15 12.3125 15H1.6875C1.63777 15 1.59008 14.9802 1.55492 14.9451C1.51975 14.9099 1.5 14.8622 1.5 14.8125V4.1875C1.5 4.13777 1.51975 4.09008 1.55492 4.05492C1.59008 4.01975 1.63777 4 1.6875 4H6.5C6.63261 4 6.75979 3.94732 6.85355 3.85355C6.94732 3.75979 7 3.63261 7 3.5V3C7 2.86739 6.94732 2.74021 6.85355 2.64645C6.75979 2.55268 6.63261 2.5 6.5 2.5H1.5C1.10218 2.5 0.720644 2.65804 0.43934 2.93934C0.158035 3.22064 0 3.60218 0 4L0 15C0 15.3978 0.158035 15.7794 0.43934 16.0607C0.720644 16.342 1.10218 16.5 1.5 16.5H12.5C12.8978 16.5 13.2794 16.342 13.5607 16.0607C13.842 15.7794 14 15.3978 14 15V10C14 9.86739 13.9473 9.74021 13.8536 9.64645C13.7598 9.55268 13.6326 9.5 13.5 9.5ZM15.625 0.5H11.375C11.3009 0.500065 11.2284 0.522094 11.1668 0.563304C11.1052 0.604514 11.0572 0.663057 11.0289 0.731538C11.0005 0.80002 10.9931 0.875369 11.0075 0.948068C11.022 1.02077 11.0576 1.08756 11.11 1.14L12.6159 2.64656L4.10969 11.1528C4.07473 11.1877 4.04699 11.229 4.02806 11.2746C4.00913 11.3202 3.99939 11.3691 3.99939 11.4184C3.99939 11.4678 4.00913 11.5167 4.02806 11.5622C4.04699 11.6078 4.07473 11.6492 4.10969 11.6841L4.81687 12.3912C4.85171 12.4262 4.89311 12.4539 4.93869 12.4729C4.98427 12.4918 5.03314 12.5015 5.0825 12.5015C5.13186 12.5015 5.18073 12.4918 5.22631 12.4729C5.27189 12.4539 5.31329 12.4262 5.34812 12.3912L13.8544 3.88469L15.3609 5.39094C15.4135 5.44305 15.4803 5.47845 15.5529 5.49268C15.6255 5.50691 15.7007 5.49933 15.7691 5.47089C15.8374 5.44246 15.8958 5.39444 15.9369 5.33289C15.978 5.27134 15.9999 5.19901 16 5.125V0.875C16 0.775544 15.9605 0.680161 15.8902 0.609835C15.8198 0.539509 15.7245 0.5 15.625 0.5V0.5Z"})})}},692:function(e,t,a){"use strict";var n,s=a(43),r=a(2),i=a.n(r),c=a(693),o=a.n(c),l=a(596),d=a(4);!function(e){e[e.UNSELECTED=0]="UNSELECTED",e[e.ASC=1]="ASC",e[e.DESC=2]="DESC"}(n||(n={})),t.a=function(e){var t=i.a.useState(e.selected?n.ASC:n.UNSELECTED),a=Object(s.a)(t,2),r=a[0],c=a[1];return i.a.useEffect((function(){e.selected?c(n.ASC):c(n.UNSELECTED)}),[e.selected]),Object(d.jsx)("th",{className:o.a.table_header_cell+(e.disabled?" "+o.a.disabled:"")+(e.className?" "+e.className:""),style:e.style?e.style:void 0,children:Object(d.jsxs)("div",{onClick:function(){var t=n.UNSELECTED;t=r===n.ASC?n.DESC:(n.DESC,n.ASC),c(t),e.onClick(t===n.ASC)},className:o.a.table_header_div+(e.rightAlignText?" justify-content-end pr-0":" px-3"),children:[e.children,Object(d.jsx)(l.a,{text:"Sort "+(r===n.DESC?"descending":"ascending"),disabled:e.disabled||r===n.UNSELECTED,children:Object(d.jsxs)("div",{className:o.a.sort_group,children:[(!e.hideSortIndicators||r===n.DESC)&&Object(d.jsx)("div",{className:o.a.select_minimal+" "+o.a.sort_desc+(r===n.DESC?" "+o.a.selected:"")}),(!e.hideSortIndicators||r===n.ASC)&&Object(d.jsx)("div",{className:o.a.select_minimal+" "+o.a.sort_asc+(r===n.ASC?" "+o.a.selected:"")})]})})]})})}},693:function(e,t,a){e.exports={table_header_cell:"TableHeaderCell_table_header_cell__Tz_cM",disabled:"TableHeaderCell_disabled__1ZUtZ",table_header_div:"TableHeaderCell_table_header_div__l_bw2",select_minimal:"TableHeaderCell_select_minimal__1Nx63",sort_asc:"TableHeaderCell_sort_asc__2g-YX",sort_desc:"TableHeaderCell_sort_desc__2fEyu",selected:"TableHeaderCell_selected__2-0oB",sort_group:"TableHeaderCell_sort_group__22qnM"}},694:function(e,t,a){e.exports={outer_border:"FileTypeItem_outer_border__2FS0w",selected:"FileTypeItem_selected__xB-wi",file_type_item:"FileTypeItem_file_type_item__3znsv",disabled:"FileTypeItem_disabled__3xxjP",selected_icon:"FileTypeItem_selected_icon__djiJk",selected_group:"FileTypeItem_selected_group__39BJ0",header:"FileTypeItem_header__JSUdD",description:"FileTypeItem_description__2nIb3"}},695:function(e,t,a){e.exports={new_file_modal:"NewFileModal_new_file_modal__1QuB4",file_type_group:"NewFileModal_file_type_group__3BaYm",file_type_item:"NewFileModal_file_type_item__1lUyx",form_control_group:"NewFileModal_form_control_group__E3QFu",extension_text:"NewFileModal_extension_text__flHDE",more_info_link:"NewFileModal_more_info_link__1d3Cg"}},696:function(e,t,a){"use strict";var n=a(19),s=a(38),r=a(43),i=a(2),c=a(589),o=a(793),l=a(18),d=a(47),p=a(78),u=a(28),b=a(697),h=a.n(b),j=a(29),f=a(609),m=a(598),O=a(189),g=a(4);t.a=function(e){var t=Object(u.d)((function(e){return e.main})),a=Object(u.c)(),b=Object(i.useState)(!1),_=Object(r.a)(b,2),v=_[0],x=_[1],C=Object(i.useState)(!0),y=Object(r.a)(C,2),w=y[0],k=y[1],N=Object(i.useState)(),S=Object(r.a)(N,2),E=S[0],M=S[1],F=Object(i.useState)(),D=Object(r.a)(F,2),T=D[0],P=D[1],I=Object(i.useState)(e.defaultName),L=Object(r.a)(I,2),A=L[0],H=L[1],R=Object(i.useState)(!1),V=Object(r.a)(R,2),B=V[0],U=V[1];function Z(e){if(e.preventDefault(),!v){if(!w)return;x(!0),U(!0)}}var q=Object(i.useCallback)((function(){H(e.defaultName),P(void 0),M(void 0),k(!0),x(!1),e.close()}),[e]),z=Object(i.useCallback)(Object(s.a)(Object(n.a)().mark((function s(){var r,i,c,o,u;return Object(n.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.path+A+"/",n.next=3,Object(f.h)(r,t);case 3:i=n.sent,"undefined"!==typeof(c=i.data)._update_main_state&&a(Object(p.q)(c._update_main_state)),"undefined"!==typeof c._update_space&&null!==c._update_space&&a(Object(p.r)(c._update_space)),"0"!==i.error.code?("quota"===(null===(o=i.error)||void 0===o?void 0:o.context)?(u=Object(f.e)(Object(f.f)()),a(Object(m.a)(i.error,u))):a(Object(d.a)({id:Object(j.g)(),dismissed:!1,type:"error",header:"Create folder error",body:"".concat(i.error.description)})),q()):(a(Object(d.a)({id:Object(j.g)(),dismissed:!1,type:"success",header:"Created folder",body:Object(g.jsxs)(g.Fragment,{children:["Your folder ",Object(g.jsx)("strong",{children:A})," was successfully created."]})})),a(Object(p.o)(r,l.a.NewFolder)),q());case 8:case"end":return n.stop()}}),s)}))),[a,q,A,t,e.path]);return Object(i.useEffect)((function(){B&&(U(!1),z())}),[z,B]),Object(g.jsxs)(O.a,{show:e.show,size:"lg",className:h.a.new_folder_modal,backdrop:"static",title:"Create a new folder",handleClose:q,handleOk:Z,loading:v,disabled:v||!w||!!E,okText:"Create folder",children:[Object(g.jsx)("p",{children:"What do you want to call this folder?"}),E&&Object(g.jsx)(c.a,{variant:"danger",children:E}),Object(g.jsxs)(o.a,{onSubmit:Z,children:[Object(g.jsx)(o.a.Control,{type:"text",defaultValue:e.defaultName,onChange:function(t){var a=t.target.validity.valid,n=Object(f.j)(t.target.value,e.path,e.existingFolders,t.target.validity);(a=!n)&&(t.target.validity.tooShort||0===t.target.value.length)&&(a=!1),a!==w&&(k(a),P(n)),!a||"Enter"!==t.key&&13!==t.keyCode?H(t.target.value):Z(t)},isInvalid:!w,disabled:v,pattern:f.a.source,placeholder:"Enter a name for your folder",minLength:f.c.MIN,maxLength:f.c.MAX}),!w&&void 0!==T&&Object(g.jsx)(o.a.Text,{className:"rename-validation-error",children:T})]})]})}},697:function(e,t,a){e.exports={new_folder_modal:"NewFolderModal_new_folder_modal__3vaae"}},698:function(e,t,a){"use strict";var n=a(43),s=a(2),r=a(36),i=a(589),c=a(78),o=a(28),l=a(40),d=a(189),p=a(200),u=a(4);t.a=Object(l.compose)(r.j)((function(e){var t=Object(o.c)(),a=Object(r.g)(),l=Object(s.useState)(!1),b=Object(n.a)(l,2),h=b[0],j=b[1],f=Object(s.useState)(!1),m=Object(n.a)(f,2),O=m[0],g=m[1],_=Object(s.useState)(),v=Object(n.a)(_,1)[0],x=Object(o.d)((function(e){return e.main.user})),C=Object(o.d)((function(e){return e.main.spaces})),y=Object(s.useMemo)((function(){return C.find((function(t){return t.id===e.space_id}))}),[e.space_id,C]);Object(s.useEffect)((function(){O&&x.is_resetting_space&&x.is_resetting_space.length&&(g(!1),t(Object(p.d)(x.is_resetting_space)),t(Object(p.c)((null===y||void 0===y?void 0:y.type)||"static")),a.push("/resetspace"))}),[O,x.is_resetting_space,a,t,null===y||void 0===y?void 0:y.type]);return Object(u.jsxs)(d.a,{show:e.show,size:"lg",className:"reset-space-modal",disabled:h,loading:h,title:"Reset space and select new template?",okButtonVariant:"destructive",okText:"Yes, reset my space",handleClose:e.close,handleOk:function(a){a.preventDefault(),j(!0),e.resetFileUpload&&e.resetFileUpload(),t(Object(c.s)({is_resetting_space:e.space_id})),g(!0)},children:[Object(u.jsxs)("p",{children:["When you reset your space, all files on the space ",Object(u.jsx)("strong",{children:e.space_id})," will be permanently deleted, and you can select a new template."]}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"This action cannot be undone"}),Object(u.jsx)("li",{children:"The space name will be kept"}),Object(u.jsx)("li",{children:"All progress will be lost"})]}),v&&Object(u.jsx)(i.a,{variant:"danger",children:v})]})}))},699:function(e,t,a){e.exports={tables_buttons:"Tables_tables_buttons__3BoUH",delete_table_button:"Tables_delete_table_button__34wLh",tables_buttons_text:"Tables_tables_buttons_text__32WiG",disable:"Tables_disable__2Ws9E",select:"Tables_select__35KR4"}},700:function(e,t,a){e.exports={data_wrapper:"Data_data_wrapper__1-nt1",no_table_selected_text:"Data_no_table_selected_text__2UNb5",database_empty_text:"Data_database_empty_text__pgc5H",tables_buttons_wrapper:"Data_tables_buttons_wrapper__bJ1Kq",tables_buttons_header_text:"Data_tables_buttons_header_text__12Cmx",create_table_button:"Data_create_table_button__3i0Mo",disabled:"Data_disabled__t6ni5",fetch_tables_spinner:"Data_fetch_tables_spinner__1fZMF",hide:"Data_hide__TI5d4",table_wrapper:"Data_table_wrapper__1gpkO",fetch_table_page_spinner:"Data_fetch_table_page_spinner__2YPwA",table_header:"Data_table_header__2E7QF",table_header_text:"Data_table_header_text__1XWP6",table_next_prev_buttons:"Data_table_next_prev_buttons__3Ryvd",prev_button:"Data_prev_button__3y7al",prev_button_disable:"Data_prev_button_disable__dxL9B",next_button:"Data_next_button__2evIZ",next_button_disable:"Data_next_button_disable__1oY4K",page_number:"Data_page_number__2KGIL",second_delete_button_col:"Data_second_delete_button_col__1XcRQ",second_delete_button:"Data_second_delete_button__2OqcJ",focus:"Data_focus__k0AsP"}},701:function(e,t,a){},702:function(e,t,a){e.exports={form_wrapper:"CreateTable_form_wrapper__fNSqw",column_input_wrapper:"CreateTable_column_input_wrapper__2hzEi",input_group:"CreateTable_input_group__38m-x",column_error_text:"CreateTable_column_error_text__1rVzI",table_error_text:"CreateTable_table_error_text__1yVzW",remove_column_button:"CreateTable_remove_column_button__3tXbW",add_column_button:"CreateTable_add_column_button__2uFd_",add_column_button_text:"CreateTable_add_column_button_text__UWHPO",column_header_text:"CreateTable_column_header_text__3Y7-u",form_group:"CreateTable_form_group__2SP1A"}},703:function(e,t,a){"use strict";var n=a(192),s=a(626),r=a(19),i=a(129),c=a(8),o=a(38),l=a(43),d=a(2),p=a(793),u=a(5),b=a(614),h=a(621),j=a(36),f=a(29),m=a(28),O=a(47),g=a(189),_=a(704),v=a.n(_),x=a(4);t.a=function(e){var t=e.className,a=Object(d.useState)({}),_=Object(l.a)(a,2),C=_[0],y=_[1],w=Object(d.useState)({}),k=Object(l.a)(w,2),N=k[0],S=k[1],E=Object(d.useState)(0),M=Object(l.a)(E,2),F=M[0],D=M[1],T=Object(d.useState)(!0),P=Object(l.a)(T,2),I=P[0],L=P[1],A=Object(d.useState)(!1),H=Object(l.a)(A,2),R=H[0],V=H[1],B=Object(d.useState)(!1),U=Object(l.a)(B,2),Z=U[0],q=U[1],z=Object(d.useState)(!1),Q=Object(l.a)(z,2),Y=Q[0],X=Q[1],G=Object(d.useState)(!1),W=Object(l.a)(G,2),K=W[0],J=W[1],$=Object(d.useState)(!1),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],ne=Object(d.useState)(""),se=Object(l.a)(ne,2),re=se[0],ie=se[1],ce=Object(d.useRef)({}),oe=Object(d.useRef)({}),le=Object(j.i)().spaceId,de=Object(m.c)(),pe=Object(d.useCallback)((function(e,t){de(Object(O.a)({id:Object(f.g)(),dismissed:!1,type:"success",header:t,body:Object(x.jsx)(x.Fragment,{children:e})}))}),[de]),ue=Object(d.useCallback)((function(e,t){de(Object(O.a)({id:Object(f.g)(),dismissed:!1,type:"error",header:t,body:Object(x.jsx)("span",{children:e})}))}),[de]),be=Object(d.useCallback)((function(e,t){de(Object(O.a)({id:Object(f.g)(),dismissed:!1,type:"info",header:t,body:Object(x.jsx)(x.Fragment,{children:e})}))}),[de]);Object(d.useEffect)((function(){var e=function(){var e=Object(o.a)(Object(r.a)().mark((function e(){var t,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.next=3,Object(u.fetchDynamicSpaces)({url:"api2/dynamic-spaces/".concat(le,"/user-env"),method:"GET"});case 3:200===(t=e.sent).status?(u.logging.logDebug("settings -> environment -> reqRes:",t),a=Object.keys(t.data).reduce((function(e,a,n){return Object(c.a)(Object(c.a)({},e),{},Object(i.a)({},n.toString(),{key:a,value:t.data[a]}))}),{}),u.logging.logDebug("settings -> keysValues ->",a),S(a),y(a),D(Object.keys(t.data).length)):ue(t.data.message||t.data.errorMessage,"Fetch environment error"),V(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[de,ue,le]),Object(d.useLayoutEffect)((function(){Object.keys(C).forEach((function(e){var t=ce.current[e].value,a=ce.current[e].key,n=oe.current[e];t.style.height="46px",a.style.height="46px",n.style.height="46px";var s=Math.max(t.scrollHeight,a.scrollHeight);t.style.height="".concat(s,"px"),a.style.height="".concat(s,"px"),n.style.height="".concat(s,"px")}))}),[C,ce]);var he=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:v.a.remove_row_button_box,ref:function(t){oe.current=Object(c.a)(Object(c.a)({},oe.current),{},Object(i.a)({},e,t))},children:Object(x.jsx)("div",{className:v.a.remove_row_button,onClick:function(t){t.preventDefault(),""!==C[e].key?(ie(e),J(!0)):je(e)},children:Object(x.jsx)(b.a,{})})})})},je=function(e){var t=C[e],a=(t.key,t.value,Object(n.a)(C,[e].map(s.a)));y(a),L(!1),J(!1)},fe=function(){var e=Object(o.a)(Object(r.a)().mark((function e(){var t,a,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.keys(C).reduce((function(e,t){return""===C[t].value||""===C[t].key?e:Object(c.a)(Object(c.a)({},e),{},Object(i.a)({},C[t].key,C[t].value))}),{}),u.logging.logDebug("settings -> environment -> save:",t),e.next=4,Object(u.fetchDynamicSpaces)({url:"api2/dynamic-spaces/".concat(le,"/user-env"),method:"POST",data:JSON.stringify(t)});case 4:200===(a=e.sent).status?(u.logging.logDebug("settings -> environment -> save -> reqRes:",a),n=Object.keys(a.data).reduce((function(e,t,n){return Object(c.a)(Object(c.a)({},e),{},Object(i.a)({},n.toString(),{key:t,value:a.data[t]}))}),{}),u.logging.logDebug("settings -> keysValues ->",n),S(n),y(n),D(Object.keys(a.data).length),pe("Save environment success",".env is successfully saved")):ue(a.data.message||a.data.errorMessage,"Save environment error");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(o.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.next=3,fe();case 3:L(!0),q(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(o.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.fetchDynamicSpaces)({url:"api2/dynamic-spaces/".concat(le,"/restart-app"),method:"POST"});case 2:200!==(t=e.sent).status?(u.logging.logDebug("settings -> environment -> save -> reqRes:",t),ue(t.data.message||t.data.errorMessage,"Restart application error")):be("Application is restarting","Application restart");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(o.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!0),e.next=3,fe();case 3:return e.next=5,Oe();case 5:L(!0),X(!1),ae(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:v.a.env_wrapper+" w3s-environment-view"+(t?" ".concat(t):""),children:[K&&Object(x.jsx)(g.a,{title:"Remove key?",backdrop:"static",cancelText:"Cancel",okText:"Remove",show:K,okButtonVariant:"destructive",handleClose:function(){return J(!1)},handleOk:function(){je(re)},children:Object(x.jsxs)(x.Fragment,{children:["Remove key ",'"'.concat(C[re].key,'"?')]})}),te&&Object(x.jsx)(g.a,{title:"Save and restart?",size:"lg",backdrop:"static",cancelText:"Cancel",okText:"Save and restart",show:te,okButtonVariant:"primary",loading:Y,extraButtons:Object(x.jsx)(u.Button,{onClick:function(e){e.preventDefault(),ae(!1),me()},text:"Just save",variant:"secondary"}),handleClose:function(){ae(!1)},handleOk:function(){ge()},children:Object(x.jsx)(x.Fragment,{children:"Save and restart application? Restarting application may take up to a few minutes."})}),R&&Object(x.jsx)("div",{className:v.a.loading_box_wrapper,children:Object(x.jsx)(u.LoadingBox,{})}),Object(x.jsxs)("div",{className:v.a.env_table_wrapper+(R?" ".concat(v.a.loading):""),children:[Object(x.jsxs)("div",{className:v.a.env_table_header_text,children:[".env ",Object(x.jsx)("span",{children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:v.a.add_row_text,children:"add"}),Object(x.jsx)("div",{className:v.a.add_row_button,onClick:function(e){var t;e.preventDefault(),D(F+1),y(Object(c.a)(Object(c.a)({},C),{},Object(i.a)({},F+1,{key:"",value:""}))),window.scrollTo({top:document.documentElement.scrollHeight});var a=null===(t=document)||void 0===t?void 0:t.querySelector(".modal-body");null===a||void 0===a||a.scrollTo({top:a.scrollHeight}),L(!1)},children:Object(x.jsx)(h.a,{width:"20",height:"20"})})]})})]}),Object(x.jsx)("div",{children:Object(x.jsxs)(p.a,{children:[Object(x.jsxs)("div",{style:{width:"800px",display:"table-row"},children:[Object(x.jsx)("div",{className:v.a.env_table_header,children:"Key"}),Object(x.jsx)("div",{className:v.a.env_table_header,children:" Value"}),Object(x.jsx)("div",{style:{width:"50px",height:"46px",border:"1px solid #dee2e6",display:"table-cell",background:"#dcdcdc"}})]}),Object(x.jsx)(x.Fragment,{children:Object.keys(C).map((function(e,t){return Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)("textarea",{value:C[e].key,className:v.a.env_text_area+" ".concat(v.a.keys),onChange:function(t){t.preventDefault(),y(Object(c.a)(Object(c.a)({},C),{},Object(i.a)({},e,Object(c.a)(Object(c.a)({},C[e]),{},{key:t.target.value.replace("\n","")})))),L(!1)},ref:function(t){ce.current[e]=Object(c.a)(Object(c.a)({},ce.current[e]),{},{key:t})}}),Object(x.jsx)("textarea",{value:C[e].value,onChange:function(t){t.preventDefault(),y(Object(c.a)(Object(c.a)({},C),{},Object(i.a)({},e,Object(c.a)(Object(c.a)({},C[e]),{},{value:t.target.value.replace("\n","")})))),L(!1)},className:v.a.env_text_area+" ".concat(v.a.values),ref:function(t){ce.current[e]=Object(c.a)(Object(c.a)({},ce.current[e]),{},{value:t})}}),he(e)]},e)}))})]})}),Object(x.jsxs)("div",{className:v.a.save_revert_buttons,children:[Object(x.jsx)(u.Button,{text:"Revert",variant:"tertiary",disabled:I,onClick:function(e){e.preventDefault(),e.target.blur(),y(N),D(Object.keys(N).length),L(!0)}}),Object(x.jsx)(u.Button,{text:I?"Saved":"Save",disabled:I,variant:"primary",loading:Z,onClick:function(e){e.preventDefault(),e.target.blur(),ae(!0)}})]})]})]})}},704:function(e,t,a){e.exports={env_wrapper:"Environment_env_wrapper__1N2M0",env_spinner:"Environment_env_spinner__1lvGB",env_table_wrapper:"Environment_env_table_wrapper__YZAeh",loading:"Environment_loading__3vGqX",env_table_header_text:"Environment_env_table_header_text__2ozRc",add_row_button:"Environment_add_row_button__2PZ11",add_row_text:"Environment_add_row_text__2ikd3",env_table_header:"Environment_env_table_header__3TYzG",env_text_area:"Environment_env_text_area__1EUWp",remove_row_button_box:"Environment_remove_row_button_box__1rhwX",remove_row_button:"Environment_remove_row_button__1R6sJ",values:"Environment_values__1YZ8d",save_revert_buttons:"Environment_save_revert_buttons__128Gj",loading_box_wrapper:"Environment_loading_box_wrapper__2PlcK"}},705:function(e,t,a){e.exports={package_manager_wrapper:"PackageManager_package_manager_wrapper__249Ts",loading_box_wrapper:"PackageManager_loading_box_wrapper__ZZ6KG",package_table_wrapper:"PackageManager_package_table_wrapper__1VowK",table_header:"PackageManager_table_header__1ltkj",table_header_text:"PackageManager_table_header_text__EpyQZ",add_button:"PackageManager_add_button__3L04_",disabled:"PackageManager_disabled__1ZCSd",active:"PackageManager_active__2y8uU",link:"PackageManager_link__sDFBz",remove_button_wrapper:"PackageManager_remove_button_wrapper__30VWC",remove_row_button:"PackageManager_remove_row_button__1P7-d",remove_row_button_secondary:"PackageManager_remove_row_button_secondary__D5ob7",buttons:"PackageManager_buttons__3VMfv",modal_backdrop_override:"PackageManager_modal_backdrop_override__20JTi",modal_fullscreen_override:"PackageManager_modal_fullscreen_override__47rEf",modal_center_up:"PackageManager_modal_center_up__2gXqQ",fadeInKeyframe:"PackageManager_fadeInKeyframe__3lPla",fadeOutKeyframe:"PackageManager_fadeOutKeyframe__2XT--"}},706:function(e,t,a){e.exports={search_form:"AddPackage_search_form__2QMGQ",search_icon_wrapper:"AddPackage_search_icon_wrapper__JHQwg",invalid:"AddPackage_invalid__2AD8w",result_list_wrapper:"AddPackage_result_list_wrapper__3zfCa",disabled:"AddPackage_disabled__2mTiZ",result_row:"AddPackage_result_row__3Lct-",result_header_wrapper:"AddPackage_result_header_wrapper__H5SQ3",docs_and_add_button:"AddPackage_docs_and_add_button__1TsI8",docs_button:"AddPackage_docs_button__mxDbr",result_name_version:"AddPackage_result_name_version__-y0YC",result_name:"AddPackage_result_name__1XRVR",active:"AddPackage_active__-V8L3",link:"AddPackage_link__SafPG",add_button:"AddPackage_add_button__3pIBW",result_description:"AddPackage_result_description__3pn2X",small_text:"AddPackage_small_text__vPMNh",modal_center_up:"AddPackage_modal_center_up__1HXQZ",fadeInKeyframe:"AddPackage_fadeInKeyframe__2BJNs",fadeOutKeyframe:"AddPackage_fadeOutKeyframe__3DRSt"}},726:function(e,t,a){"use strict";var n=a(192),s=a(626),r=a(19),i=a(38),c=a(129),o=a(8),l=a(43),d=a(2),p=a(28),u=a(18),b=a(5),h=a(84),j=a(36),f=a(598),m=a(47),O=a(29),g=a(688),_=a(705),v=a.n(_),x=a(318),C=a.n(x),y=a(793),w=a(1254),k=a(622),N=a(189),S=a(706),E=a.n(S),M=a(4),F=function(){return Object(M.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(M.jsx)("path",{d:"M8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8C15 11.866 11.866 15 8 15ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z",fill:"black"}),Object(M.jsx)("path",{d:"M8.9307 6.58789L6.63969 6.875L6.55766 7.25586L7.00883 7.33789C7.3018 7.4082 7.36039 7.51367 7.29594 7.80664L6.55766 11.2754C6.3643 12.1719 6.66313 12.5938 7.36625 12.5938C7.91117 12.5938 8.54398 12.3418 8.83109 11.9961L8.91898 11.5801C8.71977 11.7559 8.4268 11.8262 8.23344 11.8262C7.95805 11.8262 7.85844 11.6328 7.92875 11.293L8.9307 6.58789Z",fill:"black"}),Object(M.jsx)("path",{d:"M9 4.5C9 5.05228 8.55229 5.5 8 5.5C7.44772 5.5 7 5.05228 7 4.5C7 3.94772 7.44772 3.5 8 3.5C8.55229 3.5 9 3.94772 9 4.5Z",fill:"black"})]})},D=function(){return Object(M.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(M.jsx)("path",{d:"M16.3714 2.22558C16.133 2.13021 15.867 2.13021 15.6286 2.22558L3.69258 6.99999L8.5 8.92295L20.8074 3.99999L16.3714 2.22558ZM23.5 5.07702L11.1926 9.99999L16 11.923L28.3074 6.99999L23.5 5.07702ZM30 8.47702L17 13.677V29.523L30 24.323V8.47702ZM15 29.523V13.677L2 8.47702V24.323L15 29.523ZM14.8858 0.368623C15.6011 0.0825295 16.3989 0.0825294 17.1142 0.368623L31.3714 6.07151C31.751 6.22337 32 6.59108 32 6.99999V24.323C32 25.1408 31.5021 25.8762 30.7428 26.1799L16.3714 31.9285C16.133 32.0238 15.867 32.0238 15.6286 31.9285L1.25722 26.1799C0.497902 25.8762 0 25.1408 0 24.323V6.99999C0 6.59108 0.248951 6.22337 0.628609 6.07151L14.8858 0.368623Z",fill:"black"})})},T=function(e){var t=e.width,a=void 0===t?"22":t,n=e.height,s=void 0===n?"18":n;return Object(M.jsx)("svg",{width:a,height:s,viewBox:"0 0 22 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(M.jsx)("path",{d:"M19.473 0.939339C20.0511 0.353554 20.9883 0.353554 21.5664 0.939339C22.1374 1.51794 22.1444 2.45163 21.5874 3.03894L9.76049 17.0195C9.74912 17.0339 9.73697 17.0476 9.72409 17.0607C9.146 17.6464 8.20873 17.6464 7.63065 17.0607L0.433568 9.76777C-0.144523 9.18198 -0.144523 8.23223 0.433568 7.64645C1.01166 7.06066 1.94893 7.06066 2.52702 7.64645L8.63277 13.8335L19.4337 0.984209C19.4459 0.96847 19.459 0.953486 19.473 0.939339Z",fill:"#04AA6D"})})},P=function(){return Object(M.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(M.jsx)("path",{d:"M0.146447 0.853554C-0.0488156 0.658291 -0.0488156 0.341709 0.146447 0.146447C0.341709 -0.0488155 0.658292 -0.0488155 0.853554 0.146447L6 5.29289L11.1464 0.146447C11.3417 -0.0488155 11.6583 -0.0488155 11.8536 0.146447C12.0488 0.341709 12.0488 0.658291 11.8536 0.853554L6.70711 6L11.8536 11.1464C12.0488 11.3417 12.0488 11.6583 11.8536 11.8536C11.6583 12.0488 11.3417 12.0488 11.1464 11.8536L6 6.70711L0.853554 11.8536C0.658292 12.0488 0.341709 12.0488 0.146447 11.8536C-0.048815 11.6583 -0.048815 11.3417 0.146447 11.1464L5.29289 6L0.146447 0.853554Z",fill:"#FF0000"})})},I={timeoutId:void 0,debounce:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(e,t)}},L=function(e){var t=e.displayAddPackageModal,a=e.handleCloseAddPackageModal,n=e.handleOnSubmitAddPackage,s=e.runtime,c=void 0===s?"node":s,o=Object(d.useState)(""),u=Object(l.a)(o,2),h=u[0],j=u[1],f=Object(d.useState)(""),g=Object(l.a)(f,2),_=g[0],v=g[1],x=Object(d.useState)(""),S=Object(l.a)(x,2),L=S[0],A=S[1],H=Object(d.useState)([]),R=Object(l.a)(H,2),V=(R[0],R[1],Object(d.useState)(!1)),B=Object(l.a)(V,2),U=B[0],Z=B[1],q=Object(d.useState)(!1),z=Object(l.a)(q,2),Q=z[0],Y=z[1],X=Object(d.useState)(""),G=Object(l.a)(X,2),W=G[0],K=G[1],J=Object(d.useState)(""),$=Object(l.a)(J,2),ee=$[0],te=$[1],ae=Object(d.useState)(!1),ne=Object(l.a)(ae,2),se=ne[0],re=ne[1],ie=Object(d.useState)(!1),ce=Object(l.a)(ie,2),oe=ce[0],le=ce[1],de=Object(d.useState)(!1),pe=Object(l.a)(de,2),ue=pe[0],be=pe[1],he=Object(d.useState)(!1),je=Object(l.a)(he,2),fe=je[0],me=je[1],Oe=Object(d.useState)([]),ge=Object(l.a)(Oe,2),_e=ge[0],ve=ge[1],xe=Object(p.c)(),Ce=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var a,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),b.logging.logDebug(h),a={baseURL:"https://registry.npmjs.org",url:"/-/v1/search",method:"GET",params:{text:t,size:15,popularity:.7,quality:.2,maintenance:.1}},b.logging.logDebug("Settings -> AddPackage -> search package -> prs:",a),e.prev=4,e.next=7,C()(a);case 7:n=e.sent,b.logging.logDebug(n.data.objects),ve(n.data.objects.map((function(e){return{name:e.package.name,version:e.package.version,description:e.package.description,link:e.package.links.npm}}))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),xe(Object(m.a)({id:Object(O.g)(),dismissed:!1,type:"error",header:"Search package error",body:Object(M.jsx)("span",{children:e.t0.message})}));case 15:return Z(!1),e.abrupt("return",Promise.resolve);case 17:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var a,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={baseURL:"https://pypi.org",url:"/pypi/".concat(t,"/json"),method:"GET"},b.logging.logDebug("Settings -> AddPackage -> GET -> pypi package info -> prs:",a),e.prev=2,e.next=5,C()(a);case 5:n=e.sent,A(n.data.info.version),K(n.data.info.summary),te(n.data.info.home_page),le(!0),be(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),404===e.t0.response.status?(A(""),le(!1)):xe(Object(m.a)({id:Object(O.g)(),dismissed:!1,type:"error",header:"Get package info error",body:Object(M.jsx)("span",{children:e.t0.message})}));case 16:me(!0),Y(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,a){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={baseURL:"https://pypi.org",url:"/pypi/".concat(t,"/").concat(a,"/json"),method:"GET"},e.prev=1,e.next=4,C()(n);case 4:e.sent,be(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),404===e.t0.response.status?be(!1):xe(Object(m.a)({id:Object(O.g)(),dismissed:!1,type:"error",header:"Get package version info error",body:Object(M.jsx)("span",{children:e.t0.message})}));case 11:re(!1),me(!0);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),ke={node:function(){return Object(M.jsxs)("div",{className:"",children:[Object(M.jsx)(y.a,{onSubmit:function(e){e.preventDefault()},children:Object(M.jsxs)(w.a,{className:E.a.search_form,children:[Object(M.jsx)(w.a.Prepend,{className:E.a.search_icon_wrapper,children:Object(M.jsx)(k.a,{})}),Object(M.jsx)(y.a.Control,{placeholder:"Search for a package",type:"text",value:h,onChange:function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t.target.value),Z(!0),I.debounce(Ce.bind(null,t.target.value),500);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),style:{borderLeft:"none"}})]})}),Object(M.jsx)("div",{className:E.a.result_list_wrapper,children:U?Object(M.jsxs)("div",{style:{textAlign:"left",width:"400px",marginTop:"10px",marginLeft:"5px",display:"flex",alignItems:"center"},children:[Object(M.jsx)(b.Spinner,{size:"small"}),Object(M.jsx)("span",{className:E.a.small_text,children:"searching..."})]}):Object(M.jsx)(M.Fragment,{children:_e.map((function(e){return Object(M.jsxs)("div",{className:E.a.result_row,onClick:function(t){t.preventDefault(),n(e.name,"^".concat(e.version))},children:[Object(M.jsxs)("div",{className:E.a.result_header_wrapper,children:[Object(M.jsxs)("div",{className:E.a.result_name_version,children:[Object(M.jsx)(D,{}),Object(M.jsx)("span",{className:E.a.result_name,children:e.name}),Object(M.jsxs)("span",{children:["v.",e.version]})]}),Object(M.jsxs)("div",{className:E.a.docs_and_add_button,children:[Object(M.jsxs)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:E.a.docs_button,onClick:function(e){e.stopPropagation(),e.target.blur()},children:[Object(M.jsx)(F,{}),Object(M.jsx)("span",{style:{marginLeft:"2px"},children:"Docs"})]}),Object(M.jsxs)("div",{className:E.a.add_button,onClick:function(t){t.stopPropagation(),n(e.name,"^".concat(e.version))},children:[Object(M.jsx)("span",{children:"+"}),Object(M.jsx)("span",{style:{marginLeft:"5px"},children:"Add"})]})]})]}),Object(M.jsx)("span",{className:E.a.result_description,children:e.description})]},e.name)}))})})]})},python:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(y.a,{children:[Object(M.jsxs)(y.a.Group,{className:"",children:[Object(M.jsx)(y.a.Label,{children:Object(M.jsx)("strong",{children:"Name"})}),Object(M.jsxs)(w.a,{className:E.a.search_form,children:[Object(M.jsx)(w.a.Prepend,{className:E.a.search_icon_wrapper+(oe||""===_||Q?"":" ".concat(E.a.invalid)),children:Object(M.jsx)(k.a,{})}),Object(M.jsx)(y.a.Control,{type:"text",isInvalid:!oe&&""!==_&&fe,value:_,style:{borderLeft:"none",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},onChange:function(e){Y(!0),v(e.target.value),me(!1),I.debounce(ye.bind(null,e.target.value),500)}}),Object(M.jsx)(y.a.Control.Feedback,{type:"invalid",children:Object(M.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(M.jsx)(P,{}),Object(M.jsx)("span",{style:{marginLeft:"8px"},children:"Package not found..."})]})})]}),Q&&Object(M.jsxs)("div",{style:{marginTop:"5px",marginLeft:"2px",display:"flex",alignItems:"center"},children:[Object(M.jsx)(b.Spinner,{size:"small"}),Object(M.jsx)("span",{className:E.a.small_text,children:"searching..."})]}),!Q&&oe&&Object(M.jsxs)("div",{style:{marginTop:"5px",marginLeft:"2px",display:"flex",alignItems:"center"},children:[Object(M.jsx)(T,{height:"12",width:"16"}),Object(M.jsx)("span",{className:E.a.small_text,children:"Found package..."})]})]}),Object(M.jsxs)(y.a.Group,{className:"",children:[Object(M.jsx)(y.a.Label,{children:Object(M.jsx)("strong",{children:"Version"})}),Object(M.jsxs)(w.a,{className:E.a.search_form,children:[Object(M.jsx)(w.a.Prepend,{className:E.a.search_icon_wrapper+(ue||""===L||se?"":" ".concat(E.a.invalid)),children:Object(M.jsx)(k.a,{})}),Object(M.jsx)(y.a.Control,{type:"text",value:L,isInvalid:!ue&&""!==L&&fe,style:{borderLeft:"none",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},onChange:function(e){A(e.target.value),re(!0),me(!1),I.debounce(we.bind(null,_,e.target.value),500)}}),Object(M.jsx)(y.a.Control.Feedback,{type:"invalid",children:Object(M.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(M.jsx)(P,{}),Object(M.jsx)("span",{style:{marginLeft:"8px"},children:"Version not found..."})]})})]}),se&&Object(M.jsxs)("div",{style:{marginTop:"5px",marginLeft:"2px",display:"flex",alignItems:"center"},children:[Object(M.jsx)(b.Spinner,{size:"small"}),Object(M.jsx)("span",{className:E.a.small_text,children:"searching..."})]}),!se&&ue&&Object(M.jsxs)("div",{style:{marginTop:"5px",marginLeft:"2px",display:"flex",alignItems:"center"},children:[Object(M.jsx)(T,{height:"12",width:"16"}),Object(M.jsx)("span",{className:E.a.small_text,children:"Found version..."})]})]})]}),oe&&!Q&&Object(M.jsx)("div",{className:E.a.result_list_wrapper+(!ue||se?"  ".concat(E.a.disabled):""),children:Object(M.jsxs)("div",{className:E.a.result_row,onClick:function(e){e.preventDefault(),n(_,"".concat(L))},children:[Object(M.jsxs)("div",{className:E.a.result_header_wrapper,children:[Object(M.jsxs)("div",{className:E.a.result_name_version,children:[Object(M.jsx)(D,{}),Object(M.jsx)("span",{className:E.a.result_name,children:_}),Object(M.jsxs)("span",{children:["v.",L]})]}),Object(M.jsxs)("div",{className:E.a.docs_and_add_button,children:[Object(M.jsxs)("a",{href:ee,target:"_blank",rel:"noopener noreferrer",className:E.a.docs_button,onClick:function(e){e.stopPropagation(),e.target.blur()},children:[Object(M.jsx)(F,{}),Object(M.jsx)("span",{style:{marginLeft:"2px"},children:"Docs"})]}),Object(M.jsxs)("div",{className:E.a.add_button,onClick:function(e){e.stopPropagation(),n(_,"".concat(L))},children:[Object(M.jsx)("span",{children:"+"}),Object(M.jsx)("span",{style:{marginLeft:"5px"},children:"Add"})]})]})]}),Object(M.jsx)("span",{className:E.a.result_description,children:W})]})})]})}};return Object(M.jsx)(M.Fragment,{children:t&&Object(M.jsx)(N.a,{title:"Add new package",backdrop:"static",cancelText:"Cancel",okText:"Add package",size:"lg",displayCancel:!1,displayOk:!1,show:t,okButtonVariant:"primary",handleClose:a,handleOk:function(e){e.preventDefault(),n(_,L)},children:ke[c](),className:E.a.modal_center_up})})},A=a(78),H=function(e){var t=e.width,a=void 0===t?"8":t,n=e.height,s=void 0===n?"8":n;return Object(M.jsx)("svg",{width:a,height:s,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(M.jsx)("path",{d:"M0.146447 0.853554C-0.0488156 0.658291 -0.0488156 0.341709 0.146447 0.146447C0.341709 -0.0488155 0.658292 -0.0488155 0.853554 0.146447L6 5.29289L11.1464 0.146447C11.3417 -0.0488155 11.6583 -0.0488155 11.8536 0.146447C12.0488 0.341709 12.0488 0.658291 11.8536 0.853554L6.70711 6L11.8536 11.1464C12.0488 11.3417 12.0488 11.6583 11.8536 11.8536C11.6583 12.0488 11.3417 12.0488 11.1464 11.8536L6 6.70711L0.853554 11.8536C0.658292 12.0488 0.341709 12.0488 0.146447 11.8536C-0.048815 11.6583 -0.048815 11.3417 0.146447 11.1464L5.29289 6L0.146447 0.853554Z",fill:"black"})})},R=function(){return Object(M.jsx)("svg",{width:"22",height:"24",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(M.jsx)("path",{d:"M32 16C32 24.8366 24.8366 32 16 32C7.16344 32 0 24.8366 0 16C0 7.16344 7.16344 0 16 0C24.8366 0 32 7.16344 32 16ZM16 8C14.9292 8 14.0925 8.92457 14.199 9.99008L14.9005 17.005C14.957 17.5698 15.4323 18 16 18C16.5677 18 17.043 17.5698 17.0995 17.005L17.801 9.99007C17.9075 8.92457 17.0708 8 16 8ZM16.0031 20C14.8985 20 14.0031 20.8954 14.0031 22C14.0031 23.1046 14.8985 24 16.0031 24C17.1077 24 18.0031 23.1046 18.0031 22C18.0031 20.8954 17.1077 20 16.0031 20Z",fill:"black"})})},V={node:"package.json",python:"requirements.txt"};t.a=function(e){var t=e.className,a=Object(p.c)(),_=Object(d.useState)("node"),x=Object(l.a)(_,2),C=x[0],y=x[1],w=Object(p.d)((function(e){return e.main})),k=w.spaces,S=Object(d.useState)(),E=Object(l.a)(S,2),F=E[0],P=E[1],I=Object(j.i)().spaceId,B=Object(d.useState)({}),U=Object(l.a)(B,2),Z=U[0],q=U[1],z=Object(d.useState)(!1),Q=Object(l.a)(z,2),Y=Q[0],X=Q[1],G=Object(d.useState)(!1),W=Object(l.a)(G,2),K=W[0],J=W[1],$=Object(d.useState)(!1),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],ne=Object(d.useState)(!1),se=Object(l.a)(ne,2),re=se[0],ie=se[1],ce=Object(d.useState)(!1),oe=Object(l.a)(ce,2),le=oe[0],de=oe[1],pe=Object(d.useState)(!1),ue=Object(l.a)(pe,2),be=ue[0],he=ue[1],je=Object(d.useState)(""),fe=Object(l.a)(je,2),me=fe[0],Oe=fe[1],ge=Object(d.useState)(""),_e=Object(l.a)(ge,2),ve=_e[0],xe=_e[1],Ce=Object(d.useState)(!0),ye=Object(l.a)(Ce,2),we=ye[0],ke=ye[1],Ne=Object(d.useState)(0),Se=Object(l.a)(Ne,2),Ee=Se[0],Me=Se[1],Fe=Object(d.useState)({}),De=Object(l.a)(Fe,2),Te=De[0],Pe=De[1],Ie=function(e){var t=document.querySelector(".modal-backdrop");e?null===t||void 0===t||t.classList.add(v.a.modal_backdrop_override):null===t||void 0===t||t.classList.remove(v.a.modal_backdrop_override)},Le=function(e){var t=document.querySelector(".w3s-modal-fullscreen");e?null===t||void 0===t||t.classList.add(v.a.modal_fullscreen_override):null===t||void 0===t||t.classList.remove(v.a.modal_fullscreen_override)};Object(d.useEffect)((function(){return Ie(!0),function(){Ie(!1)}}),[]);var Ae=Object(d.useCallback)((function(e,t){"quota"===e.context?a(Object(f.a)(e,t)):"BRIFC3"===e.code?a(Object(m.a)({id:Object(O.g)(),dismissed:!1,type:"error",header:"Your file could not be saved",body:Object(M.jsxs)(M.Fragment,{children:["Sorry, the file ",Object(M.jsx)("strong",{children:h.o(t.base_name)})," could not be saved. This is a permanent error with code ",e.code,". Please contact support."]})})):a(Object(m.a)({id:Object(O.g)(),dismissed:!1,type:"error",header:"File processing error",body:"".concat(e.description)}))}),[a]),He=Object(d.useCallback)(function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var n,s,i,c,o,l,d,p,b,j,g,_;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=h.h("".concat(I,"/").concat(V[t]))).processing=!0,a(Object(A.a)([i])),e.next=5,h.g(i,w);case 5:if("undefined"!==typeof(c=e.sent).data._update_main_state&&a(Object(A.q)(c.data._update_main_state)),"undefined"!==typeof c.data._update_space&&null!==c.data._update_space&&a(Object(A.r)(c.data._update_space)),"0"===(null===(n=c.error)||void 0===n?void 0:n.code)){e.next=12;break}return"quota"===(null===(o=c.error)||void 0===o?void 0:o.context)?l=a(Object(f.a)(c.error,i)):(a(Object(m.a)({id:Object(O.g)(),dismissed:!1,type:"error",header:"Upload error",body:null===(d=c.error)||void 0===d?void 0:d.description})),l=null===(p=c.error)||void 0===p?void 0:p.description),a(Object(A.o)(i,u.a.Error,l)),e.abrupt("return");case 12:return e.next=14,h.r(c.data.url,i);case 14:return e.next=16,h.q(i,w);case 16:if("undefined"!==typeof(b=e.sent).data._update_main_state&&a(Object(A.q)(b.data._update_main_state)),"undefined"!==typeof b.data._update_space&&null!==b.data._update_space&&(b.data._update_space.files=b.data._update_space.files.map((function(e){return e.path===b.data.file.Key&&(e.last_modified=new Date(b.data.file.LastModified),e.processing_status=u.a.Uploaded),e})),a(Object(A.r)(b.data._update_space))),"0"===(null===(s=b.error)||void 0===s?void 0:s.code)){e.next=24;break}return"quota"===(null===(j=b.error)||void 0===j?void 0:j.context)?a(Object(f.a)(b.error,i)):a(Object(m.a)({id:Object(O.g)(),dismissed:!1,type:"error",header:"Upload error",body:null===(_=b.error)||void 0===_?void 0:_.description})),a(Object(A.o)(i,u.a.Error,null===(g=b.error)||void 0===g?void 0:g.description)),X(!1),e.abrupt("return");case 24:i.processing=!1;case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,w,I]),Re=Object(d.useCallback)(function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,n){var s,i,l,d;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X(!0),s=t.files.find((function(e){return e.path==="".concat(I,"/").concat(V[n])}))){e.next=10;break}return b.logging.logDebug("Settings -> PackageManager -> package file not found -> create empty file"),q({}),a(Object(m.a)({id:Object(O.g)(),dismissed:!1,type:"info",header:"Creating empty ".concat("node"===n?"package.json":"requirements.txt"," file"),body:Object(M.jsx)(M.Fragment,{children:"".concat("node"===n?"package.json":"requirements.txt"," is not found. Creating a new empty ").concat("node"===n?"package.json":"requirements.txt","...")})})),e.next=8,He(n);case 8:return X(!1),e.abrupt("return");case 10:if(!s.contents||""===s.contents){e.next=14;break}return b.logging.logDebug("Settings -> PackageManager -> file already cached -> skip fetch"),q(JSON.parse(s.contents).dependencies),e.abrupt("return");case 14:return e.next=16,h.m(s,w);case 16:if(i=e.sent,b.logging.logDebug("Settings -> fetchFileContents -> FileUtil.getSignedFilePreviewUrlResponse -> file_signed_url_req_res: ",i),"0"===i.error.code){e.next=21;break}return Ae(i.error,s),e.abrupt("return");case 21:return e.next=23,Object(b.fetch)({method:"GET",url:i.data.url,authenticated:!1});case 23:if("0"===(l=e.sent).error.code){e.next=27;break}return Ae(l.error,s),e.abrupt("return");case 27:if("application/json"===s.mime_type?d=l.data:(r=l.data,d={dependencies:r.split("\n").filter((function(e){return""!==e})).reduce((function(e,t){var a=t.split("==");return Object(o.a)(Object(o.a)({},e),{},Object(c.a)({},a[0],a[1]))}),{})}),q(d),""!==d){e.next=33;break}return X(!1),q({dependencies:{}}),e.abrupt("return");case 33:e.prev=33,Pe(Object.keys(d.dependencies).reduce((function(e,t,a){if("string"!==typeof d.dependencies[t])throw new Error("Wrong format");return Object(o.a)(Object(o.a)({},e),{},Object(c.a)({},t,{package:Object(c.a)({},t,d.dependencies[t]),installed:!0}))}),{})),Me(Object.keys(d.dependencies).length),e.next=42;break;case 38:return e.prev=38,e.t0=e.catch(33),a(Object(m.a)({id:Object(O.g)(),dismissed:!1,type:"error",header:"".concat("node"===n?"package.json":"requirements.tx"," format error"),body:Object(M.jsx)(M.Fragment,{children:"".concat("node"===n?"package.json":"requirements.tx"," is in wrong format.")})})),e.abrupt("return");case 42:return b.logging.logDebug("Settings -> PackageManager -> fetch data finished"),X(!1),e.abrupt("return");case 45:case"end":return e.stop()}var r}),e,null,[[33,38]])})));return function(t,a){return e.apply(this,arguments)}}(),[He,a,Ae,w,I]),Ve=Object(d.useMemo)((function(){return{getDependencies:function(){return Object.keys(Te).reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),Te[t].package)}),{})},runtimes:{node:{getNewFilecontent:function(e){var t=Z;return Z.dependencies=e,JSON.stringify(t)},path:"".concat(I,"/package.json")},python:{getNewFilecontent:function(e){return Object.keys(e).reduce((function(t,a){return t+"".concat(a,"==").concat(e[a],"\n")}),"")},path:"".concat(I,"/requirements.txt")}}}}),[Z,Te,I]),Be=Object(d.useCallback)(Object(i.a)(Object(r.a)().mark((function e(){var t,n,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),t=Ve.getDependencies(),n=Ve.runtimes[C].getNewFilecontent(t),b.logging.logDebug(n),e.next=6,Object(b.fetchSpaces)({url:"/files",method:"POST",data:{action:"updateContents",file:{path:Ve.runtimes[C].path,contents:n},_out_of_quota:w.usage_status._out_of_quota}});case 6:if(s=e.sent,b.logging.logDebug("Settings -> PackageManager -> file_update_req_res: ",s),"0"===s.error.code){e.next=11;break}return Ae(s.error,F.files.find((function(e){return e.path===V[C].replace("{spaceId}",I)}))),e.abrupt("return");case 11:return a(Object(m.a)({id:Object(O.g)(),dismissed:!1,type:"success",header:"".concat("node"===C?"package.json":"requirements.txt"," has been saved"),body:Object(M.jsx)(M.Fragment,{children:"".concat("node"===C?"package.json":"requirements.txt"," has been succesfully saved.")})})),J(!1),e.abrupt("return");case 14:case"end":return e.stop()}}),e)}))),[a,Ae,w.usage_status._out_of_quota,Ve,C,F,I]),Ue=Object(d.useCallback)((function(){var e=Object.keys(Te).reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(c.a)({},t,{package:Te[t].package,installed:!0}))}),{});Pe(e)}),[Te]),Ze=Object(d.useCallback)(Object(i.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(!0),ie(!1),e.next=4,Object(b.fetchDynamicSpaces)({url:"api2/dynamic-spaces/".concat(I,"/install-packages"),method:"POST",timeout:6e4}).then((function(e){b.logging.logDebug("Install packages response",e),503===e.status?a(Object(m.a)({id:Object(O.g)(),dismissed:!1,type:"info",header:"Package installing",body:Object(M.jsx)(M.Fragment,{children:"Packages are still being installed. Please wait a little while longer... Check logs for details."})})):"0"!==e.error.code?a(Object(m.a)({id:Object(O.g)(),dismissed:!1,type:"error",header:"Package install error",body:Object(M.jsx)(M.Fragment,{children:"An error occured installing packages"})})):a(Object(m.a)({id:Object(O.g)(),dismissed:!1,type:"info",header:"Package install",body:Object(M.jsx)(M.Fragment,{children:"Packages installed"})}))}));case 4:Ue(),ae(!1);case 6:case"end":return e.stop()}}),e)}))),[a,Ue,I]),qe=function(e){return Object(M.jsx)("div",{className:v.a.remove_button_wrapper,children:Te[e].installed?Object(M.jsxs)("div",{className:v.a.remove_row_button+" ".concat(K||te?v.a.disabled:""),onClick:function(t){t.preventDefault(),Oe(e),xe(Object.keys(Te[e].package)[0]),Le(!0),he(!0)},children:[Object(M.jsx)(H,{}),Object(M.jsx)("span",{style:{marginLeft:"5px"},children:"Uninstall"})]}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("span",{style:{textAlign:"right",marginRight:"4px"},children:"Not Installed..."}),Object(M.jsx)("div",{className:v.a.remove_row_button_secondary+" ".concat(K||te?v.a.disabled:""),onClick:function(t){t.preventDefault(),Oe(e),xe(Object.keys(Te[e].package)[0]),Le(!0),he(!0)},children:Object(M.jsx)(H,{width:"12",height:"12"})})]})})};return Object(d.useEffect)((function(){var e,t=k.filter((function(e){return e.id===I}))[0],a=(null===(e=t.dynamicMeta)||void 0===e?void 0:e.image.split("-")[0])||"node";y(a),P(t),Re(t,a)}),[]),Object(M.jsxs)("div",{className:v.a.package_manager_wrapper+(t?" ".concat(t):""),children:[Y?Object(M.jsx)("div",{className:v.a.loading_box_wrapper,children:Object(M.jsx)(b.LoadingBox,{})}):Object(M.jsxs)("div",{className:v.a.package_table_wrapper,children:[Object(M.jsxs)("div",{className:v.a.table_header,children:[Object(M.jsx)("span",{className:v.a.table_header_text,children:"Packages"}),Object(M.jsxs)("div",{className:v.a.add_button+" ".concat(K||te?v.a.disabled:""),onClick:function(e){e.stopPropagation(),Le(!0),de(!0)},children:[Object(M.jsx)("span",{children:"+"}),Object(M.jsx)("span",{style:{marginLeft:"5px"},children:"Add"})]})]}),Object(M.jsx)(g.a,{hover:!0,children:Object(M.jsx)("tbody",{children:Object(M.jsx)(M.Fragment,{children:Object.keys(Te).map((function(e,t){return Object(M.jsxs)("tr",{className:"w3s-table-td",children:[Object(M.jsxs)("td",{children:[Object(M.jsx)("span",{style:{marginRight:"20px"},children:Te[e].installed?Object(M.jsx)(T,{}):Object(M.jsx)(R,{})}),Object(M.jsx)("span",{style:{opacity:"".concat(Te[e].installed?"1":"0.5")},children:Object(M.jsx)(D,{})})]}),Object(M.jsx)("td",{style:{fontWeight:"700",opacity:"".concat(Te[e].installed?"1":"0.5")},children:Object.keys(Te[e].package)[0]}),Object(M.jsx)("td",{style:{textAlign:"left",opacity:"".concat(Te[e].installed?"1":"0.5")},children:("python"===C?"v":"")+Te[e].package[Object.keys(Te[e].package)[0]]}),Object(M.jsx)("td",{children:qe(e)})]},e)}))})})}),Object(M.jsx)("div",{className:v.a.buttons,children:Object(M.jsx)(b.Button,{text:"Install",onClick:function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Be();case 3:return e.next=5,Ze();case 5:ke(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),loading:K||te,disabled:K||te||we})})]}),le&&Object(M.jsx)(L,{displayAddPackageModal:le,handleCloseAddPackageModal:function(){Le(!1),de(!1)},handleOnSubmitAddPackage:function(e,t){var a,n;if((null===(a=Te[e])||void 0===a||null===(n=a.package)||void 0===n?void 0:n[e])===t)return Le(!1),void de(!1);Me(Ee+1),Pe(Object(o.a)(Object(o.a)({},Te),{},Object(c.a)({},e,{package:Object(c.a)({},e,t),installed:!1}))),Le(!1),de(!1),ke(!1)},runtime:C}),be&&Object(M.jsx)(N.a,{title:"Remove package?",backdrop:"static",cancelText:"Cancel",okText:"Remove package",okButtonVariant:"destructive",show:be,handleClose:function(e){Le(!1),he(!1)},handleOk:function(e){e.preventDefault();Te[me];var t=Object(n.a)(Te,[me].map(s.a));Pe(t),ke(!1),Le(!1),he(!1)},className:v.a.modal_center_up,children:Object(M.jsxs)(M.Fragment,{children:["Do you want to remove package ",Object(M.jsx)("strong",{children:ve}),"?"]})}),Object(M.jsx)(b.LoadingModal,{show:te&&!re,close:function(){ie(!0)},header:"Installing Packages",message:"This can take a while, please wait... :)"})]})}},728:function(e,t,a){"use strict";var n,s=a(69),r=a(19),i=a(38),c=a(187),o=a(188),l=a(190),d=a(191),p=a(2),u=a.n(p),b=a(589),h=a(665),j=a(18),f=a(47),m=a(78),O=a(28),g=a(40),_=a(29),v=a(5),x=a(609),C=["title","titleId"];function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},y.apply(this,arguments)}function w(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function k(e,t){var a=e.title,s=e.titleId,r=w(e,C);return p.createElement("svg",y({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},r),a?p.createElement("title",{id:s},a):null,n||(n=p.createElement("path",{d:"M19.4509 2.97969L17.0204 0.549219C16.654 0.183203 16.1743 0 15.6946 0C15.2146 0 14.7349 0.183203 14.3688 0.549219L0.549316 14.3687C-0.183105 15.1012 -0.183105 16.2883 0.549316 17.0203L2.97979 19.4508C3.3458 19.8168 3.82588 20 4.30557 20C4.78525 20 5.26533 19.8168 5.63135 19.4508L19.4505 5.63125C20.1833 4.89922 20.1833 3.71211 19.4509 2.97969ZM4.30596 18.125L1.8751 15.6945L10.6212 6.94727L13.0524 9.37852L4.30596 18.125ZM14.3782 8.05234L11.947 5.62109L15.6927 1.875H15.6946L18.1251 4.30547L14.3782 8.05234ZM16.8751 11.25L15.8337 13.3332L13.7501 14.375L15.8337 15.4168L16.8751 17.5L17.9165 15.4168L20.0001 14.375L17.9165 13.3332L16.8751 11.25ZM8.7501 3.75L9.3751 2.5L10.6251 1.875L9.3751 1.25L8.7501 0L8.1251 1.25L6.8751 1.875L8.1251 2.5L8.7501 3.75ZM3.1251 6.25L4.1665 4.1668L6.2501 3.125L4.1665 2.0832L3.1251 0L2.08369 2.0832L9.76399e-05 3.125L2.08369 4.1668L3.1251 6.25Z",fill:"#282A35"})))}var N,S,E=p.forwardRef(k),M=(a.p,a(598)),F=a(688),D=a(43),T=a(679),P=a(1254),I=a(647),L=(a(632),a(687),a(666)),A=a(649),H=["title","titleId"];function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},R.apply(this,arguments)}function V(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function B(e,t){var a=e.title,n=e.titleId,s=V(e,H);return p.createElement("svg",R({fill:"none",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),a?p.createElement("title",{id:n},a):null,N||(N=p.createElement("g",{clipPath:"url(#a)",fill:"#282A35",fillOpacity:.6},p.createElement("path",{d:"M14 1C14.2652 1 14.5196 1.10536 14.7071 1.29289C14.8946 1.48043 15 1.73478 15 2V14C15 14.2652 14.8946 14.5196 14.7071 14.7071C14.5196 14.8946 14.2652 15 14 15H2C1.73478 15 1.48043 14.8946 1.29289 14.7071C1.10536 14.5196 1 14.2652 1 14V2C1 1.73478 1.10536 1.48043 1.29289 1.29289C1.48043 1.10536 1.73478 1 2 1H14ZM2 0C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2L0 14C0 14.5304 0.210714 15.0391 0.585786 15.4142C0.960859 15.7893 1.46957 16 2 16H14C14.5304 16 15.0391 15.7893 15.4142 15.4142C15.7893 15.0391 16 14.5304 16 14V2C16 1.46957 15.7893 0.960859 15.4142 0.585786C15.0391 0.210714 14.5304 0 14 0L2 0Z"}),p.createElement("path",{d:"M4 8C4 7.86739 4.05268 7.74021 4.14645 7.64645C4.24021 7.55268 4.36739 7.5 4.5 7.5H11.5C11.6326 7.5 11.7598 7.55268 11.8536 7.64645C11.9473 7.74021 12 7.86739 12 8C12 8.13261 11.9473 8.25979 11.8536 8.35355C11.7598 8.44732 11.6326 8.5 11.5 8.5H4.5C4.36739 8.5 4.24021 8.44732 4.14645 8.35355C4.05268 8.25979 4 8.13261 4 8Z"}))),S||(S=p.createElement("defs",null,p.createElement("clipPath",{id:"a"},p.createElement("rect",{width:16,height:16,fill:"#fff"})))))}var U,Z,q=p.forwardRef(B),z=(a.p,["title","titleId"]);function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Q.apply(this,arguments)}function Y(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function X(e,t){var a=e.title,n=e.titleId,s=Y(e,z);return p.createElement("svg",Q({fill:"none",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),a?p.createElement("title",{id:n},a):null,U||(U=p.createElement("g",{clipPath:"url(#a)",fill:"#282A35",fillOpacity:.6},p.createElement("path",{d:"M14 1C14.2652 1 14.5196 1.10536 14.7071 1.29289C14.8946 1.48043 15 1.73478 15 2V14C15 14.2652 14.8946 14.5196 14.7071 14.7071C14.5196 14.8946 14.2652 15 14 15H2C1.73478 15 1.48043 14.8946 1.29289 14.7071C1.10536 14.5196 1 14.2652 1 14V2C1 1.73478 1.10536 1.48043 1.29289 1.29289C1.48043 1.10536 1.73478 1 2 1H14ZM2 0C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2L0 14C0 14.5304 0.210714 15.0391 0.585786 15.4142C0.960859 15.7893 1.46957 16 2 16H14C14.5304 16 15.0391 15.7893 15.4142 15.4142C15.7893 15.0391 16 14.5304 16 14V2C16 1.46957 15.7893 0.960859 15.4142 0.585786C15.0391 0.210714 14.5304 0 14 0L2 0Z"}),p.createElement("path",{d:"M8 4C8.13261 4 8.25979 4.05268 8.35355 4.14645C8.44732 4.24021 8.5 4.36739 8.5 4.5V7.5H11.5C11.6326 7.5 11.7598 7.55268 11.8536 7.64645C11.9473 7.74021 12 7.86739 12 8C12 8.13261 11.9473 8.25979 11.8536 8.35355C11.7598 8.44732 11.6326 8.5 11.5 8.5H8.5V11.5C8.5 11.6326 8.44732 11.7598 8.35355 11.8536C8.25979 11.9473 8.13261 12 8 12C7.86739 12 7.74021 11.9473 7.64645 11.8536C7.55268 11.7598 7.5 11.6326 7.5 11.5V8.5H4.5C4.36739 8.5 4.24021 8.44732 4.14645 8.35355C4.05268 8.25979 4 8.13261 4 8C4 7.86739 4.05268 7.74021 4.14645 7.64645C4.24021 7.55268 4.36739 7.5 4.5 7.5H7.5V4.5C7.5 4.36739 7.55268 4.24021 7.64645 4.14645C7.74021 4.05268 7.86739 4 8 4Z"}))),Z||(Z=p.createElement("defs",null,p.createElement("clipPath",{id:"a"},p.createElement("rect",{width:16,height:16,fill:"#fff"})))))}var G=p.forwardRef(X),W=(a.p,a(619)),K=a(602),J=a(4);var $=function(e){var t=u.a.useRef(e.item.name),a=u.a.useRef(""),n=u.a.useState(!0),s=Object(D.a)(n,2),r=s[0],i=s[1],c=u.a.useState(""),o=Object(D.a)(c,2),l=o[0],d=o[1];function p(a){var n=e.item;if(r){n.name=t.current,n.base_name=t.current,n.base_name_lowercased=t.current.toLowerCase();var s=n.path.split("/");s[s.length-2]=n.name,n.path=s.join("/"),n.rel_path=Object(x.d)(n.path),e.handleClickSaveNewFolder(n)}}return u.a.useEffect((function(){var t=e.active_path.split("/");if(t.length<=2)a.current=e.active_path;else{var n=t.splice(0,t.length-2);a.current=n.join("/")+"/"}}),[e.active_path]),Object(J.jsx)("tr",{className:"item-tree-table-row"+(e.disabled||e.loading?" disabled":""),children:Object(J.jsx)("td",{className:(e.selected?"selected":"")+(""!==l?" display-error":""),onClick:function(){!e.disabled&&e.handleClickRow(e.item)},children:Object(J.jsxs)("div",{className:"row-div",children:[e.item.level>0&&Object(J.jsx)("div",{className:"divider-move-row",style:function(){return{width:(t=e.item.level,24*t).toString()+"px"};var t}()}),e.item.numberOfChildren>0&&Object(J.jsx)(T.a,{variant:"std",className:"ml-n4 expand-folder-btn",size:"sm",disabled:e.disabled||e.loading,onClick:function(t){return e.handleClickExpand(t,e.item)},children:e.item.expanded?Object(J.jsx)(q,{}):Object(J.jsx)(G,{})}),e.item.level>0?Object(J.jsx)(L.a,{className:"folder-icon"}):Object(J.jsx)(W.a,{spaceState:"OPEN",size:K.a.Small,spaceTechnology:e.spaceTechnology}),e.editing?Object(J.jsxs)(P.a,{children:[Object(J.jsx)(I.a,{id:"form-input-new-folder-name",placeholder:"Add a folder name",defaultValue:e.item.name,type:"text","aria-label":"Add a folder name",minLength:x.c.MIN,maxLength:x.c.MAX,required:!0,pattern:x.a.source,onKeyUp:function(n){var s=Object(x.j)(n.target.value,a.current,e.existingFolders,n.target.validity),r="undefined"===typeof s;i(r),d(s||""),!r||"Enter"!==n.key&&13!==n.keyCode?t.current=n.target.value:p()}}),Object(J.jsx)(I.a.Feedback,{type:"invalid",tooltip:!0,className:""!==l?"display-error-feedback":"",children:l}),Object(J.jsx)(T.a,{variant:"primary",className:"btn-save-new-folder",disabled:!r||e.loading,onClick:p,children:Object(J.jsx)(A.a,{})})]}):e.item.name]})})},e.item.path)};var ee,te=function(e){return Object(J.jsxs)(F.a,{hover:!0,className:"".concat(e.className?e.className+" ":"","w3s-tabletree"),size:"sm",children:[!!e.headerChild&&Object(J.jsx)("thead",{children:e.headerChild}),Object(J.jsx)("tbody",{children:e.loading||0!==e.tableItems.length?e.tableItems.map((function(t){return Object(J.jsx)($,{item:t,disabled:!!e.disabled,editing:!!e.editItemPath&&e.editItemPath===t.path,selected:!!e.selectedItemPath&&e.selectedItemPath===t.path,loading:!!e.loading,existingFolders:e.tableItems,active_path:e.selectedItemPath,spaceTechnology:e.spaceTechnology,handleClickExpand:e.onClickExpand,handleClickRow:e.onClickRow,handleClickSaveNewFolder:e.onClickSaveNewFolder?e.onClickSaveNewFolder:function(){}},t.path)})):Object(J.jsx)("tr",{children:Object(J.jsx)("td",{children:"Looks like you don't have any items!"})},"123456")}),!!e.footerChild&&Object(J.jsx)("tfoot",{children:e.footerChild})]})},ae=a(189),ne=a(606);a(689);!function(e){e[e.NONE=0]="NONE",e[e.NO_FOLDERS=1]="NO_FOLDERS",e[e.SAME_AS_SELECTED=2]="SAME_AS_SELECTED"}(ee||(ee={}));var se=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).allFolders=void 0,n.addNewFolder=Object(i.a)(Object(r.a)().mark((function e(){var t,a,s,i,c,o,l,d;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=n.state.selectedFolder||n.state.folders[0]).level<x.b.MAX)){e.next=19;break}if(a=Object(x.g)(t.path,n.getChildFolders(t.path,t.level)),""===(s=t.path.split("/"))[s.length-1]&&s.pop(),i=s.join("/")+"/"+a+"/",c=Object(x.f)({name:a,path:i,rel_path:Object(x.d)(i),space_id:n.props.spaceId,level:t.level+1}),n.allFolders.push(c),t.numberOfChildren++,t.expanded){e.next=14;break}return e.next=12,n.clickExpanded(void 0,t);case 12:e.next=18;break;case 14:o=n.state.folders,l=function(e){return t.path===e.path},d=o.findIndex(l),o.splice(d+1,0,c);case 18:n.setState({folders:n.state.folders},(function(){n.setState({editing:!0,editFolder:c,tipText:n.setTipText(ee.NONE),displayTip:ee.NONE},(function(){n.selectRow(c)}))}));case 19:case"end":return e.stop()}}),e)}))),n.clickExpanded=function(e,t){return e&&e.stopPropagation(),new Promise((function(e,a){if(t.numberOfChildren>0){t.expanded=!t.expanded;var r=n.state.folders,i=r.findIndex((function(e){return t.path===e.path})),c=!1;t.expanded?r.splice.apply(r,[i+1,0].concat(Object(s.a)(Object(x.i)(n.getChildFolders(t.path,t.level))))):(c=n.setAllToCollapsed(t),r.splice(i+1,n.numberOfChildrenDisplayed(t,i+1))),n.setState({folders:r},(function(){c&&n.selectRow(t),e(!0)}))}else e(!1)}))},n.setAllToCollapsed=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.expanded=!1;var a=t;return n.getChildFolders(e.path,e.level).forEach((function(e){a=e.numberOfChildren>0&&e.expanded&&n.setAllToCollapsed(e,t),e.expanded=!1,t||"undefined"===typeof n.state.selectedFolder||n.state.selectedFolder.path!==e.path||(t=!0)})),t||a||!1},n.collapseAllFolders=function(){n.state.folders.filter((function(e){return 1===e.level})).forEach((function(e){e.expanded&&n.clickExpanded(void 0,e)}))},n.numberOfChildrenDisplayed=function(e,t){for(var a=0,s=t,r=n.state.folders.length;s<r&&n.state.folders[s].level>e.level;)a+=1,s+=1;return a},n.selectRow=function(e){return new Promise((function(t,a){var s;if((null===(s=n.state.selectedFolder)||void 0===s?void 0:s.path)===e.path)t(!0);else{var r=n.state.displayTip;n.state.displayTip===ee.NONE?e.path===n.props.active_path&&(r=ee.SAME_AS_SELECTED):n.state.displayTip===ee.SAME_AS_SELECTED&&(r=ee.NONE),n.setState({selectedFolder:e,tipText:n.setTipText(r),displayTip:r},(function(){t(!0)}))}}))},n.saveNewFolder=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({loading:!0},Object(i.a)(Object(r.a)().mark((function e(){var a,s,i,c,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){var t;return(null===(t=n.state.selectedFolder)||void 0===t?void 0:t.path)===e.path},s=n.allFolders.findIndex(a),i=t.path,e.next=5,Object(x.h)(i,n.props.main_state);case 5:"undefined"!==typeof(c=e.sent).data._update_main_state&&n.props.updateMainBulkState(c.data._update_main_state),"undefined"!==typeof c.data._update_space&&null!==c.data._update_space&&n.props.updateSpace(c.data._update_space),"0"!==c.error.code?"quota"===(null===(o=c.error)||void 0===o?void 0:o.context)?(n.props.addQuotaError(c.error,t),n.handleClose()):(n.props.addNotification({id:Object(_.g)(),dismissed:!1,type:"error",header:"Create folder error",body:"".concat(c.error.description)}),n.setState({loading:!1,editing:!1,editFolder:void 0,errorMessage:c.error.description})):(n.allFolders[s]=t,n.props.addNotification({id:Object(_.g)(),dismissed:!1,type:"success",header:"Created folder",body:Object(J.jsxs)(J.Fragment,{children:["Your folder ",Object(J.jsx)("strong",{children:t.name})," was successfully created."]})}),n.props.setProcessingStatus(i,j.a.NewFolder),n.setState({loading:!1,editing:!1,editFolder:void 0}));case 9:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleOpen=function(){return n.setState({loading:!0}),new Promise((function(e,t){var a;n.allFolders=((a=n.props.space_folders.map((function(e){return Object(x.f)(e)}))).forEach((function(e){var t=e.path.split("/");""===t[t.length-1]?e.level=e.path.split("/").length-2:e.level=e.path.split("/").length-1})),a),n.allFolders.forEach((function(e){e.numberOfChildren=n.getChildFolders(e.path,e.level).length}));var s=Object(x.f)();s.space_id=n.props.spaceId,s.path=n.props.spaceId+"/",s.rel_path="/",s.level=0,s.numberOfChildren=n.getChildFolders(s.path,s.level).length,s.name=n.props.spaceId,s.base_name=n.props.spaceId,n.allFolders.push(s),e(!0)})).then((function(){return Object(x.i)(n.getChildFolders("",0))})).then((function(e){n.setState({folders:e},(function(){var e="",t=n.props.active_path.split("/");return t.forEach(function(){var a=Object(i.a)(Object(r.a)().mark((function a(s,i){var c,o;return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(i<t.length-2)){a.next=8;break}if(e+=s+"/",!(c=n.allFolders.find((function(t){return t.path===e})))){a.next=6;break}return a.next=6,n.clickExpanded(void 0,c);case 6:a.next=14;break;case 8:if(i!==t.length-2){a.next=14;break}if(e+=s+"/",!(o=n.allFolders.find((function(t){return t.path===e})))){a.next=14;break}return a.next=14,n.selectRow(o);case 14:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()),Promise.resolve()}))})).then(Object(i.a)(Object(r.a)().mark((function e(){var t,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ee.NONE,0!==n.space.folders.length){e.next=5;break}t=ee.NO_FOLDERS,e.next=10;break;case 5:if(n.props.active_path!==n.props.spaceId+"/"){e.next=10;break}if(!(a=n.allFolders.find((function(e){return e.path===n.props.spaceId+"/"})))){e.next=10;break}return e.next=10,n.clickExpanded(void 0,a);case 10:t===ee.NONE&&(t=ee.SAME_AS_SELECTED),n.setState({loading:!1,tipText:n.setTipText(t),displayTip:t},(function(){return Promise.resolve()}));case 12:case"end":return e.stop()}}),e)}))))},n.setTipText=function(e){var t="";switch(e){case ee.NO_FOLDERS:t=Object(J.jsxs)(J.Fragment,{children:["No folders yet? Click on ",Object(J.jsx)("strong",{children:"New folder"})," to create one."]});break;case ee.SAME_AS_SELECTED:t="Selected folder is where you are coming from. Try another folder.";break;default:t=""}return t},n.getChildFolders=function(e,t){if(t===x.b.MAX)return[];if(""===e)return n.allFolders.filter((function(e){return e.path===n.props.spaceId+"/"}));var a=e.split("/");return n.allFolders.filter((function(e){if(e.level!==t+1)return!1;var n=e.path.split("/");if(""===a[a.length-1]&&a.pop(),""===n[n.length-1]&&n.pop(),n.length!==a.length+1)return!1;for(var s=0,r=!0;s<a.length&&r;){a[s]!==n[s]&&(r=!1),s++}return r}))},n.handleClose=function(){n.setState({editFolder:void 0,editing:!1,loading:!1,selectedFolder:void 0,folders:[],errorMessage:void 0},(function(){n.allFolders=[],n.props.close()}))},n.handleSubmit=function(e){if(e.preventDefault(),n.props.files&&0!==n.props.files.length){var t=n.props.files&&n.props.files[0];t&&n.setState({loading:!0},Object(i.a)(Object(r.a)().mark((function e(){var a,s,i,c,o,l,d,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(null===(a=n.state.selectedFolder)||void 0===a?void 0:a.path)||n.props.spaceId+"/",i={action:"move",src_path:t.path,dest_path:"",is_folder:!!t.is_folder},t.is_folder?i.dest_path=s:(c=t.path.split("/"),i.dest_path=s+c[c.length-1]),e.next=5,Object(v.fetchSpaces)({url:"/files",method:"POST",data:i});case 5:if(o=e.sent,v.logging.logDebug("MoveFileModal -> handleSubmit -> reqRes: ",o),"undefined"!==typeof o.data._update_main_state&&n.props.updateMainBulkState(o.data._update_main_state),"undefined"!==typeof o.data._update_space&&null!==o.data._update_space&&n.props.updateSpace(o.data._update_space),"0"!==o.error.code){e.next=13;break}n.props.addNotification({id:Object(_.g)(),dismissed:!1,type:"success",header:"Move",body:Object(J.jsxs)(J.Fragment,{children:["Moved ",n.props.files&&n.props.files.length?n.props.files.length:0," ",n.props.files&&(null===(l=n.props.files)||void 0===l?void 0:l.length)<=1?"file":"files"," to the folder"," ",Object(J.jsx)("strong",{children:null===(d=n.state.selectedFolder)||void 0===d?void 0:d.base_name}),"."]})}),e.next=23;break;case 13:p="",e.t0=o.error.code,e.next="PATH_NOT_FOUND"===e.t0?17:"BRAFLWTNAE"===e.t0?19:21;break;case 17:return p="No path provided for ".concat(t.is_folder?"folder":"file","."),e.abrupt("break",22);case 19:return p=Object(J.jsxs)(J.Fragment,{children:["The file ",Object(J.jsx)("strong",{children:t.base_name})," already exist in this location.",Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),"You need to rename one of them before you can move it to this location."]}),e.abrupt("break",22);case 21:p=o.error.description||"Unknown error.";case 22:n.props.addNotification({id:Object(_.g)(),dismissed:!1,type:"error",header:"Move error",body:p});case 23:n.handleClose();case 24:case"end":return e.stop()}}),e)}))))}else v.logging.logError("No item to move.")},n.onClickBreadcrumbItem=function(e){var t=n.state.folders.find((function(t){return t.path===e}))||n.state.selectedFolder||Object(x.f)({path:n.props.spaceId,space_id:n.props.spaceId});n.selectRow(t).then((function(){"undefined"===typeof n.state.selectedFolder?n.collapseAllFolders():n.clickExpanded(void 0,t)}))},n.state={loading:!1,editing:!1,editFolder:void 0,folders:[],selectedFolder:void 0,displayTip:ee.NONE,tipText:""},n.allFolders=[],n}return Object(o.a)(a,[{key:"space",get:function(){var e=this;return this.props.spaces.filter((function(t){return t.id===e.props.spaceId}))[0]}},{key:"spaceTechnology",get:function(){return Object(ne.a)(this.space)}},{key:"headerObject",get:function(){return Object(J.jsx)("tr",{children:Object(J.jsx)("th",{className:"breadcrumb-header",children:Object(J.jsx)(h.a,{folderIsSelected:!("undefined"===typeof this.state.selectedFolder),spaceId:this.props.spaceId,disabled:this.state.editing||this.state.loading,grayBackground:!0,path:"undefined"===typeof this.state.selectedFolder?[]:this.state.selectedFolder.path.split("/"),handleClickItem:this.onClickBreadcrumbItem})})})}},{key:"footerObject",get:function(){return Object(J.jsx)("tr",{children:Object(J.jsxs)("td",{children:[Object(J.jsx)(E,{className:"mr-2 mb-2"})," ",Object(J.jsx)("strong",{children:" Tip: "}),this.state.tipText]})})}},{key:"newFolderObject",get:function(){return Object(J.jsx)("div",{className:" new-folder-btn",children:Object(J.jsx)(v.Button,{variant:"noframe",text:"+ New folder",disabled:this.state.editing||this.state.loading||!("undefined"===typeof this.state.selectedFolder)&&this.state.selectedFolder.level===x.b.MAX,onClick:this.addNewFolder})})}},{key:"render",value:function(){var e,t;return Object(J.jsxs)(ae.a,{show:this.props.show,size:"lg",className:"move-file-modal",scrollable:!0,backdrop:"static",disabled:this.state.editing||this.state.loading||this.props.active_path===(this.state.selectedFolder?this.state.selectedFolder.path:this.props.spaceId+"/"),loading:this.state.loading,title:"Move ".concat(this.props.files&&this.props.files.length||0," item").concat(this.props.files&&this.props.files.length>1?"s":""," to folder"),okText:this.props.files&&1===this.props.files.length?"Move item":"Move items",forceFullScreenOnMedium:!0,handleClose:this.handleClose,handleShow:this.handleOpen,handleOk:this.handleSubmit,preExtraButtons:this.props.removeCreateNewFolder?void 0:this.newFolderObject,children:[!!this.state.errorMessage&&Object(J.jsx)(b.a,{variant:"danger",children:this.state.errorMessage}),!this.state.errorMessage&&Object(J.jsx)("div",{className:"rounded-table-wrapper ",children:Object(J.jsx)(te,{className:"rounded-table",headerChild:this.headerObject,loading:this.state.loading,editItemPath:null===(e=this.state.editFolder)||void 0===e?void 0:e.path,selectedItemPath:(null===(t=this.state.selectedFolder)||void 0===t?void 0:t.path)||this.props.spaceId+"/",disabled:this.state.editing,spaceTechnology:this.spaceTechnology,tableItems:this.state.folders,onClickExpand:this.clickExpanded,onClickRow:this.selectRow,onClickSaveNewFolder:this.saveNewFolder})}),this.state.displayTip!==ee.NONE&&Object(J.jsxs)("div",{className:"flex-row mt-3 pl-3",children:[Object(J.jsx)(E,{className:"mr-2 mb-2"})," ",Object(J.jsx)("strong",{children:" Tip: "}),this.state.tipText]})]})}}]),a}(u.a.Component);t.a=Object(O.b)((function(e){return{spaces:e.main.spaces,main_state:e.main}}),(function(e){return Object(g.bindActionCreators)({addNotification:f.a,updateMainBulkState:m.q,updateSpace:m.r,addQuotaError:M.a,setProcessingStatus:m.o},e)}))(se)},732:function(e,t,a){"use strict";var n=a(19),s=a(38),r=a(43),i=a(2),c=a(793),o=a(589),l=a(28),d=a(84),p=a(18),u=a(47),b=a(78),h=a(598),j=a(130),f=a(608),m=a(29),O=a(189),g=a(694),_=a.n(g),v=a(649),x=a(4);var C=function(e){var t=Object(i.useState)(!1),a=Object(r.a)(t,2),n=a[0],s=a[1];return Object(i.useEffect)((function(){s(e.selected)}),[e.selected]),Object(x.jsx)("div",{id:e.id,className:_.a.outer_border+(n?" "+_.a.selected:""),children:Object(x.jsxs)("div",{className:_.a.file_type_item+(n?" "+_.a.selected:"")+(e.disabled?" "+_.a.disabled:"")+(e.className?" "+e.className:""),onClick:function(){return!e.disabled&&e.onClick(e.returnValue)},children:[Object(x.jsx)("div",{className:_.a.selected_group,children:Object(x.jsx)("div",{className:_.a.selected_icon,children:Object(x.jsx)(v.a,{})})}),Object(x.jsx)("div",{className:_.a.header,children:Object(x.jsx)("div",{children:e.header})}),Object(x.jsx)("div",{className:_.a.description,children:Object(x.jsx)("div",{children:e.description})})]})})},y=a(633),w=a(695),k=a.n(w),N="new-file";t.a=function(e){var t=Object(l.d)((function(e){return e.main})),a=Object(l.c)(),g=Object(i.useState)(y.a.Default),_=Object(r.a)(g,2),v=_[0],w=_[1],S=Object(i.useState)(!1),E=Object(r.a)(S,2),M=E[0],F=E[1],D=Object(i.useState)(!0),T=Object(r.a)(D,2),P=T[0],I=T[1],L=Object(i.useState)(),A=Object(r.a)(L,2),H=A[0],R=A[1],V=Object(i.useState)(void 0),B=Object(r.a)(V,2),U=B[0],Z=B[1],q=Object(i.useState)(N),z=Object(r.a)(q,2),Q=z[0],Y=z[1],X=Object(i.useState)("html"),G=Object(r.a)(X,2),W=G[0],K=G[1],J=Object(i.useState)(!1),$=Object(r.a)(J,2),ee=$[0],te=$[1],ae=Object(i.useState)(),ne=Object(r.a)(ae,2),se=ne[0],re=ne[1],ie=Object(i.useMemo)((function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("strong",{children:"More file formats?"})," Just rename an existing text file to one of the supported extensions.",Object(x.jsx)("a",{className:k.a.more_info_link,href:"https://support.w3schools.com/hc/en-gb/articles/4410407391761",target:"_blank",rel:"nofollow noopener noreferrer",children:"Learn more"})]})}),[]),ce=Object(i.useState)(!0),oe=Object(r.a)(ce,2),le=oe[0],de=oe[1];Object(i.useEffect)((function(){le&&(de(!1),re(ie))}),[ie,le]);var pe=Object(i.useMemo)((function(){var t=[],a=e.spaceVariantType;switch(e.spaceVariantType===p.d.NONE&&(a=e.spaceTechnology),a){case p.d.REACT:t=[{extension:"tsx",header:".tsx",description:"Script content"},{extension:"ts",header:".ts",description:"Script content"},{extension:"scss",header:".scss",description:"Style content"}];break;case p.d.VUE:t=[{extension:"vue",header:".vue",description:"Structure, script and style content"},{extension:"html",header:".html",description:"Structure content"},{extension:"css",header:".css",description:"Style content"}];break;case p.d.HANDLEBARS:t=[{extension:"hbs",header:".hbs",description:"Handlebars content"}],e.spaceTechnology===p.d.PHP?t.push({extension:"php",header:".php",description:"Script content"}):e.spaceTechnology===p.d.PYTHON?t.push({extension:"py",header:".py",description:"Script content"}):t.push({extension:"js",header:".js",description:"Script content"}),t.push({extension:"css",header:".css",description:"Style content"});break;case p.d.PYTHON:t=[{extension:"py",header:".py",description:"Script content"},{extension:"html",header:".html",description:"Structure content"},{extension:"css",header:".css",description:"Style content"}];break;case p.d.PHP:t=[{extension:"php",header:".php",description:"Script content"},{extension:"html",header:".html",description:"Structure content"},{extension:"css",header:".css",description:"Style content"}];break;default:e.spaceTechnology===p.d.PHP?t.push({extension:"php",header:".php",description:"Script content"}):e.spaceTechnology===p.d.PYTHON?t.push({extension:"py",header:".py",description:"Script content"}):t=[{extension:"html",header:".html",description:"Structure content"}],t.push({extension:"css",header:".css",description:"Style content"}),t.push({extension:"js",header:".js",description:"Script content"})}return K(t[0].extension),t}),[e.spaceTechnology,e.spaceVariantType]);function ue(){return Boolean(void 0===H)}function be(e){K(e)}function he(e){e.preventDefault(),M||(F(!0),te(!0))}var je=Object(i.useCallback)((function(){F(!1),I(!0),Z(void 0),Y(N),R(void 0),e.close()}),[e]),fe=Object(i.useCallback)((function(t){var a=t+("/"===t.charAt(t.length-1)?"":"/");if(void 0===e.space.files)return"".concat(a).concat(Q,".").concat(W);var n=(Q+"."+W).toLowerCase();if(!e.space.files.some((function(e){return e.base_name_lowercased===n})))return"".concat(a).concat(n);for(var s=Q,r=1;r<100;r++)if(s="".concat(Q,"-").concat(r,".").concat(W),!e.space.files.some((function(e){return e.path===a+s})))return"".concat(a).concat(s);return"".concat(a).concat(s)}),[Q,e.space,W]),me=Object(i.useCallback)(Object(s.a)(Object(n.a)().mark((function s(){var r,i,c,o,l,j,f,O,g,_,v,x;return Object(n.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(c=d.h(fe(e.active_path))).processing=!0,a(Object(b.a)([c])),n.next=5,d.g(c,t);case 5:if("undefined"!==typeof(o=n.sent).data._update_main_state&&a(Object(b.q)(o.data._update_main_state)),"undefined"!==typeof o.data._update_space&&null!==o.data._update_space&&a(Object(b.r)(o.data._update_space)),"0"===(null===(r=o.error)||void 0===r?void 0:r.code)){n.next=13;break}return"quota"===(null===(l=o.error)||void 0===l?void 0:l.context)?j=a(Object(h.a)(o.error,c)):(a(Object(u.a)({id:Object(m.g)(),dismissed:!1,type:"error",header:"Upload error",body:null===(f=o.error)||void 0===f?void 0:f.description})),j=null===(O=o.error)||void 0===O?void 0:O.description),a(Object(b.o)(c,p.a.Error,j)),F(!1),n.abrupt("return");case 13:return n.next=15,d.r(o.data.url,c);case 15:return n.next=17,d.q(c,t);case 17:if("undefined"!==typeof(g=n.sent).data._update_main_state&&a(Object(b.q)(g.data._update_main_state)),"undefined"!==typeof g.data._update_space&&null!==g.data._update_space&&(g.data._update_space.files=g.data._update_space.files.map((function(e){return e.path===g.data.file.Key&&(e.last_modified=new Date(g.data.file.LastModified),e.processing_status=p.a.Uploaded),e})),a(Object(b.r)(g.data._update_space))),"0"===(null===(i=g.error)||void 0===i?void 0:i.code)){n.next=25;break}return"quota"===(null===(_=g.error)||void 0===_?void 0:_.context)?a(Object(h.a)(g.error,c)):a(Object(u.a)({id:Object(m.g)(),dismissed:!1,type:"error",header:"Upload error",body:null===(x=g.error)||void 0===x?void 0:x.description})),a(Object(b.o)(c,p.a.Error,null===(v=g.error)||void 0===v?void 0:v.description)),F(!1),n.abrupt("return");case 25:c.processing=!1,je();case 27:case"end":return n.stop()}}),s)}))),[a,fe,je,t,e.active_path]);return Object(i.useEffect)((function(){if(ee){te(!1);var n=f.c(t,e.space,"file");if("0"!==n.code)return"quota"===n.context?a(Object(h.a)(n)):a(Object(j.a)({id:Object(m.g)(),dismissed:!1,type:"error",header:Object(x.jsx)(x.Fragment,{children:"Space temporarily closed"}),body:Object(x.jsx)(x.Fragment,{children:n.description}),dismissButtonText:"Got it"})),void F(!1);me()}}),[me,a,M,t,e.space,ee]),Object(x.jsxs)(O.a,{show:e.show,className:k.a.new_file_modal,title:"Create a new file",size:"lg",disabled:M||P&&!ue(),loading:M,okText:"Create file",handleOk:he,handleClose:je,children:[Object(x.jsx)("div",{className:k.a.file_type_group,children:pe.map((function(e){return Object(x.jsx)(C,{selected:W===e.extension,returnValue:e.extension,header:e.header,description:e.description,onClick:be,className:k.a.file_type_item,disabled:M||P&&!ue()},"FileType_"+e.extension)}))}),Object(x.jsx)("p",{children:"What do you want to call this file?"}),Object(x.jsxs)(c.a,{onSubmit:he,children:[Object(x.jsxs)("div",{className:k.a.form_control_group,children:[Object(x.jsx)(c.a.Control,{type:"text",value:Q,onChange:function(t){var a,n=t.target.value,s=Object(d.p)(n);"html"===W&&"index"===n.toLowerCase()?s?(re(Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("strong",{children:"Note!"})," ",e.active_path.split("/").length>2?"The filename need to be all lowercase and located in the root of the space for it to be used as a landing page for your space.":"The filename need to be all lowercase for it to be used as a landing page for your space."]})),w(y.a.Destructive)):e.active_path.split("/").length>2?(re(Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("strong",{children:"Note!"})," The file needs to be located in the root of the space for it to be used as a landing page for your space."]})),w(y.a.Destructive)):(de(!0),w(y.a.Default)):(de(!0),w(y.a.Default)),a=/^\s+$/.test(Q)||0===n.length?"Can not have an empty file name.":d.s(n+"."+W,e.space.files,e.active_path),Z(void 0),Y(n),R(a)},disabled:M,placeholder:"Enter a name for your file",isInvalid:P&&!ue(),minLength:d.b.MIN,maxLength:d.b.MAX}),Object(x.jsx)(c.a.Text,{className:k.a.extension_text,children:".".concat(W)})]}),P&&!!H&&Object(x.jsx)(c.a.Text,{className:"rename-validation-error",children:H})]}),U&&Object(x.jsx)(o.a,{variant:"danger",children:U}),!U&&Object(x.jsx)(y.b,{variant:v,children:!!se&&se})]})}},794:function(e,t,a){"use strict";a.r(t);var n=a(129),s=a(8),r=a(19),i=a(38),c=a(43),o=a(2),l=a(615),d=a(613),p=a(318),u=a.n(p),b=a(652),h=a(5),j=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var a,n,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://dynspaces-api.w3sdevelop.com/api2/dynamic-spaces/",s=Object(b.b)("accessToken")[0],t.baseURL="https://dynspaces-api.w3sdevelop.com/api2/dynamic-spaces/",t.headers||(t.headers={}),t.method||(t.method="GET"),null!==(a=t.headers)&&void 0!==a&&a["Content-Type"]||(t.headers["Content-Type"]="application/json"),null!==(n=t.headers)&&void 0!==n&&n.Authorization||(h.logging.logDebug("dynamicSpacesUserApi -> attaching accessToken"),t.headers.Authorization="Bearer ".concat(s)),h.logging.logDebug("prs: ",t),e.abrupt("return",u()(t).then((function(e){return Promise.resolve(f(e))})).catch((function(e){return Promise.resolve(m(e))})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return{status:e.status,data:e.data}},m=function(e){return{status:e.response.status,data:e.response.data}},O=a(28),g=a(47),_=a(29),v=a(614),x=a(699),C=a.n(x),y=a(4),w=function(e){var t=e.tableName,a=e.handleOnClick,n=e.handleOnClickDelete,s=e.disable,r=e.selectedTable;return Object(y.jsx)("div",{children:Object(y.jsxs)("div",{onClick:function(e){a(e,t)},className:"".concat(C.a.tables_buttons," ").concat(s?C.a.disable:""," ").concat(r===t?C.a.select:""),children:[Object(y.jsx)("span",{className:C.a.tables_buttons_text,children:t}),Object(y.jsx)("div",{className:"".concat(C.a.delete_table_button," ").concat(s?C.a.disable:""),onClick:function(e){n(e,t)},children:Object(y.jsx)(v.a,{})})]})})},k=a(700),N=a.n(k),S=a(18),E={data:{tables:null,table:{}}},M=function(e){return Object(S.f)("Settings::setUserTables",e)},F=function(e){return Object(S.f)("Settings::setUserTable",e)};function D(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(h.logging.logDebug("SettingsReducer -> action: ",a.type),a.type){case"Settings::setUserTables":return h.logging.logDebug("settingsReducer -> Settings:setUserTables -> action.payload: ",a.payload),Object(s.a)(Object(s.a)({},t),{},{data:Object(s.a)(Object(s.a)({},t.data),{},{tables:a.payload})});case"Settings::setUserTable":h.logging.logDebug("settingsReducer -> Settings:setUserTable -> action.payload: ",a.payload);var r=a.payload.page,i=Object(s.a)(Object(s.a)({},(null===(e=t.data.table[a.payload.tableName])||void 0===e?void 0:e.page)||{}),{},Object(n.a)({},r,a.payload.rows));return Object(s.a)(Object(s.a)({},t),{},{data:Object(s.a)(Object(s.a)({},t.data),{},{table:Object(s.a)(Object(s.a)({},t.data.table),{},Object(n.a)({},a.payload.tableName,{page:Object(s.a)({},i),nextPage:a.payload.nextPage}))})});default:return t}}var T=a(688),P=(a(701),function(e){e.tableName;var t,a=e.tableRows,n=function(e){return Object.keys(e).map((function(t){return Object(y.jsx)("td",{children:e[t]})}))};return Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"w3-table-wrapper"+(0===a.length?" empty":""),id:"w3-table-wrapper",children:0===a.length?Object(y.jsx)("div",{className:"empty-table-text",children:"No data in table"}):Object(y.jsxs)(T.a,{bordered:!0,children:[Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{children:(t=a[0],Object.keys(t).map((function(e){return Object(y.jsx)("th",{className:"header-grey",children:e})})))})}),Object(y.jsx)("tbody",{children:a.map((function(e){return Object(y.jsx)("tr",{children:n(e)})}))})]})})})}),I=a(189),L=a(621),A=a(192),H=a(626),R=a(1254),V=a(793),B=a(702),U=a.n(B),Z=function(e){var t=e.displayCreateTableModal,a=e.handleCloseCreateTableModal,r=e.handleOnSubmitCreateTable,i=e.createTableLoading,l=e.tables,d=Object(o.useState)(""),p=Object(c.a)(d,2),u=p[0],b=p[1],h=Object(o.useState)({1:"",2:"",3:"",4:""}),j=Object(c.a)(h,2),f=j[0],m=j[1],O=Object(o.useState)(4),g=Object(c.a)(O,2),_=g[0],x=g[1],C=Object(o.useState)({}),w=Object(c.a)(C,2),k=w[0],N=w[1],S=Object(o.useState)(""),E=Object(c.a)(S,2),M=E[0],F=E[1],D=Object(o.useState)(!1),T=Object(c.a)(D,2),P=T[0],B=T[1],Z=Object(o.useState)(!1),q=Object(c.a)(Z,2),z=q[0],Q=q[1],Y=function(e){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:U.a.remove_column_button,onClick:function(t){t.preventDefault();f[e];var a=Object(A.a)(f,[e].map(H.a));m(a)},children:Object(y.jsx)(v.a,{})})})};return Object(y.jsx)(y.Fragment,{children:t&&Object(y.jsx)(I.a,{title:"New table",backdrop:"static",cancelText:"Cancel",okText:"Create",show:t,okButtonVariant:"primary",loading:i,handleClose:a,handleOk:function(e){e.preventDefault(),B(!1),function(e){var t=!0,a=!0,r={};F("");var i=Object.keys(e).filter((function(t){for(var a=0,n=Object.entries(e);a<n.length;a++){var s=Object(c.a)(n[a],2),r=s[0],i=s[1];if(r!==t&&i===e[t])return!0}return!1}));i.length>0&&(i.forEach((function(e){r=Object(s.a)(Object(n.a)({},e,"Duplicate column name - Please change!"),r)})),t=!1);for(var o=0,d=Object.entries(e);o<d.length;o++){var p=Object(c.a)(d[o],2),b=p[0],h=p[1];/^[0-9]/g.test(h)&&(r=Object(s.a)(Object(n.a)({},b,"Column name cannot start with a number - Please change!"),r),t=!1),""===h&&(r=Object(s.a)(Object(s.a)({},r),{},Object(n.a)({},b,"Please input a column name...")),t=!1)}return""===u&&(F("Please input a table name..."),t=!1,a=!1),null!==l&&void 0!==l&&l.map((function(e){return e.name})).includes(u)&&(F("Table already exists - Please change name..."),t=!1,a=!1),B(!t),Q(a),N(r),t}(f)&&r(f,u)},children:Object(y.jsx)("div",{className:U.a.form_wrapper,children:Object(y.jsxs)(V.a,{children:[Object(y.jsxs)(V.a.Group,{className:U.a.form_group,children:[Object(y.jsx)(V.a.Label,{children:"Table"}),Object(y.jsx)(V.a.Control,{type:"text",value:u,onChange:function(e){b(e.target.value.replace(/[^\w]/g,""))},className:P&&M?"invalid":"",placeholder:"Enter table name...",isValid:z}),P&&Object(y.jsx)("div",{className:U.a.table_error_text,children:M})]}),Object(y.jsxs)("div",{className:U.a.column_header_text,children:["Columns ",Object(y.jsx)("span",{children:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:U.a.add_column_button_text,children:"Add"}),Object(y.jsx)("div",{className:U.a.add_column_button,onClick:function(e){e.preventDefault(),x(_+1),m(Object(s.a)(Object(s.a)({},f),{},Object(n.a)({},"".concat(_+1),"")))},children:Object(y.jsx)(L.a,{width:"16",height:"16"})})]})})]}),Object(y.jsx)("div",{className:U.a.column_input_wrapper,children:Object(y.jsx)(y.Fragment,{children:Object.keys(f).map((function(e,t){return Object(y.jsxs)("div",{children:[Object(y.jsxs)(R.a,{className:U.a.input_group,children:[Object(y.jsx)(V.a.Control,{className:P&&k[e]?"invalid":"",type:"text",value:f[e],onChange:function(t){m(Object(s.a)(Object(s.a)({},f),{},Object(n.a)({},e,t.target.value.replace(/[^\w]/g,""))))},placeholder:"Name column ".concat(t+1,"...")}),Object(y.jsxs)(R.a.Append,{className:P&&k[e]?"invalid":"",children:[t>0&&Y(e),0===t&&Object(y.jsxs)("div",{style:{width:"24px",height:"24px",marginLeft:"10px"},children:[" ",""," "]})," "]})]}),P&&k[e]?Object(y.jsxs)("div",{className:U.a.column_error_text,children:[k[e]," "]}):Object(y.jsx)("div",{style:{height:"15px",marginBottom:"5px"}})]},e)}))})})]})}),className:"w3s-create-table-modal"})})};var q=function(){return Object(y.jsx)("svg",{width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(y.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.35355 0.646447C7.54882 0.841709 7.54882 1.15829 7.35355 1.35355L1.70711 7L7.35355 12.6464C7.54882 12.8417 7.54882 13.1583 7.35355 13.3536C7.15829 13.5488 6.84171 13.5488 6.64645 13.3536L0.646447 7.35355C0.451184 7.15829 0.451184 6.84171 0.646447 6.64645L6.64645 0.646447C6.84171 0.451184 7.15829 0.451184 7.35355 0.646447Z",fill:"black"})})};var z=function(){return Object(y.jsx)("svg",{width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(y.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.646447 0.646447C0.841709 0.451184 1.15829 0.451184 1.35355 0.646447L7.35355 6.64645C7.54882 6.84171 7.54882 7.15829 7.35355 7.35355L1.35355 13.3536C1.15829 13.5488 0.841709 13.5488 0.646447 13.3536C0.451184 13.1583 0.451184 12.8417 0.646447 12.6464L6.29289 7L0.646447 1.35355C0.451184 1.15829 0.451184 0.841709 0.646447 0.646447Z",fill:"black"})})},Q=a(36),Y={data:{tables:null,table:{}}};t.default=function(){var e,t,a,p=Object(O.c)(),u=Object(o.useReducer)(D,Y),b=Object(c.a)(u,2),f=b[0],m=b[1],x=f.data,C=x.tables,k=Object(o.useState)(!1),S=Object(c.a)(k,2),E=S[0],T=S[1],A=Object(o.useState)(!1),H=Object(c.a)(A,2),R=H[0],V=H[1],B=Object(o.useState)(!1),U=Object(c.a)(B,2),X=U[0],G=U[1],W=Object(o.useState)(!1),K=Object(c.a)(W,2),J=K[0],$=K[1],ee=Object(o.useState)(!1),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],se=Object(o.useState)(""),re=Object(c.a)(se,2),ie=re[0],ce=re[1],oe=Object(o.useState)(""),le=Object(c.a)(oe,2),de=le[0],pe=le[1],ue=Object(o.useState)(0),be=Object(c.a)(ue,2),he=be[0],je=be[1],fe=Object(o.useState)(!1),me=Object(c.a)(fe,2),Oe=me[0],ge=me[1],_e=Object(o.useState)(!1),ve=Object(c.a)(_e,2),xe=ve[0],Ce=ve[1],ye=Object(Q.i)().spaceId,we=Object(o.useState)({}),ke=Object(c.a)(we,2),Ne=ke[0],Se=ke[1],Ee=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.logging.logDebug("Data-view -> Fetching tables"),V(!0),e.next=4,j({url:"".concat(t,"/user-sqlite-database/tables"),method:"GET"});case 4:200===(a=e.sent).status?(h.logging.logDebug("reqRes: ",a.data),null===a.data?(T(!0),m(M([]))):(h.logging.logDebug("disaptch -> Settings::setUserTables"),m(M(a.data.tables)),T(!1))):p(Object(g.a)({id:Object(_.g)(),dismissed:!1,type:"error",header:"Fetch database tables error",body:Object(y.jsx)("span",{children:a.data.message||a.data.errorMessage})})),V(!1),h.logging.logDebug("Data-view -> Fetching tables done");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){C||Ee(ye)}),[p,m,C]);var Me=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,a,i){var c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.logging.logDebug("Fetching table page: ",i),G(!0),e.next=4,j({url:"".concat(t,"/user-sqlite-database/table/").concat(a,"/").concat(i,"/300"),method:"GET"});case 4:200===(c=e.sent).status?(h.logging.logDebug("dispatch -> Settings::setUserTable"),h.logging.logDebug("reqRes: ",c.data),null===c.data?(h.logging.logDebug("Date-view -> empty table"),Se(Object(s.a)(Object(s.a)({},Ne),{},Object(n.a)({},a,0))),m(F({tableName:a,rows:[],page:0,nextPage:null}))):(m(F({tableName:a,rows:c.data.table,page:i,nextPage:c.data.nextPage})),null===c.data.nextPage&&Se(Object(s.a)(Object(s.a)({},Ne),{},Object(n.a)({},a,i)))),h.logging.logDebug("settings -> data -> maxPage: ",Ne)):p(Object(g.a)({id:Object(_.g)(),dismissed:!1,type:"error",header:"Fetch table error",body:Object(y.jsx)("span",{children:c.data.message||c.data.errorMessage})})),G(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,a){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),n=ie,e.next=4,j({url:"".concat(t,"/user-sqlite-database/table"),method:"DELETE",data:JSON.stringify({tableName:a})});case 4:200===e.sent.status&&p(Object(g.a)({id:Object(_.g)(),dismissed:!1,type:"success",header:"Delete table success",body:Object(y.jsx)(y.Fragment,{children:'Table "'.concat(a,'" has been deleted')})})),$(!1),ge(!1),ce(a===n?"":n),Ee(t);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),De=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,a,n){var s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne(!0),null===C||void 0===C||!C.map((function(e){return e.name})).includes(a)){e.next=6;break}return p(Object(g.a)({id:Object(_.g)(),dismissed:!1,type:"error",header:"Create table error",body:Object(y.jsx)(y.Fragment,{children:"Table already exists"})})),Ce(!1),ne(!1),e.abrupt("return");case 6:return e.next=8,j({url:"".concat(n,"/user-sqlite-database/table"),method:"POST",data:JSON.stringify({tableSchema:{schema:t,tableName:a}})});case 8:200===(s=e.sent).status?(p(Object(g.a)({id:Object(_.g)(),dismissed:!1,type:"success",header:"Create table success",body:Object(y.jsx)(y.Fragment,{children:'Table "'.concat(a,'" has been created')})})),h.logging.logDebug("Data-view -> selecting created table"),ce(a),T(!1)):(p(Object(g.a)({id:Object(_.g)(),dismissed:!1,type:"error",header:"Create table error",body:Object(y.jsx)("span",{children:s.data.message||s.data.errorMessage})})),ce("")),ne(!1),Ce(!1),Ee(n),Me(n,a,0);case 14:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Te=function(e,t){var a,n;e.preventDefault(),ce(t),h.logging.logDebug("Table Name: ",t),je(0),null!==(a=x.table[t])&&void 0!==a&&null!==(n=a.page)&&void 0!==n&&n[0]||Me(ye,t,0)},Pe=function(e,t){e.preventDefault(),e.stopPropagation(),ge(!0),pe(t)};return Object(y.jsxs)("div",{className:N.a.data_wrapper,children:[Oe&&Object(y.jsxs)(I.a,{title:'Delete table "'.concat(de,'"?'),size:"lg",backdrop:"static",cancelText:"Keep table",okText:"Delete table",show:Oe,okButtonVariant:"destructive",loading:J,handleClose:function(){return ge(!1)},handleOk:function(){Fe(ye,de)},children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("strong",{children:"WARNING! "}),"this action cannot be reverted. All records in table will be ",Object(y.jsx)("strong",{children:"lost"}),"."]}),Object(y.jsxs)("div",{style:{marginTop:"25px"},children:["Are you sure you want to delete table ",'"'.concat(de,'"'),"?"]})]}),xe&&Object(y.jsx)(Z,{displayCreateTableModal:xe,handleCloseCreateTableModal:function(){Ce(!1)},handleOnSubmitCreateTable:function(e,t){var a=Object.keys(e).map((function(t){return{columnName:e[t],dataType:"",columnConstrain:""}}));De(a,t,ye)},createTableLoading:ae,tables:C||[]},"create-table"),Object(y.jsxs)("div",{className:N.a.tables_buttons_wrapper,children:[Object(y.jsxs)(l.a,{className:N.a.tables_buttons_header_text,children:["DATA",Object(y.jsx)("div",{className:N.a.create_table_button+" "+(R?N.a.disabled:""),onClick:function(e){!function(e){e.preventDefault(),Ce(!0)}(e)},children:Object(y.jsx)(L.a,{})})]}),R||!C?Object(y.jsx)(l.a,{className:N.a.fetch_tables_spinner+" w3-fetch-tables-spinner-override"+(E?" ".concat(N.a.hide):""),children:Object(y.jsx)(h.Spinner,{size:"medium"})}):C.map((function(e){return Object(y.jsx)(l.a,{style:{maxHeight:"46px",marginBottom:"10px"},children:Object(y.jsx)(w,{tableName:e.name,handleOnClick:Te,handleOnClickDelete:Pe,disable:X,selectedTable:ie})},e.name)}))]}),Object(y.jsxs)("div",{className:N.a.table_wrapper,children:[""!==ie&&Object(y.jsxs)(l.a,{className:N.a.table_header,children:[Object(y.jsx)(d.a,{className:N.a.table_header_text,children:ie}),Object(y.jsxs)(d.a,{className:N.a.table_next_prev_buttons,children:[Object(y.jsx)("div",{className:N.a.prev_button+" "+(0===he||X?N.a.prev_button_disable:""),onClick:function(e){!function(e,t){e.preventDefault(),h.logging.logDebug("prev page: ",t),t>0&&je(t-1)}(e,he)},children:Object(y.jsx)(q,{})}),Object(y.jsx)("div",{className:N.a.page_number,children:he+1}),Object(y.jsx)("div",{className:N.a.next_button+" "+(he===Ne[ie]||X?N.a.next_button_disable:""),onClick:function(e){!function(e,t,a){var n,s;e.preventDefault(),null!==a&&(je(a),null!==(n=x.table[ie])&&void 0!==n&&null!==(s=n.page)&&void 0!==s&&s[a]||Me(ye,t,a))}(e,ie,null===Ne[ie]||he!==Ne[ie]?he+1:null)},children:Object(y.jsx)(z,{})})]}),Object(y.jsx)(d.a,{className:N.a.second_delete_button_col,children:Object(y.jsxs)("button",{className:N.a.second_delete_button,onClick:function(e){Pe(e,ie),e.target.blur()},children:["DELETE",Object(y.jsx)(v.a,{width:"16",height:"16"})]})})]}),X?Object(y.jsx)("div",{className:N.a.fetch_table_page_spinner,children:Object(y.jsx)(h.Spinner,{size:"large"})}):""!==ie&&null!==(e=x.table)&&void 0!==e&&null!==(t=e[ie])&&void 0!==t&&null!==(a=t.page)&&void 0!==a&&a[he]?Object(y.jsx)(P,{tableName:ie,tableRows:x.table[ie].page[he]}):E?Object(y.jsx)("div",{className:N.a.database_empty_text,children:"Database is empty"}):Object(y.jsx)("div",{className:N.a.no_table_selected_text,children:"Please select a table"})]})]})}},823:function(e,t,a){},824:function(e,t,a){},825:function(e,t,a){e.exports={wrapper:"MobileFilePanel_wrapper__35T0D",menuChild:"MobileFilePanel_menuChild__ujK7i",upgrade_menu_item:"MobileFilePanel_upgrade_menu_item__3xe3V"}}}]);
//# sourceMappingURL=17.724de09f.chunk.js.map